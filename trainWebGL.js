!function(A){"use strict";var t,e={},s=function(){return ui.__string_rec(this,"")},i=i||{};function r(A,t){var e=Object.create(A);for(var s in t)e[s]=t[s];return t.toString!==Object.prototype.toString&&(e.toString=t.toString),e}var n=function(A,t){this.r=new RegExp(A,t.split("u").join(""))};e.EReg=n,n.__name__="EReg",n.prototype={match:function(A){return this.r.global&&(this.r.lastIndex=0),this.r.m=this.r.exec(A),this.r.s=A,null!=this.r.m},matched:function(A){if(null!=this.r.m&&A>=0&&A<this.r.m.length)return this.r.m[A];throw de.thrown("EReg::matched")},__class__:n};var a=function(A){this.blendMode=U.Alpha,this.alpha=1,this.visible=!0,this.rotation=0,this.scaleY=1,this.scaleX=1,this.y=0,this.x=0,this.matA=1,this.matB=0,this.matC=0,this.matD=1,this.absX=0,this.absY=0,this.posChanged=null!=A,this.children=[],null!=A&&A.addChild(this)};e["h2d.Object"]=a,a.__name__="h2d.Object",a.prototype={getBounds:function(A,t){return null==t?t=new AA:(t.xMin=1e20,t.yMin=1e20,t.xMax=-1e20,t.yMax=-1e20),null!=A&&A.syncPos(),A!=this&&this.syncPos(),this.getBoundsRec(A,t,!1),(t.xMax<=t.xMin||t.yMax<=t.yMin)&&(this.addBounds(A,t,-1,-1,2,2),t.xMax=t.xMin=.5*(t.xMax+t.xMin),t.yMax=t.yMin=.5*(t.yMax+t.yMin)),t},getBoundsRec:function(A,t,e){if(this.posChanged){this.calcAbsPos();for(var s=0,i=this.children;s<i.length;){var r=i[s];++s,r.posChanged=!0}this.posChanged=!1}var n=this.children.length;if(0==n)return t.xMin=1e20,t.yMin=1e20,t.xMax=-1e20,void(t.yMax=-1e20);if(1!=n){var a=1/0,h=1/0,l=-1/0,o=-1/0;for(s=0,i=this.children;s<i.length;){r=i[s];++s,r.visible&&(r.getBoundsRec(A,t,e),t.xMin<a&&(a=t.xMin),t.yMin<h&&(h=t.yMin),t.xMax>l&&(l=t.xMax),t.yMax>o&&(o=t.yMax))}t.xMin=a,t.yMin=h,t.xMax=l,t.yMax=o}else{(r=this.children[0]).visible?r.getBoundsRec(A,t,e):(t.xMin=1e20,t.yMin=1e20,t.xMax=-1e20,t.yMax=-1e20)}},addBounds:function(A,t,e,s,i,r){if(!(i<=0||r<=0)){if(null==A){var n=e*this.matA+s*this.matC+this.absX,a=e*this.matB+s*this.matD+this.absY;n<t.xMin&&(t.xMin=n),n>t.xMax&&(t.xMax=n),a<t.yMin&&(t.yMin=a),a>t.yMax&&(t.yMax=a);n=(e+i)*this.matA+s*this.matC+this.absX,a=(e+i)*this.matB+s*this.matD+this.absY;n<t.xMin&&(t.xMin=n),n>t.xMax&&(t.xMax=n),a<t.yMin&&(t.yMin=a),a>t.yMax&&(t.yMax=a);n=e*this.matA+(s+r)*this.matC+this.absX,a=e*this.matB+(s+r)*this.matD+this.absY;n<t.xMin&&(t.xMin=n),n>t.xMax&&(t.xMax=n),a<t.yMin&&(t.yMin=a),a>t.yMax&&(t.yMax=a);n=(e+i)*this.matA+(s+r)*this.matC+this.absX,a=(e+i)*this.matB+(s+r)*this.matD+this.absY;return n<t.xMin&&(t.xMin=n),n>t.xMax&&(t.xMax=n),a<t.yMin&&(t.yMin=a),void(a>t.yMax&&(t.yMax=a))}if(A==this)return t.xMin>e&&(t.xMin=e),t.yMin>s&&(t.yMin=s),t.xMax<e+i&&(t.xMax=e+i),void(t.yMax<s+r&&(t.yMax=s+r));var h=A.matA*A.matD-A.matB*A.matC;if(0!=h){var l=1/h,o=A.matD*l,u=-A.matB*l,_=-A.matC*l,c=A.matA*l,d=this.absX-A.absX,p=this.absY-A.absY,f=(n=e*this.matA+s*this.matC+d)*u+(a=e*this.matB+s*this.matD+p)*c;(x=n*o+a*_)<t.xMin&&(t.xMin=x),x>t.xMax&&(t.xMax=x),f<t.yMin&&(t.yMin=f),f>t.yMax&&(t.yMax=f);f=(n=(e+i)*this.matA+s*this.matC+d)*u+(a=(e+i)*this.matB+s*this.matD+p)*c;(x=n*o+a*_)<t.xMin&&(t.xMin=x),x>t.xMax&&(t.xMax=x),f<t.yMin&&(t.yMin=f),f>t.yMax&&(t.yMax=f);f=(n=e*this.matA+(s+r)*this.matC+d)*u+(a=e*this.matB+(s+r)*this.matD+p)*c;(x=n*o+a*_)<t.xMin&&(t.xMin=x),x>t.xMax&&(t.xMax=x),f<t.yMin&&(t.yMin=f),f>t.yMax&&(t.yMax=f);var x;f=(n=(e+i)*this.matA+(s+r)*this.matC+d)*u+(a=(e+i)*this.matB+(s+r)*this.matD+p)*c;(x=n*o+a*_)<t.xMin&&(t.xMin=x),x>t.xMax&&(t.xMax=x),f<t.yMin&&(t.yMin=f),f>t.yMax&&(t.yMax=f)}}},localToGlobal:function(A){this.syncPos(),null==A&&(A=new eA);var t=A.x*this.matA+A.y*this.matC+this.absX,e=A.x*this.matB+A.y*this.matD+this.absY;return A.x=t,A.y=e,A},globalToLocal:function(A){this.syncPos(),A.x-=this.absX,A.y-=this.absY;var t=1/(this.matA*this.matD-this.matB*this.matC),e=(A.x*this.matD-A.y*this.matC)*t,s=(-A.x*this.matB+A.y*this.matA)*t;return A.x=e,A.y=s,A},getScene:function(){for(var A=this;null!=A.parent;)A=A.parent;return A instanceof H?A:null},addChild:function(A){this.addChildAt(A,this.children.length)},addChildAt:function(A,t){t<0&&(t=0),t>this.children.length&&(t=this.children.length);for(var e=this;null!=e;){if(e==A)throw de.thrown("Recursive addChild");e=e.parent}if(null!=A.parent){var s=A.allocated;A.allocated=!1,A.parent.removeChild(A),A.allocated=s}this.children.splice(t,0,A),!this.allocated&&A.allocated&&A.onRemove(),A.parent=this,A.parentContainer=this.parentContainer,A.posChanged=!0,this.allocated&&(A.allocated?A.onHierarchyMoved(!0):A.onAdd()),null!=this.parentContainer&&this.parentContainer.contentChanged(this)},onHierarchyMoved:function(A){for(var t=0,e=this.children;t<e.length;){var s=e[t];++t,s.onHierarchyMoved(A)}},onAdd:function(){this.allocated=!0,null!=this.filter&&this.filter.bind(this);for(var A=0,t=this.children;A<t.length;){var e=t[A];++A,e.onAdd()}},onRemove:function(){this.allocated=!1,null!=this.filter&&this.filter.unbind(this);for(var A=0,t=this.children;A<t.length;){var e=t[A];++A,e.onRemove()}},removeChild:function(A){o.remove(this.children,A)&&(A.allocated&&A.onRemove(),A.parent=null,null!=A.parentContainer&&A.setParentContainer(null),A.posChanged=!0,null!=this.parentContainer&&this.parentContainer.contentChanged(this))},setParentContainer:function(A){this.parentContainer=A;for(var t=0,e=this.children;t<e.length;){var s=e[t];++t,s.setParentContainer(A)}},draw:function(A){},sync:function(A){var t=this.posChanged;t&&(this.calcAbsPos(),this.posChanged=!1),this.lastFrame=A.frame;for(var e=0,s=this.children.length;e<s;){var i=this.children[e];if(null==i)break;i.lastFrame!=A.frame&&(t&&(i.posChanged=!0),i.sync(A)),this.children[e]!=i?(e=0,s=this.children.length):++e}},syncPos:function(){if(null!=this.parent&&this.parent.syncPos(),this.posChanged){this.calcAbsPos();for(var A=0,t=this.children;A<t.length;){var e=t[A];++A,e.posChanged=!0}this.posChanged=!1}},calcAbsPos:function(){if(null==this.parent){0==this.rotation?(A=1,t=0,this.matA=this.scaleX,this.matB=0,this.matC=0,this.matD=this.scaleY):(A=Math.cos(this.rotation),t=Math.sin(this.rotation),this.matA=this.scaleX*A,this.matB=this.scaleX*t,this.matC=this.scaleY*-t,this.matD=this.scaleY*A),this.absX=this.x,this.absY=this.y}else{if(0==this.rotation)this.matA=this.scaleX*this.parent.matA,this.matB=this.scaleX*this.parent.matB,this.matC=this.scaleY*this.parent.matC,this.matD=this.scaleY*this.parent.matD;else{var A=Math.cos(this.rotation),t=Math.sin(this.rotation),e=this.scaleX*A,s=this.scaleX*t,i=this.scaleY*-t,r=this.scaleY*A;this.matA=e*this.parent.matA+s*this.parent.matC,this.matB=e*this.parent.matB+s*this.parent.matD,this.matC=i*this.parent.matA+r*this.parent.matC,this.matD=i*this.parent.matB+r*this.parent.matD}this.absX=this.x*this.parent.matA+this.y*this.parent.matC+this.parent.absX,this.absY=this.x*this.parent.matB+this.y*this.parent.matD+this.parent.absY}},emitTile:function(A,t){null==a.nullDrawable&&(a.nullDrawable=new V(null)),a.nullDrawable.absX=this.absX,a.nullDrawable.absY=this.absY,a.nullDrawable.matA=this.matA,a.nullDrawable.matB=this.matB,a.nullDrawable.matC=this.matC,a.nullDrawable.matD=this.matD,A.drawTile(a.nullDrawable,t)},clipBounds:function(A,t){var e,s,i,r,n,a,h=A.tmpBounds;if(null!=A.inFilter){var l=A.baseShader.filterMatrixA__,o=A.baseShader.filterMatrixB__,u=this.matA*l.x+this.matB*l.y,_=this.matA*o.x+this.matB*o.y,c=this.matC*l.x+this.matD*l.y,d=this.matC*o.x+this.matD*o.y,p=this.absX*l.x+this.absY*l.y+l.z,f=this.absX*o.x+this.absY*o.y+o.z;e=u*A.viewA+_*A.viewC,s=u*A.viewB+_*A.viewD,i=c*A.viewA+d*A.viewC,r=c*A.viewB+d*A.viewD,n=p*A.viewA+f*A.viewC+A.viewX,a=p*A.viewB+f*A.viewD+A.viewY}else e=this.matA*A.viewA+this.matB*A.viewC,s=this.matA*A.viewB+this.matB*A.viewD,i=this.matC*A.viewA+this.matD*A.viewC,r=this.matC*A.viewB+this.matD*A.viewD,n=this.absX*A.viewA+this.absY*A.viewC+A.viewX,a=this.absX*A.viewB+this.absY*A.viewD+A.viewY;h.xMin=1e20,h.yMin=1e20,h.xMax=-1e20,h.yMax=-1e20;var x=(y=t.xMin)*s+(B=t.yMin)*r+a;(C=y*e+B*i+n)<h.xMin&&(h.xMin=C),C>h.xMax&&(h.xMax=C),x<h.yMin&&(h.yMin=x),x>h.yMax&&(h.yMax=x);x=(y=t.xMax)*s+(B=t.yMin)*r+a;(C=y*e+B*i+n)<h.xMin&&(h.xMin=C),C>h.xMax&&(h.xMax=C),x<h.yMin&&(h.yMin=x),x>h.yMax&&(h.yMax=x);x=(y=t.xMin)*s+(B=t.yMax)*r+a;(C=y*e+B*i+n)<h.xMin&&(h.xMin=C),C>h.xMax&&(h.xMax=C),x<h.yMin&&(h.yMin=x),x>h.yMax&&(h.yMax=x);x=(y=t.xMax)*s+(B=t.yMax)*r+a;(C=y*e+B*i+n)<h.xMin&&(h.xMin=C),C>h.xMax&&(h.xMax=C),x<h.yMin&&(h.yMin=x),x>h.yMax&&(h.yMax=x),h.xMin<-1&&(h.xMin=-1),h.yMin<-1&&(h.yMin=-1),h.xMax>1&&(h.xMax=1),h.yMax>1&&(h.yMax=1);var g=1/(e*r-s*i),b=h.xMin,m=h.yMin,v=h.xMax,w=h.yMax;h.xMin=1e20,h.yMin=1e20,h.xMax=-1e20,h.yMax=-1e20;var y=b,B=m;x=(-(y-=n)*s+(B-=a)*e)*g;(C=(y*r-B*i)*g)<h.xMin&&(h.xMin=C),C>h.xMax&&(h.xMax=C),x<h.yMin&&(h.yMin=x),x>h.yMax&&(h.yMax=x);y=v,B=m,x=(-(y-=n)*s+(B-=a)*e)*g;(C=(y*r-B*i)*g)<h.xMin&&(h.xMin=C),C>h.xMax&&(h.xMax=C),x<h.yMin&&(h.yMin=x),x>h.yMax&&(h.yMax=x);y=b,B=w,x=(-(y-=n)*s+(B-=a)*e)*g;(C=(y*r-B*i)*g)<h.xMin&&(h.xMin=C),C>h.xMax&&(h.xMax=C),x<h.yMin&&(h.yMin=x),x>h.yMax&&(h.yMax=x);var C;y=v,B=w,x=(-(y-=n)*s+(B-=a)*e)*g;(C=(y*r-B*i)*g)<h.xMin&&(h.xMin=C),C>h.xMax&&(h.xMax=C),x<h.yMin&&(h.yMin=x),x>h.yMax&&(h.yMax=x);var k=t.xMin,M=h.xMin;t.xMin=k<M?M:k;k=t.yMin,M=h.yMin;t.yMin=k<M?M:k;k=t.xMax,M=h.xMax;t.xMax=k>M?M:k;k=t.yMax,M=h.yMax;t.yMax=k>M?M:k},drawFilters:function(A){if(A.pushFilter(this)){var t=A.tmpBounds,e=new AA,s=-1;this.filter.sync(A,this),this.filter.autoBounds?s=this.filter.boundsExtend:(this.filter.getBounds(this,t),t.xMin<e.xMin&&(e.xMin=t.xMin),t.xMax>e.xMax&&(e.xMax=t.xMax),t.yMin<e.yMin&&(e.yMin=t.yMin),t.yMax>e.yMax&&(e.yMax=t.yMax)),s>=0&&(this.getBounds(this,t),t.xMin-=s,t.yMin-=s,t.xMax+=s,t.yMax+=s,t.xMin<e.xMin&&(e.xMin=t.xMin),t.xMax>e.xMax&&(e.xMax=t.xMax),t.yMin<e.yMin&&(e.yMin=t.yMin),t.yMax>e.yMax&&(e.yMax=t.yMax)),this.clipBounds(A,e);var i=Math.floor(e.xMin+1e-10),r=Math.floor(e.yMin+1e-10),n=Math.ceil(e.xMax-i-1e-10),a=Math.ceil(e.yMax-r-1e-10);if(n<=0||a<=0||e.xMax<e.xMin)A.popFilter();else{var h=A.textures.allocTarget("filterTemp",n,a,!1);A.pushTarget(h,i,r,n,a),A.engine.clear(0);var l=A.globalAlpha,o=A.baseShader,u=(E=o.filterMatrixA__).x,_=E.y,c=E.z;null==(d=E.w)&&(d=1),null==c&&(c=0),null==_&&(_=0),null==u&&(u=0);var d,p=u,f=_,x=c,g=d;u=(E=o.filterMatrixB__).x,_=E.y,c=E.z;null==(d=E.w)&&(d=1),null==c&&(c=0),null==_&&(_=0),null==u&&(u=0);var b=u,m=_,v=c,w=d,y=1/(this.matA*this.matD-this.matB*this.matC),B=this.matD*y,C=-this.matB*y,k=-this.matC*y,M=this.matA*y,S=-(this.absX*B+this.absY*k),T=-(this.absX*C+this.absY*M);null==(c=S)&&(c=0),null==(_=k)&&(_=0),null==(u=B)&&(u=0),(E=o.filterMatrixA__).x=u,E.y=_,E.z=c,E.w=1,null==(c=T)&&(c=0),null==(_=M)&&(_=0),null==(u=C)&&(u=0),(E=o.filterMatrixB__).x=u,E.y=_,E.z=c,E.w=1,A.globalAlpha=1,this.drawContent(A);var F=K.fromTexture(h);F.dx=i,F.dy=r;var E,I=F;(F=this.filter.draw(A,F))!=I&&null!=F&&(F.dx+=i,F.dy+=r),(E=o.filterMatrixA__).x=p,E.y=f,E.z=x,E.w=g,(E=o.filterMatrixB__).x=b,E.y=m,E.z=v,E.w=w,A.popTarget(),A.popFilter(),A.globalAlpha=l,null!=F&&this.drawFiltered(A,F)}}},drawFiltered:function(A,t){var e=A.globalAlpha;A.currentBlend=null,A.inFilterBlend=this.blendMode,A.globalAlpha*=this.alpha,this.emitTile(A,t),A.globalAlpha=e,A.inFilterBlend=null,A.currentBlend=null},drawRec:function(A){if(this.visible){if(this.posChanged){this.calcAbsPos();for(var t=0,e=this.children;t<e.length;){var s=e[t];++t,s.posChanged=!0}this.posChanged=!1}if(null!=this.filter&&this.filter.get_enable())this.drawFilters(A);else{var i=A.globalAlpha;A.globalAlpha*=this.alpha,this.drawContent(A),A.globalAlpha=i}}},drawContent:function(A){if(A.front2back){for(var t=this.children.length;t-- >0;)this.children[t].drawRec(A);this.draw(A)}else{this.draw(A);for(var e=0,s=this.children;e<s.length;){var i=s[e];++e,i.drawRec(A)}}},contentChanged:function(A){},__class__:a};var h=function(A,t,e,s,i,r,n){null==r&&(r=254),null==i&&(i=144),null==t&&(t=0),null==A&&(A=0),this.xtra=0,this.imageWidth=0,a.call(this,n),this.posChanged=!0,this.x=A,this.posChanged=!0,this.y=t,this.imageWidth=e.width;var h=new $(s,this),o=e.height+3,u=(r-t-12-5-e.height-3)/3,_=s.sub(48,19,2,3);h.content.addTransform(3,o,1,u,0,h.curColor,_);_=s.sub(48,23,2,12);h.content.add(3,r-t-12-5,h.curColor.x,h.curColor.y,h.curColor.z,h.curColor.w,_);o=e.height+2,_=s.sub(48,17,2,1);h.content.add(3,o,h.curColor.x,h.curColor.y,h.curColor.z,h.curColor.w,_);var c=e.width-5;o=e.height+3,u=(r-t-12-5-e.height-3)/3,_=s.sub(48,19,2,3);h.content.addTransform(c,o,1,u,0,h.curColor,_);c=e.width-5,_=s.sub(48,23,2,12);h.content.add(c,r-t-12-5,h.curColor.x,h.curColor.y,h.curColor.z,h.curColor.w,_);c=e.width-5,o=e.height+2,_=s.sub(48,17,2,1);h.content.add(c,o,h.curColor.x,h.curColor.y,h.curColor.z,h.curColor.w,_),this.gearLeft=new l(4,r-3-t,2,s.sub(43,2,36,10),this),this.gearRight=new l(e.width-4,r-3-t,2,s.sub(43,2,36,10),this),this.gearLeft.update(A+4),this.gearRight.update(A+this.imageWidth-4);o=Math.min(i-t+14,-4),u=Math.max(t-i-14,3)/3,_=s.sub(43,32,2,3);h.content.addTransform(3,o,1,u,0,h.curColor,_);_=s.sub(43,17,2,Math.min(t-i,14));h.content.add(3,i-t,h.curColor.x,h.curColor.y,h.curColor.z,h.curColor.w,_);A=e.width-5,o=Math.min(i-t+14,-4),u=Math.max(t-i-14,3)/3,_=s.sub(43,32,2,3);h.content.addTransform(A,o,1,u,0,h.curColor,_);A=e.width-5,_=s.sub(43,17,2,Math.min(t-i,14));h.content.add(A,i-t,h.curColor.x,h.curColor.y,h.curColor.z,h.curColor.w,_);new R(e,this);var d=new $(s,this),p=(e.width-8-21)/2;_=s.sub(25,1,2,2);d.content.addTransform(21,-2,p,1,0,d.curColor,_);A=e.width,u=(e.height-14-18)/2,_=s.sub(36,22,2,2);d.content.addTransform(A,18,1,u,0,d.curColor,_);u=(e.height-14-18)/2,_=s.sub(1,22,2,2);d.content.addTransform(-2,18,1,u,0,d.curColor,_);t=e.height,p=(e.width-8-21)/2,_=s.sub(12,39,2,2);d.content.addTransform(8,t,p,1,0,d.curColor,_);A=e.width-21,t=e.height-14,_=s.sub(15,25,23,16);d.content.add(A,t,d.curColor.x,d.curColor.y,d.curColor.z,d.curColor.w,_);A=e.width-8,_=s.sub(28,1,10,20);d.content.add(A,-2,d.curColor.x,d.curColor.y,d.curColor.z,d.curColor.w,_);t=e.height-14,_=s.sub(1,25,10,16);d.content.add(-2,t,d.curColor.x,d.curColor.y,d.curColor.z,d.curColor.w,_);_=s.sub(1,1,23,20);d.content.add(-2,-2,d.curColor.x,d.curColor.y,d.curColor.z,d.curColor.w,_)};e.FrameCart=h,h.__name__="FrameCart",h.__super__=a,h.prototype=r(a.prototype,{moveX:function(A){this.xtra+=A,this.posChanged=!0,this.x+=0|this.xtra,this.xtra%=1,this.update()},update:function(){this.gearLeft.update(this.x+4),this.gearRight.update(this.x+this.imageWidth-4)},__class__:h});var l=function(A,t,e,s,i){null==e&&(e=0),null==t&&(t=0),null==A&&(A=0),this.offset=0,a.call(this,i),this.posChanged=!0,this.x=A,this.posChanged=!0,this.y=t,this.offset=e;var r,n=s.sub(0,0,10,10),h=s.sub(13,0,10,10),l=s.sub(26,0,10,10);this.gearTiles=[l,h,n],this.ix=Math.floor(A),this.img=new R(this.gearTiles[(this.ix+e)%3|0],this),(r=this.img).posChanged=!0,r.x=-5,(r=this.img).posChanged=!0,r.y=-5};e.Gear=l,l.__name__="Gear",l.__super__=a,l.prototype=r(a.prototype,{update:function(A){this.ix=Math.floor(A),this.img.set_tile(this.gearTiles[(this.ix+this.offset)%3|0])},__class__:l});var o=function(){};e.HxOverrides=o,o.__name__="HxOverrides",o.strDate=function(A){switch(A.length){case 8:var t=A.split(":"),e=new Date;return e.setTime(0),e.setUTCHours(t[0]),e.setUTCMinutes(t[1]),e.setUTCSeconds(t[2]),e;case 10:t=A.split("-");return new Date(t[0],t[1]-1,t[2],0,0,0);case 19:var s=(t=A.split(" "))[0].split("-"),i=t[1].split(":");return new Date(s[0],s[1]-1,s[2],i[0],i[1],i[2]);default:throw de.thrown("Invalid date format : "+A)}},o.cca=function(A,t){var e=A.charCodeAt(t);if(e==e)return e},o.substr=function(A,t,e){if(null==e)e=A.length;else if(e<0){if(0!=t)return"";e=A.length+e}return A.substr(t,e)},o.remove=function(A,t){var e=A.indexOf(t);return-1!=e&&(A.splice(e,1),!0)},o.now=function(){return Date.now()};var u=function(){};e.Lambda=u,u.__name__="Lambda",u.array=function(A){for(var t,e=[],s=(t=A)instanceof Array?new He(t):t.iterator();s.hasNext();){var i=s.next();e.push(i)}return e};var _=function(){};e["h3d.IDrawable"]=_,_.__name__="h3d.IDrawable",_.__isInterface__=!0;var c=function(){var A=this,t=oA.CURRENT;null!=t?(this.engine=t,t.onReady=Di(this,this.setup),be.delay(Di(this,this.setup),0)):bs.start((function(){t=new oA,A.engine=t,t.onReady=Di(A,A.setup),t.init()}))};e["hxd.App"]=c,c.__name__="hxd.App",c.__interfaces__=[_],c.staticHandler=function(){},c.prototype={onResize:function(){},render:function(A){this.s3d.render(A),this.s2d.render(A)},setup:function(){var A=this,t=!1;this.engine.onReady=c.staticHandler,this.engine.onResized=function(){null!=A.s2d&&(A.s2d.checkResize(),t&&A.onResize())},this.s3d=new Ut,this.s2d=new H,this.sevents=new ds,this.sevents.addScene(this.s2d),this.sevents.addScene(this.s3d),this.loadAssets((function(){t=!0,A.init(),xs.skip(),A.mainLoop(),bs.setLoop(Di(A,A.mainLoop)),ls.initialize()}))},loadAssets:function(A){A()},init:function(){},mainLoop:function(){if(xs.update(),this.sevents.checkEvents(),!this.isDisposed&&(this.update(xs.dt),!this.isDisposed)){var A=xs.dt;null!=this.s2d&&this.s2d.setElapsedTime(A),null!=this.s3d&&this.s3d.setElapsedTime(A),this.engine.render(this)}},update:function(A){},__class__:c},Math.__name__="Math";var d=function(){this.mouseDown=!1,this.prevMouseX=0,this.scale=3,this.carts=[],this.imgs=["flower.png","airship.png","moon 2.png","blaauw observatory.png","torus world.png","taurus.png","cancer.png","gemini.png","leo.png","virgo.png","tanjiro kamado.png","joust.png","bill cipher.gif","char side.png","char.png","barrel.png","nimbatus.png","lavander.png","galactic cereal.png","aerial screw.png","puffbird.png","desertRainFrog.png","wolf.png","hazmatSuit.png","slime.png","hermit.png","blackhole.png","boba fett.png","buffalo skull.png","nautilus.png","the qu.png","Steam locomotive.png","x-mas tree.png"],c.call(this)};e.Main=d,d.__name__="Main",d.main=function(){cs.set_loader(new Vs(new Cs(ve.run("oy7:galleryoy5:trainoy9:slime.pngty11:airship.pngty7:leo.pngty10:barrel.pngty10:taurus.pngty20:tanjiro%20kamado.pngty15:char%20side.pngty8:wolf.pngty18:aerial%20screw.pngty15:boba%20fett.pngty10:cancer.pngty12:nimbatus.pngty9:.DS_Storety12:moon%202.pngty22:Steam%20locomotive.pngty9:virgo.pngty12:nautilus.pngty8:char.pngty10:flower.pngty10:hermit.pngty12:puffbird.pngty17:torus%20world.pngty21:galactic%20cereal.pngty12:the%20qu.pngty14:hazmatSuit.pngty19:buffalo%20skull.pngty10:gemini.pngty17:bill%20cipher.gifty9:joust.pngty24:blaauw%20observatory.pngty12:lavander.pngty13:blackhole.pngty16:x-mas%20tree.pngty18:desertRainFrog.pngtgR14ty9:tiles.pngtgR14tg")))),new d},d.__super__=c,d.prototype=r(c.prototype,{scroll:function(A){var t=A.wheelDelta;if(this.carts[this.carts.length-1].x+t>this.cartsXClamp&&this.carts[0].x+t<this.cartsXClamp)for(var e=0,s=this.carts;e<s.length;){var i=s[e];++e,i.moveX(t)}},drag:function(A){this.mouseDown&&(A.wheelDelta=A.relX-this.prevMouseX,this.scroll(A)),this.prevMouseX=A.relX},push:function(A){this.prevMouseX=A.relX,this.mouseDown=!0},release:function(A){this.prevMouseX=A.relX,this.mouseDown=!1},onResize:function(){this.scale=this.s2d.height/106;var A=this.s2d,t=this.scale;A.posChanged=!0,A.scaleX=t,A.posChanged=!0,A.scaleY=t;var e=Math.ceil(this.s2d.width/this.scale);this.cartsXClamp=e/2,this.scrollGalleryArea.width=e,this.patternDraw(0,d.railY-5,e,this.galleryTileMap.sub(67,46,16,5));var s=new R(this.galleryTileMap.sub(46,39,1,2),this.s2d);s.posChanged=!0,s.y=d.railY,s.set_width(e),s.set_height(2),this.patternDraw(0,d.trackY,e,this.galleryTileMap.sub(1,46,63,5)),this.patternDraw(0,d.trackY+5,e,this.galleryTileMap.sub(67,46,16,5))},init:function(){var A=o.now()/1e3;this.engine.backgroundColor=2565942;var t=this.s2d,e=this.scale;t.posChanged=!0,t.scaleX=e,t.posChanged=!0,t.scaleY=e,this.cartsXClamp=this.s2d.width/(2*this.scale);var s=cs.get_loader();this.galleryTileMap=s.loadCache("gallery/tiles.png",Qs).toTile(),this.scrollGalleryArea=new P(this.s2d.width,d.trackY-d.railY+4,this.s2d),(t=this.scrollGalleryArea).posChanged=!0,t.y=d.railY,this.scrollGalleryArea.onWheel=Di(this,this.scroll),this.scrollGalleryArea.set_cursor(is.Default),this.scrollGalleryArea.onMove=Di(this,this.drag),this.scrollGalleryArea.onPush=Di(this,this.push),this.scrollGalleryArea.onRelease=Di(this,this.release),this.scrollGalleryArea.onOut=Di(this,this.release),this.onResize();for(var i=0,r=this.imgs;i<r.length;){var n=r[i];++i;var a=cs.load("gallery/train/"+n).toTile(),l=Math.ceil(a.height+a.y)-Math.floor(a.y);a.height>d.maxHeight&&(a.setSize(a.width,d.maxHeight),a.setPosition(0,(l-d.maxHeight)/2));var u=d.middleY-Math.floor(a.height/2),_=new h(d.xOffset,u,a,this.galleryTileMap,d.railY,d.trackY,this.s2d);d.xOffset+=Math.ceil(a.width+a.x)-Math.floor(a.x)+d.xSpacing,this.carts.push(_)}var c=o.now()/1e3;pe.trace(c-A,{fileName:"src/Main.hx",lineNumber:132,className:"Main",methodName:"init"})},patternDraw:function(A,t,e,s){for(var i=new $(s,this.s2d),r=s.width,n=0,a=Math.ceil(e/r);n<a;){var h=n++;i.content.add(h*r+A,t,i.curColor.x,i.curColor.y,i.curColor.z,i.curColor.w,s)}},__class__:d});var p=function(){};e.Reflect=p,p.__name__="Reflect",p.field=function(A,t){try{return A[t]}catch(A){return null}},p.isFunction=function(A){return"function"==typeof A&&!(A.__name__||A.__ename__)},p.compare=function(A,t){return A==t?0:A>t?1:-1},p.compareMethods=function(A,t){return A==t||!(!p.isFunction(A)||!p.isFunction(t))&&(A.scope==t.scope&&A.method==t.method&&null!=A.method)},p.isEnumValue=function(A){return null!=A&&null!=A.__enum__};var f=function(){};e.Std=f,f.__name__="Std",f.string=function(A){return ui.__string_rec(A,"")},f.parseInt=function(A){if(null!=A)for(var t=0,e=A.length;t<e;){var s=t++,i=A.charCodeAt(s);if(i<=8||i>=14&&32!=i&&45!=i){var r=A.charCodeAt(s+1),n=parseInt(A,120==r||88==r?16:10);return isNaN(n)?null:n}}return null};var x=function(){this.b=""};e.StringBuf=x,x.__name__="StringBuf",x.prototype={__class__:x};var g=function(){};e.StringTools=g,g.__name__="StringTools",g.startsWith=function(A,t){return A.length>=t.length&&0==A.lastIndexOf(t,0)},g.isSpace=function(A,t){var e=o.cca(A,t);return e>8&&e<14||32==e},g.ltrim=function(A){for(var t=A.length,e=0;e<t&&g.isSpace(A,e);)++e;return e>0?o.substr(A,e,t-e):A},g.rtrim=function(A){for(var t=A.length,e=0;e<t&&g.isSpace(A,t-e-1);)++e;return e>0?o.substr(A,0,t-e):A},g.trim=function(A){return g.ltrim(g.rtrim(A))},g.replace=function(A,t,e){return A.split(t).join(e)},g.hex=function(A,t){for(var e="";e="0123456789ABCDEF".charAt(15&A)+e,(A>>>=4)>0;);if(null!=t)for(;e.length<t;)e="0"+e;return e};var b=function(){};e.Type=b,b.__name__="Type",b.createInstance=function(A,t){return new(Function.prototype.bind.apply(A,[null].concat(t)))},b.createEnum=function(A,t,e){var s=p.field(A,t);if(null==s)throw de.thrown("No such constructor "+t);if(p.isFunction(s)){if(null==e)throw de.thrown("Constructor "+t+" need parameters");return s.apply(A,e)}if(null!=e&&0!=e.length)throw de.thrown("Constructor "+t+" does not need parameters");return s},b.createEnumIndex=function(A,t,e){var s,i=A.__constructs__[t];null==i?s=null:s=i._hx_name;if(null==s)throw de.thrown(t+" is not a valid enum constructor index");return b.createEnum(A,s,e)},b.enumEq=function(A,t){if(A==t)return!0;try{var e=A.__enum__;if(null==e||e!=t.__enum__)return!1;if(A._hx_index!=t._hx_index)return!1;for(var s=i[e].__constructs__[A._hx_index].__params__,r=0;r<s.length;){var n=s[r];if(++r,!b.enumEq(A[n],t[n]))return!1}}catch(r){return!1}return!0},b.enumParameters=function(A){var t=i[A.__enum__].__constructs__[A._hx_index].__params__;if(null!=t){for(var e=[],s=0;s<t.length;){var r=t[s];++s,e.push(A[r])}return e}return[]};var m=i["format.gif.Block"]={__ename__:!0,__constructs__:null,BFrame:(t=function(A){return{_hx_index:0,frame:A,__enum__:"format.gif.Block",toString:s}},t._hx_name="BFrame",t.__params__=["frame"],t),BExtension:(t=function(A){return{_hx_index:1,extension:A,__enum__:"format.gif.Block",toString:s}},t._hx_name="BExtension",t.__params__=["extension"],t),BEOF:{_hx_name:"BEOF",_hx_index:2,__enum__:"format.gif.Block",toString:s}};m.__constructs__=[m.BFrame,m.BExtension,m.BEOF],m.__empty_constructs__=[m.BEOF];var v=i["format.gif.Extension"]={__ename__:!0,__constructs__:null,EGraphicControl:(t=function(A){return{_hx_index:0,gce:A,__enum__:"format.gif.Extension",toString:s}},t._hx_name="EGraphicControl",t.__params__=["gce"],t),EComment:(t=function(A){return{_hx_index:1,text:A,__enum__:"format.gif.Extension",toString:s}},t._hx_name="EComment",t.__params__=["text"],t),EText:(t=function(A){return{_hx_index:2,pte:A,__enum__:"format.gif.Extension",toString:s}},t._hx_name="EText",t.__params__=["pte"],t),EApplicationExtension:(t=function(A){return{_hx_index:3,ext:A,__enum__:"format.gif.Extension",toString:s}},t._hx_name="EApplicationExtension",t.__params__=["ext"],t),EUnknown:(t=function(A,t){return{_hx_index:4,id:A,data:t,__enum__:"format.gif.Extension",toString:s}},t._hx_name="EUnknown",t.__params__=["id","data"],t)};v.__constructs__=[v.EGraphicControl,v.EComment,v.EText,v.EApplicationExtension,v.EUnknown],v.__empty_constructs__=[];var w=i["format.gif.ApplicationExtension"]={__ename__:!0,__constructs__:null,AENetscapeLooping:(t=function(A){return{_hx_index:0,loops:A,__enum__:"format.gif.ApplicationExtension",toString:s}},t._hx_name="AENetscapeLooping",t.__params__=["loops"],t),AEUnknown:(t=function(A,t,e){return{_hx_index:1,name:A,version:t,data:e,__enum__:"format.gif.ApplicationExtension",toString:s}},t._hx_name="AEUnknown",t.__params__=["name","version","data"],t)};w.__constructs__=[w.AENetscapeLooping,w.AEUnknown],w.__empty_constructs__=[];var y=i["format.gif.Version"]={__ename__:!0,__constructs__:null,GIF87a:{_hx_name:"GIF87a",_hx_index:0,__enum__:"format.gif.Version",toString:s},GIF89a:{_hx_name:"GIF89a",_hx_index:1,__enum__:"format.gif.Version",toString:s},Unknown:(t=function(A){return{_hx_index:2,version:A,__enum__:"format.gif.Version",toString:s}},t._hx_name="Unknown",t.__params__=["version"],t)};y.__constructs__=[y.GIF87a,y.GIF89a,y.Unknown],y.__empty_constructs__=[y.GIF87a,y.GIF89a];var B=i["format.gif.DisposalMethod"]={__ename__:!0,__constructs__:null,UNSPECIFIED:{_hx_name:"UNSPECIFIED",_hx_index:0,__enum__:"format.gif.DisposalMethod",toString:s},NO_ACTION:{_hx_name:"NO_ACTION",_hx_index:1,__enum__:"format.gif.DisposalMethod",toString:s},FILL_BACKGROUND:{_hx_name:"FILL_BACKGROUND",_hx_index:2,__enum__:"format.gif.DisposalMethod",toString:s},RENDER_PREVIOUS:{_hx_name:"RENDER_PREVIOUS",_hx_index:3,__enum__:"format.gif.DisposalMethod",toString:s},UNDEFINED:(t=function(A){return{_hx_index:4,index:A,__enum__:"format.gif.DisposalMethod",toString:s}},t._hx_name="UNDEFINED",t.__params__=["index"],t)};B.__constructs__=[B.UNSPECIFIED,B.NO_ACTION,B.FILL_BACKGROUND,B.RENDER_PREVIOUS,B.UNDEFINED],B.__empty_constructs__=[B.UNSPECIFIED,B.NO_ACTION,B.FILL_BACKGROUND,B.RENDER_PREVIOUS];var C=function(A){this.i=A,A.set_bigEndian(!1)};e["format.gif.Reader"]=C,C.__name__="format.gif.Reader",C.prototype={read:function(){var A=71;if(this.i.readByte()!=A)throw de.thrown("Invalid header");A=73;if(this.i.readByte()!=A)throw de.thrown("Invalid header");A=70;if(this.i.readByte()!=A)throw de.thrown("Invalid header");var t=this.i.readString(3),e=y.GIF89a;switch(t){case"87a":e=y.GIF87a;break;case"89a":e=y.GIF89a;break;default:e=y.Unknown(t)}var s=this.i.readUInt16(),i=this.i.readUInt16(),r=this.i.readByte(),n=this.i.readByte(),a=this.i.readByte(),h={width:s,height:i,hasGlobalColorTable:128==(128&r),colorResolution:(112&r)>>>4,sorted:8==(8&r),globalColorTableSize:2<<(7&r),backgroundColorIndex:n,pixelAspectRatio:a=0!=a?(a+15)/64:1},l=null;h.hasGlobalColorTable&&(l=this.readColorTable(h.globalColorTableSize));for(var o=new Qe;;){A=this.readBlock();if(o.add(A),A==m.BEOF)break}return{version:e,logicalScreenDescriptor:h,globalColorTable:l,blocks:o}},readBlock:function(){switch(this.i.readByte()){case 33:return this.readExtension();case 44:return this.readImage();case 59:return m.BEOF}return m.BEOF},readImage:function(){var A=this.i.readUInt16(),t=this.i.readUInt16(),e=this.i.readUInt16(),s=this.i.readUInt16(),i=this.i.readByte(),r=128==(128&i),n=64==(64&i),a=32==(32&i),h=2<<(7&i),l=null;return r&&(l=this.readColorTable(h)),m.BFrame({x:A,y:t,width:e,height:s,localColorTable:r,interlaced:n,sorted:a,localColorTableSize:h,pixels:this.readPixels(e,s,n),colorTable:l})},readPixels:function(A,t,e){for(var s=this.i,i=A*t,r=new Be(new ArrayBuffer(i)),n=s.readByte(),a=s.readByte()-1,h=s.readByte(),l=8,o=1<<n,u=o+1,_=n+1,c=1<<_,d=c-1,p=[],f=0,x=o;f<x;){p[w=f++]=[w]}for(var g,b,m=[],v=o+2,w=0,y=0;w<i;){for(b=y;l<_&&0!=a;)h|=s.readByte()<<l,l+=8,0==--a&&(a=s.readByte());if(y=h&d,h>>=_,l-=_,y!=o){if(y==u)break;if(y<v)b!=o&&((g=m[b].slice()).push(m[y][0]),m[v++]=g);else{if(y!=v)throw de.thrown("Invalid LZW code. Excepted: "+v+", got: "+y);(g=m[b].slice()).push(g[0]),m[v++]=g}g=m[y];for(f=0;f<g.length;){var B=g[f];++f,r.b[w++]=B}v==c&&_<12&&(d=(c=1<<++_)-1)}else m=p.slice(),v=o+2,d=(c=1<<(_=n+1))-1}for(;a>0;)s.readByte(),0==--a&&(a=s.readByte());for(;w<i;)r.b[w++]=0;if(e){var C=new Be(new ArrayBuffer(i)),k=this.deinterlace(r,C,8,0,0,A,t);k=this.deinterlace(r,C,8,4,k,A,t),k=this.deinterlace(r,C,4,2,k,A,t),this.deinterlace(r,C,2,1,k,A,t),r=C}return r},deinterlace:function(A,t,e,s,i,r,n){for(;s<n;)t.blit(s*r,A,i,r),i+=r,s+=e;return i},readExtension:function(){var A=this.i.readByte();switch(A){case 1:if(12!=this.i.readByte())throw de.thrown("Incorrect size of Plain Text Extension introducer block.");for(var t=this.i.readUInt16(),e=this.i.readUInt16(),s=this.i.readUInt16(),i=this.i.readUInt16(),r=this.i.readByte(),n=this.i.readByte(),a=this.i.readByte(),h=this.i.readByte(),l=new Ye,o=new Be(new ArrayBuffer(255)),u=this.i.readByte();0!=u;)this.i.readBytes(o,0,u),l.writeBytes(o,0,u),u=this.i.readByte();return l.flush(),o=l.getBytes(),l.close(),m.BExtension(v.EText({textGridX:t,textGridY:e,textGridWidth:s,textGridHeight:i,charCellWidth:r,charCellHeight:n,textForegroundColorIndex:a,textBackgroundColorIndex:h,text:o.toString()}));case 249:if(4!=this.i.readByte())throw de.thrown("Incorrect Graphic Control Extension block size!");var _,c=this.i.readByte();switch((28&c)>>2){case 0:_=B.UNSPECIFIED;break;case 1:_=B.NO_ACTION;break;case 2:_=B.FILL_BACKGROUND;break;case 3:_=B.RENDER_PREVIOUS;break;default:_=B.UNDEFINED((28&c)>>2)}var d=m.BExtension(v.EGraphicControl({disposalMethod:_,userInput:2==(2&c),hasTransparentColor:1==(1&c),delay:this.i.readUInt16(),transparentIndex:this.i.readByte()}));return this.i.readByte(),d;case 254:for(l=new Ye,o=new Be(new ArrayBuffer(255)),u=this.i.readByte();0!=u;)this.i.readBytes(o,0,u),l.writeBytes(o,0,u),u=this.i.readByte();return l.flush(),o=l.getBytes(),l.close(),m.BExtension(v.EComment(o.toString()));case 255:return this.readApplicationExtension();default:for(l=new Ye,o=new Be(new ArrayBuffer(255)),u=this.i.readByte();0!=u;)this.i.readBytes(o,0,u),l.writeBytes(o,0,u),u=this.i.readByte();return l.flush(),o=l.getBytes(),l.close(),m.BExtension(v.EUnknown(A,o))}},readApplicationExtension:function(){if(11!=this.i.readByte())throw de.thrown("Incorrect size of Application Extension introducer block.");for(var A=this.i.readString(8),t=this.i.readString(3),e=new Ye,s=new Be(new ArrayBuffer(255)),i=this.i.readByte();0!=i;)this.i.readBytes(s,0,i),e.writeBytes(s,0,i),i=this.i.readByte();e.flush(),s=e.getBytes(),e.close();var r=s;return"NETSCAPE"==A&&"2.0"==t&&1==r.b[0]?m.BExtension(v.EApplicationExtension(w.AENetscapeLooping(r.b[1]|r.b[2]<<8))):m.BExtension(v.EApplicationExtension(w.AEUnknown(A,t,r)))},readColorTable:function(A){A*=3;for(var t=new Be(new ArrayBuffer(A)),e=0;e<A;){var s=this.i.readByte();t.b[e]=s;var i=this.i.readByte();t.b[e+1]=i;var r=this.i.readByte();t.b[e+2]=r,e+=3}return t},__class__:C};var k=function(){};e["format.gif.Tools"]=k,k.__name__="format.gif.Tools",k.extractFullBGRA=function(A,t){for(var e=null,s=0,i=new Be(new ArrayBuffer(A.logicalScreenDescriptor.width*A.logicalScreenDescriptor.height*4)),r=A.blocks.h;null!=r;){var n=r.item;r=r.next;var a=n;switch(a._hx_index){case 0:var h=a.frame,l=h.localColorTable?h.colorTable:A.globalColorTable;if(null==l)throw de.thrown("Frame does not have a color table!");var o=null!=e&&e.hasTransparentColor?3*e.transparentIndex:-1,u=h.pixels,_=0,c=4*(h.y*A.logicalScreenDescriptor.width+h.x),d=4*(A.logicalScreenDescriptor.width-h.width)+4;switch((s!=t&&null!=e?e.disposalMethod:B.NO_ACTION)._hx_index){case 2:for(var p=0,f=u.length;p<f;){p++;i.b[c]=0,i.b[c+1]=0,i.b[c+2]=0,i.b[c+3]=0,++_==h.width?(_=0,c+=d):c+=4}break;case 3:break;default:for(var x=0,g=u.length;x<g;){var b=x++,m=3*u.b[b];o!=m&&(i.b[c]=l.b[m+2],i.b[c+1]=l.b[m+1],i.b[c+2]=l.b[m],i.b[c+3]=255),++_==h.width?(_=0,c+=d):c+=4}}if(s==t)return i;++s,e=null;break;case 1:var v=a.extension;if(0==v._hx_index)e=v.gce}}return i},k.extractFullRGBA=function(A,t){for(var e=null,s=0,i=new Be(new ArrayBuffer(A.logicalScreenDescriptor.width*A.logicalScreenDescriptor.height*4)),r=A.blocks.h;null!=r;){var n=r.item;r=r.next;var a=n;switch(a._hx_index){case 0:var h=a.frame,l=h.localColorTable?h.colorTable:A.globalColorTable;if(null==l)throw de.thrown("Frame does not have a color table!");var o=null!=e&&e.hasTransparentColor?3*e.transparentIndex:-1,u=h.pixels,_=0,c=4*(h.y*A.logicalScreenDescriptor.width+h.x),d=4*(A.logicalScreenDescriptor.width-h.width)+4;switch((s!=t&&null!=e?e.disposalMethod:B.NO_ACTION)._hx_index){case 2:for(var p=0,f=u.length;p<f;){p++;i.b[c]=0,i.b[c+1]=0,i.b[c+2]=0,i.b[c+3]=0,++_==h.width?(_=0,c+=d):c+=4}break;case 3:break;default:for(var x=0,g=u.length;x<g;){var b=x++,m=3*u.b[b];o!=m&&(i.b[c]=l.b[m],i.b[c+1]=l.b[m+1],i.b[c+2]=l.b[m+2],i.b[c+3]=255),++_==h.width?(_=0,c+=d):c+=4}}if(s==t)return i;++s,e=null;break;case 1:var v=a.extension;if(0==v._hx_index)e=v.gce}}return i};var M=i["format.png.Color"]={__ename__:!0,__constructs__:null,ColGrey:(t=function(A){return{_hx_index:0,alpha:A,__enum__:"format.png.Color",toString:s}},t._hx_name="ColGrey",t.__params__=["alpha"],t),ColTrue:(t=function(A){return{_hx_index:1,alpha:A,__enum__:"format.png.Color",toString:s}},t._hx_name="ColTrue",t.__params__=["alpha"],t),ColIndexed:{_hx_name:"ColIndexed",_hx_index:2,__enum__:"format.png.Color",toString:s}};M.__constructs__=[M.ColGrey,M.ColTrue,M.ColIndexed],M.__empty_constructs__=[M.ColIndexed];var S=i["format.png.Chunk"]={__ename__:!0,__constructs__:null,CEnd:{_hx_name:"CEnd",_hx_index:0,__enum__:"format.png.Chunk",toString:s},CHeader:(t=function(A){return{_hx_index:1,h:A,__enum__:"format.png.Chunk",toString:s}},t._hx_name="CHeader",t.__params__=["h"],t),CData:(t=function(A){return{_hx_index:2,b:A,__enum__:"format.png.Chunk",toString:s}},t._hx_name="CData",t.__params__=["b"],t),CPalette:(t=function(A){return{_hx_index:3,b:A,__enum__:"format.png.Chunk",toString:s}},t._hx_name="CPalette",t.__params__=["b"],t),CUnknown:(t=function(A,t){return{_hx_index:4,id:A,data:t,__enum__:"format.png.Chunk",toString:s}},t._hx_name="CUnknown",t.__params__=["id","data"],t)};S.__constructs__=[S.CEnd,S.CHeader,S.CData,S.CPalette,S.CUnknown],S.__empty_constructs__=[S.CEnd];var T=function(A){this.i=A,A.set_bigEndian(!0),this.checkCRC=!0};e["format.png.Reader"]=T,T.__name__="format.png.Reader",T.prototype={read:function(){var A=137;if(this.i.readByte()!=A)throw de.thrown("Invalid header");A=80;if(this.i.readByte()!=A)throw de.thrown("Invalid header");A=78;if(this.i.readByte()!=A)throw de.thrown("Invalid header");A=71;if(this.i.readByte()!=A)throw de.thrown("Invalid header");A=13;if(this.i.readByte()!=A)throw de.thrown("Invalid header");A=10;if(this.i.readByte()!=A)throw de.thrown("Invalid header");A=26;if(this.i.readByte()!=A)throw de.thrown("Invalid header");A=10;if(this.i.readByte()!=A)throw de.thrown("Invalid header");for(var t=new Qe;;){var e=this.readChunk();if(t.add(e),e==S.CEnd)break}return t},readHeader:function(A){A.set_bigEndian(!0);var t,e=A.readInt32(),s=A.readInt32(),i=A.readByte(),r=A.readByte();switch(r){case 0:t=M.ColGrey(!1);break;case 2:t=M.ColTrue(!1);break;case 3:t=M.ColIndexed;break;case 4:t=M.ColGrey(!0);break;case 6:t=M.ColTrue(!0);break;default:throw de.thrown("Unknown color model "+r+":"+i)}var n=A.readByte(),a=A.readByte();if(0!=n||0!=a)throw de.thrown("Invalid header");var h=A.readByte();if(0!=h&&1!=h)throw de.thrown("Invalid header");return{width:e,height:s,colbits:i,color:t,interlaced:1==h}},readChunk:function(){var A=this.i.readInt32(),t=this.i.readString(4),e=this.i.read(A),s=this.i.readInt32();if(this.checkCRC){var i=-1;h=(h=255&((i=i>>>8^(h=(h=(h=(h=(h=(h=(h=(h=(h=255&(i^o.cca(t,0)))>>>1^-306674912&-(1&h))>>>1^-306674912&-(1&h))>>>1^-306674912&-(1&h))>>>1^-306674912&-(1&h))>>>1^-306674912&-(1&h))>>>1^-306674912&-(1&h))>>>1^-306674912&-(1&h))>>>1^-306674912&-(1&h)))^o.cca(t,1)))>>>1^-306674912&-(1&h),h=(h=255&((i=i>>>8^(h=(h=(h=(h=(h=(h=(h=h>>>1^-306674912&-(1&h))>>>1^-306674912&-(1&h))>>>1^-306674912&-(1&h))>>>1^-306674912&-(1&h))>>>1^-306674912&-(1&h))>>>1^-306674912&-(1&h))>>>1^-306674912&-(1&h)))^o.cca(t,2)))>>>1^-306674912&-(1&h),i=(i=i>>>8^(h=(h=(h=(h=(h=(h=(h=h>>>1^-306674912&-(1&h))>>>1^-306674912&-(1&h))>>>1^-306674912&-(1&h))>>>1^-306674912&-(1&h))>>>1^-306674912&-(1&h))>>>1^-306674912&-(1&h))>>>1^-306674912&-(1&h)))>>>8^(h=(h=(h=(h=(h=(h=(h=(h=(h=255&(i^o.cca(t,3)))>>>1^-306674912&-(1&h))>>>1^-306674912&-(1&h))>>>1^-306674912&-(1&h))>>>1^-306674912&-(1&h))>>>1^-306674912&-(1&h))>>>1^-306674912&-(1&h))>>>1^-306674912&-(1&h))>>>1^-306674912&-(1&h));for(var r=e.b.bufferValue,n=0,a=e.length;n<a;){var h,l=n++;i=i>>>8^(h=(h=(h=(h=(h=(h=(h=(h=(h=255&(i^r.bytes[l]))>>>1^-306674912&-(1&h))>>>1^-306674912&-(1&h))>>>1^-306674912&-(1&h))>>>1^-306674912&-(1&h))>>>1^-306674912&-(1&h))>>>1^-306674912&-(1&h))>>>1^-306674912&-(1&h))>>>1^-306674912&-(1&h))}if((-1^i)!=s)throw de.thrown("CRC check failure")}switch(t){case"IDAT":return S.CData(e);case"IEND":return S.CEnd;case"IHDR":return S.CHeader(this.readHeader(new Le(e)));case"PLTE":return S.CPalette(e);default:return S.CUnknown(t,e)}},__class__:T};var F=function(){};e["format.png.Tools"]=F,F.__name__="format.png.Tools",F.getHeader=function(A){for(var t=A.h;null!=t;){var e=t.item;t=t.next;var s=e;if(1==s._hx_index)return s.h}throw de.thrown("Header not found")},F.getPalette=function(A){for(var t=A.h;null!=t;){var e=t.item;t=t.next;var s=e;if(3==s._hx_index)return s.b}return null},F.extract32=function(A,t,e){for(var s=F.getHeader(A),i=null==t?new Be(new ArrayBuffer(s.width*s.height*4)):t,r=null,n=null,a=A.h;null!=a;){var h=a.item;if(a=a.next,2==(At=h)._hx_index){var l=At.b;null!=n?n.add(l):null==r?r=l:((n=new Pe).add(r),n.add(l),r=null)}}if(null!=n&&(r=n.getBytes()),null==r)throw de.thrown("Data not found");r=Q.run(r);var o=0,u=0,_=0;e&&(_=8*-s.width,u=(s.height-1)*(4*s.width));var c=e?-1:1;switch((cA=s.color)._hx_index){case 0:var d=cA.alpha;if(8!=s.colbits)throw de.thrown("Unsupported color mode");var p=(d?2:1)*(jA=s.width)+1;if(r.length<s.height*p)throw de.thrown("Not enough data");var f=-1;if(!d)for(var x=A.h;null!=x;){h=x.item;if(x=x.next,4==(HA=h)._hx_index&&"tRNS"==HA.id){(KA=HA.data).length>=2&&(f=KA.b[1]);break}}for(var g=0,b=s.height;g<b;){var m=g++;switch($A=r.b[o++]){case 0:if(d)for(var v=0,w=jA;v<w;){v++;var y=r.b[o++];i.b[u++]=y,i.b[u++]=y,i.b[u++]=y,i.b[u++]=r.b[o++]}else for(var B=0,C=jA;B<C;){B++;var k=r.b[o++];i.b[u++]=k,i.b[u++]=k,i.b[u++]=k,i.b[u++]=k==f?0:255}break;case 1:var M=0,S=0;if(d)for(var T=0,E=jA;T<E;){T++;M+=r.b[o++],i.b[u++]=M,i.b[u++]=M,i.b[u++]=M,S+=r.b[o++],i.b[u++]=S}else for(var I=0,D=jA;I<D;){var V=I++;M+=r.b[o++],i.b[u++]=M,i.b[u++]=M,i.b[u++]=M,i.b[u++]=M==f?0:255}break;case 2:p=0==m?0:4*jA*c;if(d)for(var R=0,U=jA;R<U;){R++;var G=r.b[o++]+i.b[u-p];i.b[u++]=G,i.b[u++]=G,i.b[u++]=G,i.b[u++]=r.b[o++]+i.b[u-p]}else for(var z=0,P=jA;z<P;){z++;var O=r.b[o++]+i.b[u-p];i.b[u++]=O,i.b[u++]=O,i.b[u++]=O,i.b[u++]=O==f?0:255}break;case 3:var L=0,N=0,Y=0==m?0:4*jA*c;if(d)for(var X=0,W=jA;X<W;){X++;L=r.b[o++]+(L+i.b[u-Y]>>1)&255,i.b[u++]=L,i.b[u++]=L,i.b[u++]=L,N=r.b[o++]+(N+i.b[u-Y]>>1)&255,i.b[u++]=N}else for(var Z=0,H=jA;Z<H;){Z++;L=r.b[o++]+(L+i.b[u-Y]>>1)&255,i.b[u++]=L,i.b[u++]=L,i.b[u++]=L,i.b[u++]=L==f?0:255}break;case 4:var K=4*jA*c,J=0,j=0;if(d)for(var q=0,$=jA;q<$;){var AA=q++;(rt=(it=J+(l=0==m?0:i.b[u-K])-(At=0==AA||0==m?0:i.b[u-K-4]))-J)<0&&(rt=-rt),(nt=it-l)<0&&(nt=-nt),(at=it-At)<0&&(at=-at);var tA=o++;J=(rt<=nt&&rt<=at?J:nt<=at?l:At)+r.b[tA]&255,i.b[u++]=J,i.b[u++]=J,i.b[u++]=J,(fA=(pA=j+(dA=0==m?0:i.b[u-K])-(tt=0==AA||0==m?0:i.b[u-K-4]))-j)<0&&(fA=-fA),(xA=pA-dA)<0&&(xA=-xA),(gA=pA-tt)<0&&(gA=-gA);var eA=o++;j=(fA<=xA&&fA<=gA?j:xA<=gA?dA:tt)+r.b[eA]&255,i.b[u++]=j}else for(var sA=0,iA=jA;sA<iA;){var rA=sA++;(vA=(mA=J+(bA=0==m?0:i.b[u-K])-(et=0==rA||0==m?0:i.b[u-K-4]))-J)<0&&(vA=-vA),(wA=mA-bA)<0&&(wA=-wA),(yA=mA-et)<0&&(yA=-yA);var nA=o++;J=(vA<=wA&&vA<=yA?J:wA<=yA?bA:et)+r.b[nA]&255,i.b[u++]=J,i.b[u++]=J,i.b[u++]=J,i.b[u++]=J==f?0:255}break;default:throw de.thrown("Invalid filter "+$A)}u+=_}break;case 1:d=cA.alpha;if(8!=s.colbits)throw de.thrown("Unsupported color mode");p=(d?4:3)*(jA=s.width)+1;if(r.length<s.height*p)throw de.thrown("Not enough data");var aA=-1,hA=-1,lA=-1;if(!d)for(x=A.h;null!=x;){h=x.item;if(x=x.next,4==(HA=h)._hx_index&&"tRNS"==HA.id){(KA=HA.data).length>=6&&(aA=KA.b[1],hA=KA.b[3],lA=KA.b[5]);break}}var oA=0,uA=0,_A=0,cA=(S=0,0);for(g=s.height;cA<g;){m=cA++;switch($A=r.b[o++]){case 0:if(d)for(b=0,v=jA;b<v;){b++;i.b[u++]=r.b[o+2],i.b[u++]=r.b[o+1],i.b[u++]=r.b[o],i.b[u++]=r.b[o+3],o+=4}else for(w=0,B=jA;w<B;){w++;_A=r.b[o+2],i.b[u++]=_A,uA=r.b[o+1],i.b[u++]=uA,oA=r.b[o],i.b[u++]=oA,i.b[u++]=oA==aA&&uA==hA&&_A==lA?0:255,o+=3}break;case 1:if(oA=uA=_A=S=0,d)for(C=0,T=jA;C<T;){C++;_A+=r.b[o+2],i.b[u++]=_A,uA+=r.b[o+1],i.b[u++]=uA,oA+=r.b[o],i.b[u++]=oA,S+=r.b[o+3],i.b[u++]=S,o+=4}else for(E=0,I=jA;E<I;){V=E++;_A+=r.b[o+2],i.b[u++]=_A,uA+=r.b[o+1],i.b[u++]=uA,oA+=r.b[o],i.b[u++]=oA,i.b[u++]=oA==aA&&uA==hA&&_A==lA?0:255,o+=3}break;case 2:p=0==m?0:4*jA*c;if(d)for(D=0,R=jA;D<R;){D++;i.b[u]=r.b[o+2]+i.b[u-p],++u,i.b[u]=r.b[o+1]+i.b[u-p],++u,i.b[u]=r.b[o]+i.b[u-p],++u,i.b[u]=r.b[o+3]+i.b[u-p],++u,o+=4}else for(U=0,z=jA;U<z;){U++;_A=r.b[o+2]+i.b[u-p],i.b[u]=_A,++u,uA=r.b[o+1]+i.b[u-p],i.b[u]=uA,++u,oA=r.b[o]+i.b[u-p],i.b[u]=oA,++u,i.b[u++]=oA==aA&&uA==hA&&_A==lA?0:255,o+=3}break;case 3:oA=uA=_A=S=0;Y=0==m?0:4*jA*c;if(d)for(P=0,X=jA;P<X;){P++;_A=r.b[o+2]+(_A+i.b[u-Y]>>1)&255,i.b[u++]=_A,uA=r.b[o+1]+(uA+i.b[u-Y]>>1)&255,i.b[u++]=uA,oA=r.b[o]+(oA+i.b[u-Y]>>1)&255,i.b[u++]=oA,S=r.b[o+3]+(S+i.b[u-Y]>>1)&255,i.b[u++]=S,o+=4}else for(W=0,Z=jA;W<Z;){W++;_A=r.b[o+2]+(_A+i.b[u-Y]>>1)&255,i.b[u++]=_A,uA=r.b[o+1]+(uA+i.b[u-Y]>>1)&255,i.b[u++]=uA,oA=r.b[o]+(oA+i.b[u-Y]>>1)&255,i.b[u++]=oA,i.b[u++]=oA==aA&&uA==hA&&_A==lA?0:255,o+=3}break;case 4:K=4*jA*c;if(oA=uA=_A=S=0,d)for(H=0,q=jA;H<q;){var dA,pA,fA,xA,gA,bA,mA,vA,wA,yA;AA=H++;(rt=(it=_A+(l=0==m?0:i.b[u-K])-(At=0==AA||0==m?0:i.b[u-K-4]))-_A)<0&&(rt=-rt),(nt=it-l)<0&&(nt=-nt),(at=it-At)<0&&(at=-at),_A=(rt<=nt&&rt<=at?_A:nt<=at?l:At)+r.b[o+2]&255,i.b[u++]=_A,(fA=(pA=uA+(dA=0==m?0:i.b[u-K])-(tt=0==AA||0==m?0:i.b[u-K-4]))-uA)<0&&(fA=-fA),(xA=pA-dA)<0&&(xA=-xA),(gA=pA-tt)<0&&(gA=-gA),uA=(fA<=xA&&fA<=gA?uA:xA<=gA?dA:tt)+r.b[o+1]&255,i.b[u++]=uA,(vA=(mA=oA+(bA=0==m?0:i.b[u-K])-(et=0==AA||0==m?0:i.b[u-K-4]))-oA)<0&&(vA=-vA),(wA=mA-bA)<0&&(wA=-wA),(yA=mA-et)<0&&(yA=-yA),oA=(vA<=wA&&vA<=yA?oA:wA<=yA?bA:et)+r.b[o]&255,i.b[u++]=oA;var BA=0==m?0:i.b[u-K],CA=S+BA-(st=0==AA||0==m?0:i.b[u-K-4]),kA=CA-S;kA<0&&(kA=-kA);var MA=CA-BA;MA<0&&(MA=-MA);var SA=CA-st;SA<0&&(SA=-SA),S=(kA<=MA&&kA<=SA?S:MA<=SA?BA:st)+r.b[o+3]&255,i.b[u++]=S,o+=4}else for($=0,sA=jA;$<sA;){rA=$++;var TA=0==m?0:i.b[u-K],FA=0==rA||0==m?0:i.b[u-K-4],EA=_A+TA-FA,IA=EA-_A;IA<0&&(IA=-IA);var DA=EA-TA;DA<0&&(DA=-DA);var QA=EA-FA;QA<0&&(QA=-QA),_A=(IA<=DA&&IA<=QA?_A:DA<=QA?TA:FA)+r.b[o+2]&255,i.b[u++]=_A;var VA=0==m?0:i.b[u-K],RA=0==rA||0==m?0:i.b[u-K-4],UA=uA+VA-RA,GA=UA-uA;GA<0&&(GA=-GA);var zA=UA-VA;zA<0&&(zA=-zA);var PA=UA-RA;PA<0&&(PA=-PA),uA=(GA<=zA&&GA<=PA?uA:zA<=PA?VA:RA)+r.b[o+1]&255,i.b[u++]=uA;var OA=0==m?0:i.b[u-K],LA=0==rA||0==m?0:i.b[u-K-4],NA=oA+OA-LA,YA=NA-oA;YA<0&&(YA=-YA);var XA=NA-OA;XA<0&&(XA=-XA);var WA=NA-LA;WA<0&&(WA=-WA),oA=(YA<=XA&&YA<=WA?oA:XA<=WA?OA:LA)+r.b[o]&255,i.b[u++]=oA,i.b[u++]=oA==aA&&uA==hA&&_A==lA?0:255,o+=3}break;default:throw de.thrown("Invalid filter "+$A)}u+=_}break;case 2:var ZA=F.getPalette(A);if(null==ZA)throw de.thrown("PNG Palette is missing");for(d=null,x=A.h;null!=x;){var HA;h=x.item;if(x=x.next,4==(HA=h)._hx_index&&"tRNS"==HA.id){var KA;d=KA=HA.data;break}}if(null!=d&&d.length<1<<s.colbits){var JA=new Be(new ArrayBuffer(1<<s.colbits));JA.blit(0,d,0,d.length),JA.fill(d.length,JA.length-d.length,255),d=JA}var jA=s.width;p=Math.ceil(jA*s.colbits/8)+1;if(r.length<s.height*p)throw de.thrown("Not enough data");var qA=s.width*s.colbits>>3;for(cA=0,g=s.height;cA<g;){var $A;m=cA++;if(0!=($A=r.b[o++]))switch($A){case 1:var At=0;for(b=0,v=jA;b<v;){b++;At+=y=r.b[o],r.b[o++]=255&At}break;case 2:for(p=0==m?0:qA+1,w=0,B=jA;w<B;){w++,k=r.b[o];r.b[o]=k+r.b[o-p],++o}break;case 3:var tt=0;for(Y=0==m?0:qA+1,C=0,T=jA;C<T;){C++;tt=(G=r.b[o])+(tt+r.b[o-Y]>>1)&255,r.b[o++]=tt}break;case 4:K=qA+1;var et=0;for(E=0,I=jA;E<I;){V=E++,O=r.b[o];var st,it,rt,nt,at,ht=1;null==ht&&(ht=4),(rt=(it=et+(l=0==m?0:r.b[o-K])-(st=0==V||0==m?0:r.b[o-K-ht]))-et)<0&&(rt=-rt),(nt=it-l)<0&&(nt=-nt),(at=it-st)<0&&(at=-at),et=(rt<=nt&&rt<=at?et:nt<=at?l:st)+O&255,r.b[o++]=et}break;default:throw de.thrown("Invalid filter "+$A)}else o+=qA}o=0;if(8==s.colbits)for(cA=0,g=s.height;cA<g;){m=cA++;++o;for(b=0,v=s.width;b<v;){b++,At=r.b[o++];i.b[u++]=ZA.b[3*At+2],i.b[u++]=ZA.b[3*At+1],i.b[u++]=ZA.b[3*At],i.b[u++]=null!=d?d.b[At]:255}u+=_}else{if(!(s.colbits<8))throw de.thrown(s.colbits+" indexed bits per pixel not supported");var lt=s.colbits,ot=(1<<lt)-1;for(cA=0,g=s.height;cA<g;){m=cA++;++o;var ut=0,_t=0;for(b=0,v=s.width;b<v;){b++;_t<lt&&(ut=ut<<8|r.b[o++],_t+=8);At=ut>>>_t-lt&ot;_t-=lt,i.b[u++]=ZA.b[3*At+2],i.b[u++]=ZA.b[3*At+1],i.b[u++]=ZA.b[3*At],i.b[u++]=null!=d?d.b[At]:255}u+=_}}}return i};var E=i["format.tga.ImageOrigin"]={__ename__:!0,__constructs__:null,BottomLeft:{_hx_name:"BottomLeft",_hx_index:0,__enum__:"format.tga.ImageOrigin",toString:s},BottomRight:{_hx_name:"BottomRight",_hx_index:1,__enum__:"format.tga.ImageOrigin",toString:s},TopLeft:{_hx_name:"TopLeft",_hx_index:2,__enum__:"format.tga.ImageOrigin",toString:s},TopRight:{_hx_name:"TopRight",_hx_index:3,__enum__:"format.tga.ImageOrigin",toString:s}};E.__constructs__=[E.BottomLeft,E.BottomRight,E.TopLeft,E.TopRight],E.__empty_constructs__=[E.BottomLeft,E.BottomRight,E.TopLeft,E.TopRight];var I=i["format.tga.ImageType"]={__ename__:!0,__constructs__:null,NoImage:{_hx_name:"NoImage",_hx_index:0,__enum__:"format.tga.ImageType",toString:s},UncompressedColorMapped:{_hx_name:"UncompressedColorMapped",_hx_index:1,__enum__:"format.tga.ImageType",toString:s},UncompressedTrueColor:{_hx_name:"UncompressedTrueColor",_hx_index:2,__enum__:"format.tga.ImageType",toString:s},UncompressedBlackAndWhite:{_hx_name:"UncompressedBlackAndWhite",_hx_index:3,__enum__:"format.tga.ImageType",toString:s},RunLengthColorMapped:{_hx_name:"RunLengthColorMapped",_hx_index:4,__enum__:"format.tga.ImageType",toString:s},RunLengthTrueColor:{_hx_name:"RunLengthTrueColor",_hx_index:5,__enum__:"format.tga.ImageType",toString:s},RunLengthBlackAndWhite:{_hx_name:"RunLengthBlackAndWhite",_hx_index:6,__enum__:"format.tga.ImageType",toString:s},Unknown:(t=function(A){return{_hx_index:7,type:A,__enum__:"format.tga.ImageType",toString:s}},t._hx_name="Unknown",t.__params__=["type"],t)};I.__constructs__=[I.NoImage,I.UncompressedColorMapped,I.UncompressedTrueColor,I.UncompressedBlackAndWhite,I.RunLengthColorMapped,I.RunLengthTrueColor,I.RunLengthBlackAndWhite,I.Unknown],I.__empty_constructs__=[I.NoImage,I.UncompressedColorMapped,I.UncompressedTrueColor,I.UncompressedBlackAndWhite,I.RunLengthColorMapped,I.RunLengthTrueColor,I.RunLengthBlackAndWhite];var D=function(A){this.i=A,A.set_bigEndian(!1)};e["format.tga.Reader"]=D,D.__name__="format.tga.Reader",D.prototype={read:function(){var A=this.i.readByte(),t=this.readHeader(),e=0==A?"":this.i.readString(A),s=this.readColorMapData(t);return{header:t,imageId:e,colorMapData:s,imageData:this.readImageData(t,s),developerData:null}},readHeader:function(){var A,t=this.i.readByte(),e=this.i.readByte();switch(e){case 0:A=I.NoImage;break;case 1:A=I.UncompressedColorMapped;break;case 2:A=I.UncompressedTrueColor;break;case 3:A=I.UncompressedBlackAndWhite;break;case 9:A=I.RunLengthColorMapped;break;case 10:A=I.RunLengthTrueColor;break;case 11:A=I.RunLengthBlackAndWhite;break;default:A=I.Unknown(e)}var s,i=this.i.readInt16(),r=this.i.readInt16(),n=this.i.readByte(),a=this.i.readInt16(),h=this.i.readInt16(),l=this.i.readInt16(),o=this.i.readInt16(),u=this.i.readByte(),_=this.i.readByte();switch(48&_){case 16:s=E.BottomRight;break;case 32:s=E.TopLeft;break;case 48:s=E.TopRight;break;default:s=E.BottomLeft}return{colorMapType:t,imageType:A,colorMapFirstIndex:i,colorMapLength:r,colorMapEntrySize:n,xOrigin:a,yOrigin:h,width:l,height:o,bitsPerPixel:u,alphaChannelBits:15&_,imageOrigin:s}},readColorMapData:function(A){return 0==A.colorMapType?null:this.readPixels(A.colorMapEntrySize,A.colorMapLength,A.alphaChannelBits,!1)},readImageData:function(A,t){switch(A.imageType._hx_index){case 0:return null;case 1:return this.readIndexes(A.bitsPerPixel,A.width*A.height,t,A.colorMapFirstIndex,!1);case 2:return this.readPixels(A.bitsPerPixel,A.width*A.height,A.alphaChannelBits,!1);case 3:return this.readMono(A.bitsPerPixel,A.width*A.height,A.alphaChannelBits,!1);case 4:return this.readIndexes(A.bitsPerPixel,A.width*A.height,t,A.colorMapFirstIndex,!0);case 5:return this.readPixels(A.bitsPerPixel,A.width*A.height,A.alphaChannelBits,!0);case 6:return this.readMono(A.bitsPerPixel,A.width*A.height,A.alphaChannelBits,!0);default:throw de.thrown("Unsupported image data type!")}},readPixels:function(A,e,s,i){var r,n,a=new Array(e),h=0!=s,l=A/3|0;switch(l>8&&(l=8),A){case 8:n=Di(t=this.i,t.readByte),r=Di(this,this.parsePixel1);break;case 16:n=Di(t=this.i,t.readUInt16),r=Di(this,this.parsePixel2);break;case 24:n=Di(t=this.i,t.readUInt24),r=Di(this,this.parsePixel3);break;case 32:n=Di(t=this.i,t.readInt32),r=Di(this,this.parsePixel4);break;default:throw de.thrown("Unsupported bits per pixels amount!")}if(i)for(var o,u=0;u<e;)if(0!=(128&(o=this.i.readByte()))){o&=127;for(var _=r(n(),h);o>=0;)a[u++]=_,--o}else for(o&=127;o>=0;)a[u++]=r(n(),h),--o;else for(var c=0,d=e;c<d;){a[u=c++]=r(n(),h)}return a},readMono:function(A,e,s,i){var r,n,a=new Array(e),h=0!=s;switch(A){case 8:n=Di(t=this.i,t.readByte),r=Di(this,this.parsePixel1);break;case 16:n=Di(t=this.i,t.readUInt16),r=Di(this,this.parsePixelGreyAlpha);break;default:throw de.thrown("Unsupported bits per pixels amount!")}if(i)for(var l,o=0;o<e;)if(0!=(128&(l=this.i.readByte()))){l&=127;for(var u=r(n(),h);l>=0;)a[o++]=u,--l}else for(l&=127;l>=0;)a[o++]=r(n(),h),--l;else for(var _=0,c=e;_<c;){a[o=_++]=r(n(),h)}return a},readIndexes:function(A,e,s,i,r){var n,a=new Array(e);switch(A){case 8:n=Di(t=this.i,t.readByte);break;case 16:n=Di(t=this.i,t.readUInt16);break;case 24:n=Di(t=this.i,t.readUInt24);break;case 32:n=Di(t=this.i,t.readInt32);break;default:throw de.thrown("Unsupported bits per pixels amount!")}if(r)for(var h,l=0;l<e;)if(0!=(128&(h=this.i.readByte()))){h&=127;for(var o=s[i+n()];h>=0;)a[l++]=o,--h}else for(h&=127;h>=0;)a[l++]=s[i+n()],--h;else for(var u=0,_=e;u<_;){a[l=u++]=s[i+n()]}return a},parsePixel1:function(A,t){return A<<16|A<<8|A},parsePixelGreyAlpha:function(A,t){return(t?(65280&A)<<16:0)|this.parsePixel1(255&A,!1)},parsePixel2:function(A,t){return(t&&1==(32768&A)?-16777216:0)|(((31744&A)>>10)/31*255|0)<<16|(((992&A)>>5)/31*255|0)<<8|(31&A)/31*255|0},parsePixel3:function(A,t){return A},parsePixel4:function(A,t){return A},__class__:D};var Q=function(){};e["format.tools.Inflate"]=Q,Q.__name__="format.tools.Inflate",Q.run=function(A){return es.run(A)};var V=function(A){a.call(this,A),this.color=new dA(1,1,1,1)};e["h2d.Drawable"]=V,V.__name__="h2d.Drawable",V.__super__=a,V.prototype=r(a.prototype,{drawFiltered:function(A,t){var e=this.shaders;this.shaders=null,a.prototype.drawFiltered.call(this,A,t),this.shaders=e},emitTile:function(A,t){null==t&&(t=new K(null,0,0,5,5)),A.drawTile(this,t)},__class__:V});var R=function(A,t){V.call(this,t),this.set_tile(A)};e["h2d.Bitmap"]=R,R.__name__="h2d.Bitmap",R.__super__=V,R.prototype=r(V.prototype,{getBoundsRec:function(A,t,e){V.prototype.getBoundsRec.call(this,A,t,e),null!=this.tile&&(null==this.width&&null==this.height?this.addBounds(A,t,this.tile.dx,this.tile.dy,this.tile.width,this.tile.height):this.addBounds(A,t,this.tile.dx,this.tile.dy,null!=this.width?this.width:this.tile.width*this.height/this.tile.height,null!=this.height?this.height:this.tile.height*this.width/this.tile.width))},set_width:function(A){return this.width==A||(this.width=A,null!=this.parentContainer&&this.parentContainer.contentChanged(this)),A},set_height:function(A){return this.height==A||(this.height=A,null!=this.parentContainer&&this.parentContainer.contentChanged(this)),A},set_tile:function(A){return this.tile==A||(this.tile=A,null!=this.parentContainer&&this.parentContainer.contentChanged(this)),A},draw:function(A){if(null!=this.width||null!=this.height){null==this.tile&&this.set_tile(K.fromColor(16711935));var t=this.tile.width,e=this.tile.height;this.tile.width=null!=this.width?this.width:t*this.height/e,this.tile.height=null!=this.height?this.height:e*this.width/t,this.emitTile(A,this.tile),this.tile.width=t,this.tile.height=e}else this.emitTile(A,this.tile)},__class__:R});var U=i["h2d.BlendMode"]={__ename__:!0,__constructs__:null,None:{_hx_name:"None",_hx_index:0,__enum__:"h2d.BlendMode",toString:s},Alpha:{_hx_name:"Alpha",_hx_index:1,__enum__:"h2d.BlendMode",toString:s},Add:{_hx_name:"Add",_hx_index:2,__enum__:"h2d.BlendMode",toString:s},AlphaAdd:{_hx_name:"AlphaAdd",_hx_index:3,__enum__:"h2d.BlendMode",toString:s},SoftAdd:{_hx_name:"SoftAdd",_hx_index:4,__enum__:"h2d.BlendMode",toString:s},Multiply:{_hx_name:"Multiply",_hx_index:5,__enum__:"h2d.BlendMode",toString:s},AlphaMultiply:{_hx_name:"AlphaMultiply",_hx_index:6,__enum__:"h2d.BlendMode",toString:s},Erase:{_hx_name:"Erase",_hx_index:7,__enum__:"h2d.BlendMode",toString:s},Screen:{_hx_name:"Screen",_hx_index:8,__enum__:"h2d.BlendMode",toString:s},Sub:{_hx_name:"Sub",_hx_index:9,__enum__:"h2d.BlendMode",toString:s},Max:{_hx_name:"Max",_hx_index:10,__enum__:"h2d.BlendMode",toString:s},Min:{_hx_name:"Min",_hx_index:11,__enum__:"h2d.BlendMode",toString:s}};U.__constructs__=[U.None,U.Alpha,U.Add,U.AlphaAdd,U.SoftAdd,U.Multiply,U.AlphaMultiply,U.Erase,U.Screen,U.Sub,U.Max,U.Min],U.__empty_constructs__=[U.None,U.Alpha,U.Add,U.AlphaAdd,U.SoftAdd,U.Multiply,U.AlphaMultiply,U.Erase,U.Screen,U.Sub,U.Max,U.Min];var G=function(A){this.followRotation=!1,this.posChanged=!0,this.x=0,this.posChanged=!0,this.y=0,this.posChanged=!0,this.scaleX=1,this.posChanged=!0,this.scaleY=1,this.posChanged=!0,this.rotation=0,this.posChanged=!0,this.anchorX=0,this.posChanged=!0,this.anchorY=0,this.viewX=0,this.viewY=0,this.viewW=1,this.viewH=1,this.visible=!0,null!=A&&A.addCamera(this)};e["h2d.Camera"]=G,G.__name__="h2d.Camera",G.prototype={layerVisible:function(A){return!0},enter:function(A){if(A.pushCamera(this),this.clipViewport){var t=A.inFilter;A.inFilter=null,A.pushRenderZone(this.viewX*this.scene.width,this.viewY*this.scene.height,this.viewW*this.scene.width,this.viewH*this.scene.height),A.inFilter=t}},exit:function(A){if(this.clipViewport){var t=A.inFilter;A.inFilter=null,A.popRenderZone(),A.inFilter=t}A.popCamera()},sync:function(A,t){if(null==t&&(t=!1),null!=this.scene&&(null!=this.follow&&(this.posChanged=!0,this.x=this.follow.absX,this.posChanged=!0,this.y=this.follow.absY,this.followRotation&&(this.posChanged=!0,this.rotation=-this.follow.rotation)),this.posChanged||t)){if(0==this.rotation)this.matA=this.scaleX,this.matB=0,this.matC=0,this.matD=this.scaleY;else{var e=Math.cos(this.rotation),s=Math.sin(this.rotation);this.matA=this.scaleX*e,this.matB=this.scaleX*s,this.matC=this.scaleY*-s,this.matD=this.scaleY*e}this.absX=Math.round(-(this.x*this.matA+this.y*this.matC)+this.scene.width*this.anchorX*this.viewW+this.scene.width*this.viewX),this.absY=Math.round(-(this.x*this.matB+this.y*this.matD)+this.scene.height*this.anchorY*this.viewH+this.scene.height*this.viewY),this.invDet=1/(this.matA*this.matD-this.matB*this.matC),this.posChanged=!1}},eventToCamera:function(A){var t=(A.relX-this.scene.offsetX)/this.scene.viewportScaleX-this.absX,e=(A.relY-this.scene.offsetY)/this.scene.viewportScaleY-this.absY;A.relX=(t*this.matD-e*this.matC)*this.invDet,A.relY=(-t*this.matB+e*this.matA)*this.invDet},__class__:G};var z=function(){};e["hxd.Interactive"]=z,z.__name__="hxd.Interactive",z.__isInterface__=!0,z.prototype={__class__:z};var P=function(A,t,e,s){this.shapeY=0,this.shapeX=0,this.mouseDownButton=-1,this.enableRightButton=!1,this.propagateEvents=!1,this.cancelEvents=!1,this.cursor=is.Button,V.call(this,e),this.width=A,this.height=t,this.shape=s};e["h2d.Interactive"]=P,P.__name__="h2d.Interactive",P.__interfaces__=[z],P.__super__=V,P.prototype=r(V.prototype,{onAdd:function(){this.scene=this.getScene(),null!=this.scene&&this.scene.addEventTarget(this),this.updateMask(),V.prototype.onAdd.call(this)},draw:function(A){null!=this.backgroundColor&&this.emitTile(A,K.fromColor(this.backgroundColor,0|this.width,0|this.height,(this.backgroundColor>>>24)/255))},getBoundsRec:function(A,t,e){V.prototype.getBoundsRec.call(this,A,t,e),(null!=this.backgroundColor||e)&&this.addBounds(A,t,0,0,0|this.width,0|this.height)},onHierarchyMoved:function(A){V.prototype.onHierarchyMoved.call(this,A),null!=this.scene&&(this.scene.removeEventTarget(this),this.scene=this.getScene(),null!=this.scene&&this.scene.addEventTarget(this)),A&&this.updateMask()},updateMask:function(){this.parentMask=null;for(var A=this.parent;null!=A;){var t=A instanceof L?A:null;if(null!=t){this.parentMask=t;break}A=A.parent}},onRemove:function(){null!=this.scene&&(this.scene.removeEventTarget(this,!0),this.scene=null),V.prototype.onRemove.call(this)},checkBounds:function(A){switch(A.kind._hx_index){case 4:case 6:case 7:case 10:return!1;default:return!0}},getInteractiveScene:function(){return this.scene},handleEvent:function(A){if(null!=this.parentMask&&this.checkBounds(A)){var t=this.parentMask,e=new eA(A.relX,A.relY);this.localToGlobal(e);for(var s=e.x,i=e.y;null!=t;){e.x=s,e.y=i;var r=t.globalToLocal(e);if(r.x<0||r.y<0||r.x>t.width||r.y>t.height)return void(A.cancel=!0);t=t.parentMask}}if(null==this.shape&&this.isEllipse&&this.checkBounds(A)){var n=.5*this.width,a=.5*this.height,h=(A.relX-n)/n,l=(A.relY-a)/a;if(h*h+l*l>1)return void(A.cancel=!0)}switch(this.propagateEvents&&(A.propagate=!0),this.cancelEvents&&(A.cancel=!0),A.kind._hx_index){case 0:(this.enableRightButton||0==A.button)&&(this.mouseDownButton=A.button,this.onPush(A),A.cancel&&(this.mouseDownButton=-1));break;case 1:(this.enableRightButton||0==A.button)&&(this.onRelease(A),this.mouseDownButton==A.button&&this.onClick(A)),this.mouseDownButton=-1;break;case 2:this.onMove(A);break;case 3:this.onOver(A);break;case 4:this.onOut(A);break;case 5:this.onWheel(A);break;case 6:this.onFocus(A);break;case 7:this.onFocusLost(A);break;case 8:this.onKeyDown(A);break;case 9:this.onKeyUp(A);break;case 10:(this.enableRightButton||0==A.button)&&(this.onRelease(A),this.mouseDownButton==A.button&&this.onReleaseOutside(A)),this.mouseDownButton=-1;break;case 11:this.onTextInput(A);break;case 12:this.onCheck(A)}},calcAbsPos:function(){V.prototype.calcAbsPos.call(this),this.invDet=1/(this.matA*this.matD-this.matB*this.matC)},set_cursor:function(A){return this.cursor=A,null!=this.scene&&null!=this.scene.events&&this.scene.events.updateCursor(this),A},onOver:function(A){},onOut:function(A){},onPush:function(A){},onRelease:function(A){},onReleaseOutside:function(A){},onClick:function(A){},onMove:function(A){},onWheel:function(A){},onFocus:function(A){},onFocusLost:function(A){},onKeyUp:function(A){},onKeyDown:function(A){},onCheck:function(A){},onTextInput:function(A){},__class__:P});var O=function(A){a.call(this,A),this.layersIndexes=[],this.layerCount=0};e["h2d.Layers"]=O,O.__name__="h2d.Layers",O.__super__=a,O.prototype=r(a.prototype,{addChild:function(A){this.addChildAt(A,0)},addChildAt:function(A,t){if(A.parent==this){var e=A.allocated;A.allocated=!1,this.removeChild(A),A.allocated=e}for(;t>=this.layerCount;)this.layersIndexes[this.layerCount++]=this.children.length;a.prototype.addChildAt.call(this,A,this.layersIndexes[t]);for(var s=t,i=this.layerCount;s<i;){var r=s++;this.layersIndexes[r]++}},removeChild:function(A){for(var t=0,e=this.children.length;t<e;){var s=t++;if(this.children[s]==A){this.children.splice(s,1),A.allocated&&A.onRemove(),A.parent=null,A.posChanged=!0,null!=A.parentContainer&&A.setParentContainer(null);for(var i=this.layerCount-1;i>=0&&this.layersIndexes[i]>s;)this.layersIndexes[i]--,--i;null!=this.parentContainer&&this.parentContainer.contentChanged(this);break}}},__class__:O});var L=function(A,t,e){this.scrollY=0,this.scrollX=0,a.call(this,e),this.width=A,this.height=t};e["h2d.Mask"]=L,L.__name__="h2d.Mask",L.maskWith=function(A,t,e,s,i,r){null==r&&(r=0),null==i&&(i=0);var n,a=t.absX+i,h=t.absY+r,l=e*t.matA+s*t.matC+a,o=e*t.matB+s*t.matD+h;a>l&&(n=a,a=l,l=n),h>o&&(n=h,h=o,o=n),A.pushRenderZone(a,h,l-a,o-h)},L.unmask=function(A){A.popRenderZone()},L.__super__=a,L.prototype=r(a.prototype,{onHierarchyMoved:function(A){a.prototype.onHierarchyMoved.call(this,A),A&&this.updateMask()},onAdd:function(){a.prototype.onAdd.call(this),this.updateMask()},updateMask:function(){this.parentMask=null;for(var A=this.parent;null!=A;){var t=A instanceof L?A:null;if(null!=t){this.parentMask=t;break}A=A.parent}},calcAbsPos:function(){a.prototype.calcAbsPos.call(this),this.absX-=this.scrollX,this.absY-=this.scrollY},getBoundsRec:function(A,t,e){var s=t.xMin,i=t.yMin,r=t.xMax,n=t.yMax;if(t.xMin=1e20,t.yMin=1e20,t.xMax=-1e20,t.yMax=-1e20,this.posChanged){this.calcAbsPos();for(var h=0,l=this.children;h<l.length;){var o=l[h];++h,o.posChanged=!0}this.posChanged=!1}this.addBounds(A,t,this.scrollX,this.scrollY,this.width,this.height);var u=t.xMin,_=t.yMin,c=t.xMax,d=t.yMax;t.xMin=s,t.xMax=r,t.yMin=i,t.yMax=n,a.prototype.getBoundsRec.call(this,A,t,e),t.xMin<u&&(t.xMin=s>u?u:s),t.yMin<_&&(t.yMin=i>_?_:i),t.xMax>c&&(t.xMax=r<c?c:r),t.yMax>d&&(t.yMax=n<d?d:n)},drawRec:function(A){L.maskWith(A,this,this.width,this.height,this.scrollX,this.scrollY),a.prototype.drawRec.call(this,A),L.unmask(A)},__class__:L});var N=function(){this.engine=oA.CURRENT,this.frame=0,this.time=0,this.elapsedTime=1/bs.getDefaultFrameRate(),this.textures=new VA(this)};e["h3d.impl.RenderContext"]=N,N.__name__="h3d.impl.RenderContext",N.prototype={__class__:N};var Y=function(A){this.renderZoneIndex=0,this.renderZoneStack=[],this.tmpBounds=new AA,this.defaultSmooth=!1,this.globalAlpha=1,N.call(this),this.scene=A,this.bufPos=0,this.manager=new wt,this.pass=new $A("",null),this.pass.depth(!0,PA.Always),this.pass.set_culling(GA.None),this.baseShader=new Nt,this.baseShader.setPriority(100),this.baseShader.zValue__=0,this.baseShaderList=new Bi(this.baseShader),this.targetsStack=[],this.targetsStackIndex=0,this.cameraStack=[],this.cameraStackIndex=0,this.filterStack=[]};e["h2d.RenderContext"]=Y,Y.__name__="h2d.RenderContext",Y.__super__=N,Y.prototype=r(N.prototype,{begin:function(){this.texture=null,this.currentObj=null,this.bufPos=0,this.stride=0,this.viewA=this.scene.viewportA,this.viewB=0,this.viewC=0,this.viewD=this.scene.viewportD,this.viewX=this.scene.viewportX,this.viewY=this.scene.viewportY,this.targetFlipY=this.engine.driver.hasFeature(BA.BottomLeftCoords)?-1:1,this.baseFlipY=null!=this.engine.getCurrentTarget()?this.targetFlipY:1,this.inFilter=null,this.manager.globals.set("time",this.time),this.manager.globals.set("global.time",this.time),(A=this.baseShader).constModified=!0,A.pixelAlign__=!1;var A=this.baseShader.halfPixelInverse__,t=.5/this.engine.width;null==(e=.5/this.engine.height)&&(e=0),null==t&&(t=0),A.x=t,A.y=e,A.z=0,A.w=1;A=this.baseShader.viewportA__,t=this.scene.viewportA;var e=0;null==(s=this.scene.viewportX)&&(s=0),null==e&&(e=0),null==t&&(t=0),A.x=t,A.y=e,A.z=s,A.w=1;var s;A=this.baseShader.viewportB__,t=0,e=this.scene.viewportD*-this.baseFlipY;null==(s=this.scene.viewportY*-this.baseFlipY)&&(s=0),null==e&&(e=0),null==t&&(t=0),A.x=t,A.y=e,A.z=s,A.w=1,null==(s=0)&&(s=0),null==(e=0)&&(e=0),null==(t=1)&&(t=0),(A=this.baseShader.filterMatrixA__).x=t,A.y=e,A.z=s,A.w=1,null==(s=0)&&(s=0),null==(e=1)&&(e=0),null==(t=0)&&(t=0),(A=this.baseShader.filterMatrixB__).x=t,A.y=e,A.z=s,A.w=1,this.baseShaderList.next=null,this.initShaders(this.baseShaderList),this.engine.selectMaterial(this.pass),this.textures.begin()},initShaders:function(A){if(this.currentShaders=A,this.compiledShader=this.manager.compileShaders(A),null==this.buffers)this.buffers=new Zt(this.compiledShader);else{var t=this.buffers,e=this.compiledShader;t.vertex.grow(e.vertex),t.fragment.grow(e.fragment)}this.manager.fillGlobals(this.buffers,this.compiledShader),this.engine.selectShader(this.compiledShader),this.engine.uploadShaderBuffers(this.buffers,0)},end:function(){if(this.texture=null,this.currentObj=null,this.baseShaderList.next=null,0!=this.targetsStackIndex)throw de.thrown("Missing popTarget()");if(0!=this.cameraStackIndex)throw de.thrown("Missing popCamera()")},pushCamera:function(A){var t=this.cameraStack[this.cameraStackIndex++];null==t&&(t={va:0,vb:0,vc:0,vd:0,vx:0,vy:0},this.cameraStack.push(t));var e=this.viewA,s=this.viewB,i=this.viewC,r=this.viewD;t.va=e,t.vb=s,t.vc=i,t.vd=r,t.vx=this.viewX,t.vy=this.viewY,this.viewA=A.matA*e+A.matB*i,this.viewB=A.matA*s+A.matB*r,this.viewC=A.matC*e+A.matD*i,this.viewD=A.matC*s+A.matD*r,this.viewX=A.absX*e+A.absY*i+this.viewX,this.viewY=A.absX*s+A.absY*r+this.viewY;var n=null!=this.curTarget?-this.targetFlipY:-this.baseFlipY,a=this.baseShader.viewportA__,h=this.viewA,l=this.viewC;null==(o=this.viewX)&&(o=0),null==l&&(l=0),null==h&&(h=0),a.x=h,a.y=l,a.z=o,a.w=1;var o;a=this.baseShader.viewportB__,h=this.viewB*n,l=this.viewD*n;null==(o=this.viewY*n)&&(o=0),null==l&&(l=0),null==h&&(h=0),a.x=h,a.y=l,a.z=o,a.w=1},popCamera:function(){if(0==this.cameraStackIndex)throw de.thrown("Too many popCamera()");var A=this.cameraStack[--this.cameraStackIndex];this.viewA=A.va,this.viewB=A.vb,this.viewC=A.vc,this.viewD=A.vd,this.viewX=A.vx,this.viewY=A.vy;var t=null!=this.curTarget?-this.targetFlipY:-this.baseFlipY,e=this.baseShader.viewportA__,s=this.viewA,i=this.viewC;null==(r=this.viewX)&&(r=0),null==i&&(i=0),null==s&&(s=0),e.x=s,e.y=i,e.z=r,e.w=1;var r;e=this.baseShader.viewportB__,s=this.viewB*t,i=this.viewD*t;null==(r=this.viewY*t)&&(r=0),null==i&&(i=0),null==s&&(s=0),e.x=s,e.y=i,e.z=r,e.w=1},pushFilter:function(A){return!(0==this.filterStack.length&&null!=this.onEnterFilter&&!this.onEnterFilter(A))&&(this.filterStack.push(A),this.inFilter=A,!0)},popFilter:function(){var A=this.filterStack.pop();this.filterStack.length>0?this.inFilter=this.filterStack[this.filterStack.length-1]:(this.inFilter=null,null!=this.onLeaveFilter&&this.onLeaveFilter(A))},pushTarget:function(A,t,e,s,i){null==i&&(i=-1),null==s&&(s=-1),null==e&&(e=0),null==t&&(t=0),this.engine.pushTarget(A),this.initShaders(this.baseShaderList);var r=this.targetsStack[this.targetsStackIndex++];null==r&&(r={t:null,va:0,vb:0,vc:0,vd:0,vx:0,vy:0,hasRZ:!1,rzX:0,rzY:0,rzW:0,rzH:0},this.targetsStack.push(r)),r.t=this.curTarget,r.va=this.viewA,r.vb=this.viewB,r.vc=this.viewC,r.vd=this.viewD,r.vx=this.viewX,r.vy=this.viewY,r.hasRZ=this.hasRenderZone,r.rzX=this.renderX,r.rzY=this.renderY,r.rzW=this.renderW,r.rzH=this.renderH,s<0&&(s=null==A?this.scene.width:A.width),i<0&&(i=null==A?this.scene.height:A.height),this.viewA=2/s,this.viewB=0,this.viewC=0,this.viewD=2/i,this.viewX=-1-t*this.viewA,this.viewY=-1-e*this.viewD;var n=this.baseShader.halfPixelInverse__,a=.5/(null==A?this.engine.width:A.width);null==(h=.5/(null==A?this.engine.height:A.height))&&(h=0),null==a&&(a=0),n.x=a,n.y=h,n.z=0,n.w=1;n=this.baseShader.viewportA__,a=this.viewA;var h=this.viewC;null==(l=this.viewX)&&(l=0),null==h&&(h=0),null==a&&(a=0),n.x=a,n.y=h,n.z=l,n.w=1;var l;n=this.baseShader.viewportB__,a=this.viewB*-this.targetFlipY,h=this.viewD*-this.targetFlipY;null==(l=this.viewY*-this.targetFlipY)&&(l=0),null==h&&(h=0),null==a&&(a=0),n.x=a,n.y=h,n.z=l,n.w=1,this.curTarget=A,this.currentBlend=null,this.hasRenderZone&&(this.hasRenderZone=!1,this.engine.setRenderZone())},popTarget:function(){if(this.targetsStackIndex<=0)throw de.thrown("Too many popTarget()");this.engine.popTarget();var A=this.targetsStack[--this.targetsStackIndex],t=this.curTarget=A.t;this.viewA=A.va,this.viewB=A.vb,this.viewC=A.vc,this.viewD=A.vd,this.viewX=A.vx,this.viewY=A.vy;var e=null==t?-this.baseFlipY:-this.targetFlipY;this.initShaders(this.baseShaderList);var s=this.baseShader.halfPixelInverse__,i=.5/(null==t?this.engine.width:t.width);null==(r=.5/(null==t?this.engine.height:t.height))&&(r=0),null==i&&(i=0),s.x=i,s.y=r,s.z=0,s.w=1;s=this.baseShader.viewportA__,i=this.viewA;var r=this.viewC;null==(n=this.viewX)&&(n=0),null==r&&(r=0),null==i&&(i=0),s.x=i,s.y=r,s.z=n,s.w=1;var n;s=this.baseShader.viewportB__,i=this.viewB*e,r=this.viewD*e;null==(n=this.viewY*e)&&(n=0),null==r&&(r=0),null==i&&(i=0),s.x=i,s.y=r,s.z=n,s.w=1,A.hasRZ&&this.setRZ(A.rzX,A.rzY,A.rzW,A.rzH)},pushRenderZone:function(A,t,e,s){var i=this.renderZoneStack[this.renderZoneIndex++];null==i?(i={hasRZ:this.hasRenderZone,x:this.renderX,y:this.renderY,w:this.renderW,h:this.renderH},this.renderZoneStack[this.renderZoneIndex-1]=i):this.hasRenderZone?(i.hasRZ=!0,i.x=this.renderX,i.y=this.renderY,i.w=this.renderW,i.h=this.renderH):i.hasRZ=!1,this.setRZ(A,t,e,s)},popRenderZone:function(){if(0==this.renderZoneIndex)throw de.thrown("Too many popRenderZone()");var A=this.renderZoneStack[--this.renderZoneIndex];A.hasRZ?this.setRZ(A.x,A.y,A.w,A.h):(this.hasRenderZone=!1,this.engine.setRenderZone())},setRZ:function(A,t,e,s){this.hasRenderZone=!0,this.renderX=A,this.renderY=t,this.renderW=e,this.renderH=s;var i=this.scene.viewportA*this.engine.width/2,r=this.scene.viewportD*this.engine.height/2;if(null!=this.inFilter){var n=this.baseShader.filterMatrixA__,a=this.baseShader.filterMatrixB__,h=A+e,l=t+s,o=A*n.x+t*n.y+n.z,u=A*a.x+t*a.y+a.z;A=o,t=u,e=h*n.x+l*n.y+n.z-o,s=h*a.x+l*a.y+a.z-u}this.engine.setRenderZone(A*i+(this.scene.viewportX+1)*(this.engine.width/2)+1e-10|0,t*r+(this.scene.viewportY+1)*(this.engine.height/2)+1e-10|0,e*i+1e-10|0,s*r+1e-10|0)},drawScene:function(){this.scene.drawRec(this)},beforeDraw:function(){null==this.texture&&(this.texture=et.fromColor(16711935)),this.baseShader.texture__=this.texture,this.texture.set_filter((null==this.currentObj.smooth?this.defaultSmooth:this.currentObj.smooth)?NA.Linear:NA.Nearest),this.texture.set_wrap(!this.currentObj.tileWrap||null!=this.currentObj.filter&&null==this.inFilter?YA.Clamp:YA.Repeat);var A=this.currentObj.blendMode;this.inFilter==this.currentObj&&A==U.Erase&&(A=U.Add),null!=this.inFilterBlend&&(A=this.inFilterBlend),A!=this.currentBlend&&(this.currentBlend=A,this.pass.setBlendMode(A),A!=U.Alpha&&A!=U.Add||(this.pass.set_blendAlphaSrc(zA.One),null!=this.inFilterBlend&&this.pass.set_blendSrc(zA.One))),this.manager.fillParams(this.buffers,this.compiledShader,this.currentShaders),this.engine.selectMaterial(this.pass),this.engine.uploadShaderBuffers(this.buffers,1),this.engine.uploadShaderBuffers(this.buffers,2),this.engine.uploadShaderBuffers(this.buffers,3)},beginDrawBatchState:function(A){if(!this.beginDraw(A,null,!0))return!1;if(this.inFilter==A){var t=this.baseShader.color__,e=A.color.x,s=A.color.y,i=A.color.z;null==(r=A.color.w)&&(r=1),null==i&&(i=0),null==s&&(s=0),null==e&&(e=0),t.x=e,t.y=s,t.z=i,t.w=r}else if(null!=this.inFilterBlend){t=this.baseShader.color__,e=this.globalAlpha,s=this.globalAlpha,i=this.globalAlpha;null==(r=this.globalAlpha)&&(r=1),null==i&&(i=0),null==s&&(s=0),null==e&&(e=0),t.x=e,t.y=s,t.z=i,t.w=r}else{var r;t=this.baseShader.color__,e=A.color.x,s=A.color.y,i=A.color.z;null==(r=A.color.w*this.globalAlpha)&&(r=1),null==i&&(i=0),null==s&&(s=0),null==e&&(e=0),t.x=e,t.y=s,t.z=i,t.w=r}t=this.baseShader.absoluteMatrixA__,e=A.matA,s=A.matC;null==(i=A.absX)&&(i=0),null==s&&(s=0),null==e&&(e=0),t.x=e,t.y=s,t.z=i,t.w=1;t=this.baseShader.absoluteMatrixB__,e=A.matB,s=A.matD;return null==(i=A.absY)&&(i=0),null==s&&(s=0),null==e&&(e=0),t.x=e,t.y=s,t.z=i,t.w=1,!0},drawTile:function(A,t){var e,s,i,r,n,a;if(null!=this.inFilter){var h=this.baseShader.filterMatrixA__,l=this.baseShader.filterMatrixB__,o=A.matA*h.x+A.matB*h.y,u=A.matA*l.x+A.matB*l.y,_=A.matC*h.x+A.matD*h.y,c=A.matC*l.x+A.matD*l.y,d=A.absX*h.x+A.absY*h.y+h.z,p=A.absX*l.x+A.absY*l.y+l.z;e=o*this.viewA+u*this.viewC,s=o*this.viewB+u*this.viewD,i=_*this.viewA+c*this.viewC,r=_*this.viewB+c*this.viewD,n=d*this.viewA+p*this.viewC+this.viewX,a=d*this.viewB+p*this.viewD+this.viewY}else e=A.matA*this.viewA+A.matB*this.viewC,s=A.matA*this.viewB+A.matB*this.viewD,i=A.matC*this.viewA+A.matD*this.viewC,r=A.matC*this.viewB+A.matD*this.viewD,n=A.absX*this.viewA+A.absY*this.viewC+this.viewX,a=A.absX*this.viewB+A.absY*this.viewD+this.viewY;if(0==s&&0==i){var f=t.dx+.5*t.width,x=t.dy+.5*t.height,g=e<0?-e:e,b=r<0?-r:r,m=1.5*(t.width>t.height?t.width:t.height)*(g<b?b:g),v=n+f*e,w=a+x*r;if(v+m<-1||v-m>1||w+m<-1||w-m>1)return!1}else{var y=1e20,B=1e20,C=-1e20,k=-1e20;t.width,t.height;(S=t.dx*e+t.dy*i)<y&&(y=S),S>C&&(C=S),(T=t.dx*s+t.dy*r)<B&&(B=T),T>k&&(k=T),(S=((F=t.width)+t.dx)*e+t.dy*i)<y&&(y=S),S>C&&(C=S),(T=(F+t.dx)*s+t.dy*r)<B&&(B=T),T>k&&(k=T);var M=t.height;(S=t.dx*e+(M+t.dy)*i)<y&&(y=S),S>C&&(C=S),(T=t.dx*s+(M+t.dy)*r)<B&&(B=T),T>k&&(k=T);var S,T,F=t.width;M=t.height;if((S=(F+t.dx)*e+(M+t.dy)*i)<y&&(y=S),S>C&&(C=S),(T=(F+t.dx)*s+(M+t.dy)*r)<B&&(B=T),T>k&&(k=T),n+C<-1||a+k<-1||n+y>1||a+B>1)return!1}if(!this.beginDraw(A,t.innerTex,!0,!0))return!1;if(this.inFilter==A){var E=this.baseShader.color__,I=(F=A.color.x,M=A.color.y,A.color.z);null==(D=A.color.w)&&(D=1),null==I&&(I=0),null==M&&(M=0),null==F&&(F=0),E.x=F,E.y=M,E.z=I,E.w=D}else if(null!=this.inFilterBlend){E=this.baseShader.color__,F=this.globalAlpha,M=this.globalAlpha,I=this.globalAlpha;null==(D=this.globalAlpha)&&(D=1),null==I&&(I=0),null==M&&(M=0),null==F&&(F=0),E.x=F,E.y=M,E.z=I,E.w=D}else{E=this.baseShader.color__,F=A.color.x,M=A.color.y,I=A.color.z;null==(D=A.color.w*this.globalAlpha)&&(D=1),null==I&&(I=0),null==M&&(M=0),null==F&&(F=0),E.x=F,E.y=M,E.z=I,E.w=D}E=this.baseShader.absoluteMatrixA__,F=t.width*A.matA,M=t.height*A.matC;null==(I=A.absX+t.dx*A.matA+t.dy*A.matC)&&(I=0),null==M&&(M=0),null==F&&(F=0),E.x=F,E.y=M,E.z=I,E.w=1;E=this.baseShader.absoluteMatrixB__,F=t.width*A.matB,M=t.height*A.matD;null==(I=A.absY+t.dx*A.matB+t.dy*A.matD)&&(I=0),null==M&&(M=0),null==F&&(F=0),E.x=F,E.y=M,E.z=I,E.w=1;var D,Q;E=this.baseShader.uvPos__,F=t.u,M=t.v,I=t.u2-t.u;(null==(D=t.v2-t.v)&&(D=1),null==I&&(I=0),null==M&&(M=0),null==F&&(F=0),E.x=F,E.y=M,E.z=I,E.w=D,this.beforeDraw(),null!=this.fixedBuffer)?Q=null==(E=this.fixedBuffer).buffer||null==E.buffer.vbuf:Q=!0;if(Q){this.fixedBuffer=new aA(4,8,[nA.Quads,nA.RawFormat]);var V=hs._new(0),R=0;if(V.pos==V.array.length)(U=V.array.length<<1)<128&&(U=128),(G=new Float32Array(U)).set(V.array),V.array=G;V.array[V.pos++]=R;R=0;if(V.pos==V.array.length)(U=V.array.length<<1)<128&&(U=128),(G=new Float32Array(U)).set(V.array),V.array=G;V.array[V.pos++]=R;R=0;if(V.pos==V.array.length)(U=V.array.length<<1)<128&&(U=128),(G=new Float32Array(U)).set(V.array),V.array=G;V.array[V.pos++]=R;R=0;if(V.pos==V.array.length)(U=V.array.length<<1)<128&&(U=128),(G=new Float32Array(U)).set(V.array),V.array=G;V.array[V.pos++]=R;R=1;if(V.pos==V.array.length)(U=V.array.length<<1)<128&&(U=128),(G=new Float32Array(U)).set(V.array),V.array=G;V.array[V.pos++]=R;R=1;if(V.pos==V.array.length)(U=V.array.length<<1)<128&&(U=128),(G=new Float32Array(U)).set(V.array),V.array=G;V.array[V.pos++]=R;R=1;if(V.pos==V.array.length)(U=V.array.length<<1)<128&&(U=128),(G=new Float32Array(U)).set(V.array),V.array=G;V.array[V.pos++]=R;R=1;if(V.pos==V.array.length)(U=V.array.length<<1)<128&&(U=128),(G=new Float32Array(U)).set(V.array),V.array=G;V.array[V.pos++]=R;R=0;if(V.pos==V.array.length)(U=V.array.length<<1)<128&&(U=128),(G=new Float32Array(U)).set(V.array),V.array=G;V.array[V.pos++]=R;R=1;if(V.pos==V.array.length)(U=V.array.length<<1)<128&&(U=128),(G=new Float32Array(U)).set(V.array),V.array=G;V.array[V.pos++]=R;R=0;if(V.pos==V.array.length)(U=V.array.length<<1)<128&&(U=128),(G=new Float32Array(U)).set(V.array),V.array=G;V.array[V.pos++]=R;R=1;if(V.pos==V.array.length)(U=V.array.length<<1)<128&&(U=128),(G=new Float32Array(U)).set(V.array),V.array=G;V.array[V.pos++]=R;R=1;if(V.pos==V.array.length)(U=V.array.length<<1)<128&&(U=128),(G=new Float32Array(U)).set(V.array),V.array=G;V.array[V.pos++]=R;R=1;if(V.pos==V.array.length)(U=V.array.length<<1)<128&&(U=128),(G=new Float32Array(U)).set(V.array),V.array=G;V.array[V.pos++]=R;R=1;if(V.pos==V.array.length)(U=V.array.length<<1)<128&&(U=128),(G=new Float32Array(U)).set(V.array),V.array=G;V.array[V.pos++]=R;R=1;if(V.pos==V.array.length)(U=V.array.length<<1)<128&&(U=128),(G=new Float32Array(U)).set(V.array),V.array=G;V.array[V.pos++]=R;R=1;if(V.pos==V.array.length)(U=V.array.length<<1)<128&&(U=128),(G=new Float32Array(U)).set(V.array),V.array=G;V.array[V.pos++]=R;R=0;if(V.pos==V.array.length)(U=V.array.length<<1)<128&&(U=128),(G=new Float32Array(U)).set(V.array),V.array=G;V.array[V.pos++]=R;R=1;if(V.pos==V.array.length)(U=V.array.length<<1)<128&&(U=128),(G=new Float32Array(U)).set(V.array),V.array=G;V.array[V.pos++]=R;R=0;if(V.pos==V.array.length)(U=V.array.length<<1)<128&&(U=128),(G=new Float32Array(U)).set(V.array),V.array=G;V.array[V.pos++]=R;R=1;if(V.pos==V.array.length)(U=V.array.length<<1)<128&&(U=128),(G=new Float32Array(U)).set(V.array),V.array=G;V.array[V.pos++]=R;R=1;if(V.pos==V.array.length)(U=V.array.length<<1)<128&&(U=128),(G=new Float32Array(U)).set(V.array),V.array=G;V.array[V.pos++]=R;R=1;if(V.pos==V.array.length)(U=V.array.length<<1)<128&&(U=128),(G=new Float32Array(U)).set(V.array),V.array=G;V.array[V.pos++]=R;R=1;if(V.pos==V.array.length)(U=V.array.length<<1)<128&&(U=128),(G=new Float32Array(U)).set(V.array),V.array=G;V.array[V.pos++]=R;R=1;if(V.pos==V.array.length)(U=V.array.length<<1)<128&&(U=128),(G=new Float32Array(U)).set(V.array),V.array=G;V.array[V.pos++]=R;R=1;if(V.pos==V.array.length)(U=V.array.length<<1)<128&&(U=128),(G=new Float32Array(U)).set(V.array),V.array=G;V.array[V.pos++]=R;R=1;if(V.pos==V.array.length)(U=V.array.length<<1)<128&&(U=128),(G=new Float32Array(U)).set(V.array),V.array=G;V.array[V.pos++]=R;R=1;if(V.pos==V.array.length)(U=V.array.length<<1)<128&&(U=128),(G=new Float32Array(U)).set(V.array),V.array=G;V.array[V.pos++]=R;R=1;if(V.pos==V.array.length)(U=V.array.length<<1)<128&&(U=128),(G=new Float32Array(U)).set(V.array),V.array=G;V.array[V.pos++]=R;R=1;if(V.pos==V.array.length)(U=V.array.length<<1)<128&&(U=128),(G=new Float32Array(U)).set(V.array),V.array=G;V.array[V.pos++]=R;R=1;if(V.pos==V.array.length)(U=V.array.length<<1)<128&&(U=128),(G=new Float32Array(U)).set(V.array),V.array=G;V.array[V.pos++]=R;var U,G;R=1;if(V.pos==V.array.length)(U=V.array.length<<1)<128&&(U=128),(G=new Float32Array(U)).set(V.array),V.array=G;V.array[V.pos++]=R,this.fixedBuffer.uploadVector(V,0,4)}return(E=this.engine).renderBuffer(this.fixedBuffer,E.mem.quadIndexes,2,0,-1),!0},beginDraw:function(A,t,e,s){if(null==s&&(s=!1),null!=this.onBeginDraw&&!this.onBeginDraw(A))return!1;for(var i,r=!1,n=!1,a=A.shaders,h=this.currentShaders.next;null!=a&&null!=h;){var l=a.s,o=h.s;a=a.next,h=h.next;var u=o.instance;l!=o&&(n=!0),l.updateConstants(this.manager.globals),l.instance!=u&&(r=!0)}if(null==a&&null==h&&this.baseShader.isRelative__==e&&this.baseShader.hasUVPos__==s&&this.baseShader.killAlpha__==this.killAlpha||(r=!0),r)(i=this.baseShader).constModified=!0,i.hasUVPos__=s,(i=this.baseShader).constModified=!0,i.isRelative__=e,(i=this.baseShader).constModified=!0,i.killAlpha__=this.killAlpha,this.baseShader.updateConstants(this.manager.globals),this.baseShaderList.next=A.shaders,this.initShaders(this.baseShaderList);else if(n){if(this.currentShaders!=this.baseShaderList)throw de.thrown("!");this.currentShaders.next=A.shaders}return this.texture=t,this.stride=8,this.currentObj=A,!0},__class__:Y});var X=i["h2d.ScaleModeAlign"]={__ename__:!0,__constructs__:null,Left:{_hx_name:"Left",_hx_index:0,__enum__:"h2d.ScaleModeAlign",toString:s},Right:{_hx_name:"Right",_hx_index:1,__enum__:"h2d.ScaleModeAlign",toString:s},Center:{_hx_name:"Center",_hx_index:2,__enum__:"h2d.ScaleModeAlign",toString:s},Top:{_hx_name:"Top",_hx_index:3,__enum__:"h2d.ScaleModeAlign",toString:s},Bottom:{_hx_name:"Bottom",_hx_index:4,__enum__:"h2d.ScaleModeAlign",toString:s}};X.__constructs__=[X.Left,X.Right,X.Center,X.Top,X.Bottom],X.__empty_constructs__=[X.Left,X.Right,X.Center,X.Top,X.Bottom];var W=i["h2d.ScaleMode"]={__ename__:!0,__constructs__:null,Resize:{_hx_name:"Resize",_hx_index:0,__enum__:"h2d.ScaleMode",toString:s},Stretch:(t=function(A,t){return{_hx_index:1,width:A,height:t,__enum__:"h2d.ScaleMode",toString:s}},t._hx_name="Stretch",t.__params__=["width","height"],t),LetterBox:(t=function(A,t,e,i,r){return{_hx_index:2,width:A,height:t,integerScale:e,horizontalAlign:i,verticalAlign:r,__enum__:"h2d.ScaleMode",toString:s}},t._hx_name="LetterBox",t.__params__=["width","height","integerScale","horizontalAlign","verticalAlign"],t),Fixed:(t=function(A,t,e,i,r){return{_hx_index:3,width:A,height:t,zoom:e,horizontalAlign:i,verticalAlign:r,__enum__:"h2d.ScaleMode",toString:s}},t._hx_name="Fixed",t.__params__=["width","height","zoom","horizontalAlign","verticalAlign"],t),Zoom:(t=function(A){return{_hx_index:4,level:A,__enum__:"h2d.ScaleMode",toString:s}},t._hx_name="Zoom",t.__params__=["level"],t),AutoZoom:(t=function(A,t,e){return{_hx_index:5,minWidth:A,minHeight:t,integerScaling:e,__enum__:"h2d.ScaleMode",toString:s}},t._hx_name="AutoZoom",t.__params__=["minWidth","minHeight","integerScaling"],t)};W.__constructs__=[W.Resize,W.Stretch,W.LetterBox,W.Fixed,W.Zoom,W.AutoZoom],W.__empty_constructs__=[W.Resize];var Z=function(){};e["hxd.InteractiveScene"]=Z,Z.__name__="hxd.InteractiveScene",Z.__isInterface__=!0,Z.prototype={__class__:Z};var H=function(){this.scaleMode=W.Resize,O.call(this,null);var A=oA.CURRENT;this.ctx=new Y(this),this._cameras=[],new G(this),this.set_interactiveCamera(this._cameras[0]),this.width=A.width,this.height=A.height,this.viewportA=2/A.width,this.viewportD=2/A.height,this.viewportX=-1,this.viewportY=-1,this.viewportScaleX=1,this.viewportScaleY=1,this.offsetX=0,this.offsetY=0,this.interactive=[],this.eventListeners=[],this.shapePoint=new eA,this.window=gs.getInstance(),this.posChanged=!0};e["h2d.Scene"]=H,H.__name__="h2d.Scene",H.__interfaces__=[Z,_],H.__super__=O,H.prototype=r(O.prototype,{setEvents:function(A){this.events=A},set_interactiveCamera:function(A){if(null==A)throw de.thrown("Interactive cammera cannot be null!");return A.scene!=this&&this.addCamera(A),this.interactiveCamera=A},addCamera:function(A,t){null!=A.scene&&A.scene.removeCamera(A),A.scene=this,A.posChanged=!0,null!=t?this._cameras.splice(t,0,A):this._cameras.push(A)},removeCamera:function(A){if(A==this.interactiveCamera)throw de.thrown("Current interactive Camera cannot be removed from camera list!");A.scene=null,o.remove(this._cameras,A)},checkResize:function(){var A=this,t=oA.CURRENT,e=this.scaleMode;switch(e._hx_index){case 0:var s=t.width,i=t.height;s==A.width&&i==A.height||(A.width=s,A.height=i,A.posChanged=!0),A.viewportScaleX=1,A.viewportScaleY=1,A.viewportA=2/A.width,A.viewportD=2/A.height,A.viewportX=-1,A.viewportY=-1;break;case 1:var r=e.width,n=e.height;r==A.width&&n==A.height||(A.width=r,A.height=n,A.posChanged=!0),A.viewportScaleX=t.width/r,A.viewportScaleY=t.height/n,A.viewportA=2/A.width,A.viewportD=2/A.height,A.viewportX=-1,A.viewportY=-1;break;case 2:r=e.width,n=e.height;var a=e.integerScale,h=e.horizontalAlign,l=e.verticalAlign;r==A.width&&n==A.height||(A.width=r,A.height=n,A.posChanged=!0);var o=(d=t.width/r)>(p=t.height/n)?p:d;a&&0==(o|=0)&&(o=1);var u=h,_=l;switch(A.viewportA=2*o/t.width,A.viewportD=2*o/t.height,A.viewportScaleX=o,A.viewportScaleY=o,null==u&&(u=X.Center),u._hx_index){case 0:A.viewportX=-1,A.offsetX=0;break;case 1:A.viewportX=1-A.width*A.viewportA,A.offsetX=t.width-A.width*o;break;default:A.viewportX=Math.floor((t.width-A.width*o)/(2*o))*A.viewportA-1,A.offsetX=Math.floor((t.width-A.width*o)/2)}switch(null==_&&(_=X.Center),_._hx_index){case 3:A.viewportY=-1,A.offsetY=0;break;case 4:A.viewportY=1-A.height*A.viewportD,A.offsetY=t.height-A.height*o;break;default:A.viewportY=Math.floor((t.height-A.height*o)/(2*o))*A.viewportD-1,A.offsetY=Math.floor((t.height-A.height*o)/2)}break;case 3:r=e.width,n=e.height,o=e.zoom,h=e.horizontalAlign,l=e.verticalAlign;r==A.width&&n==A.height||(A.width=r,A.height=n,A.posChanged=!0);u=h,_=l;switch(A.viewportA=2*o/t.width,A.viewportD=2*o/t.height,A.viewportScaleX=o,A.viewportScaleY=o,null==u&&(u=X.Center),u._hx_index){case 0:A.viewportX=-1,A.offsetX=0;break;case 1:A.viewportX=1-A.width*A.viewportA,A.offsetX=t.width-A.width*o;break;default:A.viewportX=Math.floor((t.width-A.width*o)/(2*o))*A.viewportA-1,A.offsetX=Math.floor((t.width-A.width*o)/2)}switch(null==_&&(_=X.Center),_._hx_index){case 3:A.viewportY=-1,A.offsetY=0;break;case 4:A.viewportY=1-A.height*A.viewportD,A.offsetY=t.height-A.height*o;break;default:A.viewportY=Math.floor((t.height-A.height*o)/(2*o))*A.viewportD-1,A.offsetY=Math.floor((t.height-A.height*o)/2)}break;case 4:var c=e.level;s=Math.ceil(t.width/c),i=Math.ceil(t.height/c);s==A.width&&i==A.height||(A.width=s,A.height=i,A.posChanged=!0),A.viewportScaleX=c,A.viewportScaleY=c,A.viewportA=2/A.width,A.viewportD=2/A.height,A.viewportX=-1,A.viewportY=-1;break;case 5:var d,p,f=e.minWidth,x=e.minHeight,g=e.integerScaling;o=(d=t.width/f)>(p=t.height/x)?p:d;g&&0==(o|=0)&&(o=1);s=Math.ceil(t.width/o),i=Math.ceil(t.height/o);s==A.width&&i==A.height||(A.width=s,A.height=i,A.posChanged=!0),A.viewportScaleX=o,A.viewportScaleY=o,A.viewportA=2/A.width,A.viewportD=2/A.height,A.viewportX=-1,A.viewportY=-1}},dispatchListeners:function(A){this.screenToViewport(A);for(var t=0,e=this.eventListeners;t<e.length;){var s=e[t];if(++t,s(A),!A.propagate)break}},isInteractiveVisible:function(A){for(var t=A;t!=this;){if(null==t||!t.visible)return!1;t=t.parent}return!0},screenToViewport:function(A){this.interactiveCamera.eventToCamera(A)},dispatchEvent:function(A,t){var e=t;this.screenToViewport(A);var s=A.relX-e.absX,i=A.relY-e.absY,r=(s*e.matD-i*e.matC)*e.invDet,n=(i*e.matA-s*e.matB)*e.invDet;A.relX=r,A.relY=n,e.handleEvent(A)},handleEvent:function(A,t){this.screenToViewport(A);for(var e=A.relX,s=A.relY,i=null==t?0:this.interactive.indexOf(t)+1,r=this.shapePoint,n=i,a=this.interactive.length;n<a;){var h=n++,l=this.interactive[h];if(null==l)break;if(0!=l.invDet){var o=e-l.absX,u=s-l.absY,_=(o*l.matD-u*l.matC)*l.invDet,c=(u*l.matA-o*l.matB)*l.invDet;if(null!=l.shape){var d=_+l.shapeX,p=c+l.shapeY;if(null==p&&(p=0),null==d&&(d=0),r.x=d,r.y=p,!l.shape.contains(r))continue}else if(c<0||_<0||_>=l.width||c>=l.height)continue;for(var f=!0,x=l;null!=x;){if(!x.visible){f=!1;break}x=x.parent}if(f){if(A.relX=_,A.relY=c,l.handleEvent(A),!A.cancel)return l;A.cancel=!1,A.propagate=!1}}}return null},addEventTarget:function(A){for(var t=A,e=0;null!=t;)t=t.parent,++e;for(var s=e,i=0,r=this.interactive.length;i<r;){var n=i++,a=(t=A,this.interactive[n]),h=s,l=a;for(e=0;null!=l;)l=l.parent,++e;for(var o=e,u=t,_=a;h>o;)t=u,u=u.parent,--h;for(;o>h;)a=_,_=_.parent,--o;for(;u!=_;)t=u,u=u.parent,a=_,_=_.parent;for(var c=-1,d=0,p=u.children.length;d<p;){var f=d++;if(u.children[f]==t){c=f;break}}for(var x=c,g=-1,b=0,m=_.children.length;b<m;){var v=b++;if(_.children[v]==a){g=v;break}}if(x>g)return void this.interactive.splice(n,0,A)}this.interactive.push(A)},removeEventTarget:function(A,t){null==t&&(t=!1),o.remove(this.interactive,A),t&&null!=this.events&&this.events.onRemove(A)},setElapsedTime:function(A){this.ctx.elapsedTime=A},render:function(A){this.ctx.engine=A,this.ctx.frame++,this.ctx.time+=this.ctx.elapsedTime,this.ctx.globalAlpha=this.alpha,this.sync(this.ctx),0!=this.children.length&&(this.ctx.begin(),this.ctx.drawScene(),this.ctx.end())},sync:function(A){var t=this.posChanged;this.allocated||this.onAdd(),O.prototype.sync.call(this,A);for(var e=0,s=this._cameras;e<s.length;){var i=s[e];++e,i.sync(A,t)}},clipBounds:function(A,t){var e=this;if(0==this.rotation){var s=-this.absX,i=-this.absY;s<t.xMin&&(t.xMin=s),s>t.xMax&&(t.xMax=s),i<t.yMin&&(t.yMin=i),i>t.yMax&&(t.yMax=i);s=this.window.get_width()/this.matA-this.absX,i=this.window.get_height()/this.matD-this.absY;s<t.xMin&&(t.xMin=s),s>t.xMax&&(t.xMax=s),i<t.yMin&&(t.yMin=i),i>t.yMax&&(t.yMax=i)}else{var r=this.window.get_width()/this.matA-this.absX,n=this.window.get_height()/this.matD-this.absY,a=(s=-this.absX,i=-this.absY,s*e.matA+i*e.matC),h=s*e.matB+i*e.matD;a<t.xMin&&(t.xMin=a),a>t.xMax&&(t.xMax=a),h<t.yMin&&(t.yMin=h),h>t.yMax&&(t.yMax=h);s=r-this.absX,i=-this.absY,a=s*e.matA+i*e.matC,h=s*e.matB+i*e.matD;a<t.xMin&&(t.xMin=a),a>t.xMax&&(t.xMax=a),h<t.yMin&&(t.yMin=h),h>t.yMax&&(t.yMax=h);s=-this.absX,i=n-this.absY,a=s*e.matA+i*e.matC,h=s*e.matB+i*e.matD;a<t.xMin&&(t.xMin=a),a>t.xMax&&(t.xMax=a),h<t.yMin&&(t.yMin=h),h>t.yMax&&(t.yMax=h);s=r-this.absX,i=n-this.absY,a=s*e.matA+i*e.matC,h=s*e.matB+i*e.matD;a<t.xMin&&(t.xMin=a),a>t.xMax&&(t.xMax=a),h<t.yMin&&(t.yMin=h),h>t.yMax&&(t.yMax=h)}O.prototype.clipBounds.call(this,A,t)},drawContent:function(A){if(A.front2back){for(var t=0,e=this._cameras;t<e.length;){var s=e[t];if(++t,s.visible){var i=this.children.length,r=this.layerCount;for(s.enter(A);r-- >0;){var n=0==r?0:this.layersIndexes[r-1];if(s.layerVisible(r))for(;i>=n;)this.children[i--].drawRec(A);else i=n-1}s.exit(A)}}this.draw(A)}else{this.draw(A);for(t=0,e=this._cameras;t<e.length;){s=e[t];if(++t,s.visible){i=0,r=0;for(s.enter(A);r<this.layerCount;){n=this.layersIndexes[r++];if(s.layerVisible(r-1))for(;i<n;)this.children[i++].drawRec(A);else i=n}s.exit(A)}}}},onAdd:function(){this.checkResize(),O.prototype.onAdd.call(this),this.window.addResizeEvent(Di(this,this.checkResize))},onRemove:function(){O.prototype.onRemove.call(this),this.window.removeResizeEvent(Di(this,this.checkResize))},__class__:H});var K=function(A,t,e,s,i,r,n){null==n&&(n=0),null==r&&(r=0),this.innerTex=A,this.x=t,this.y=e,this.width=s,this.height=i,this.dx=r,this.dy=n,null!=A&&this.setTexture(A)};e["h2d.Tile"]=K,K.__name__="h2d.Tile",K.fromColor=function(A,t,e,s){null==s&&(s=1),null==e&&(e=1),null==t&&(t=1);var i=new K(et.fromColor(A,s),0,0,1,1);return i.width=t,i.height=e,i},K.fromTexture=function(A){return new K(A,0,0,A.width,A.height)},K.prototype={setTexture:function(A){this.innerTex=A,null!=A&&(this.u=this.x/A.width,this.v=this.y/A.height,this.u2=(this.x+this.width)/A.width,this.v2=(this.y+this.height)/A.height)},sub:function(A,t,e,s,i,r){return null==r&&(r=0),null==i&&(i=0),new K(this.innerTex,this.x+A,this.y+t,e,s,i,r)},setPosition:function(A,t){this.x=A,this.y=t;var e=this.innerTex;null!=e&&(this.u=A/e.width,this.v=t/e.height,this.u2=(A+this.width)/e.width,this.v2=(t+this.height)/e.height)},setSize:function(A,t){this.width=A,this.height=t;var e=this.innerTex;null!=e&&(this.u2=(this.x+A)/e.width,this.v2=(this.y+t)/e.height)},__class__:K};var J=function(){};e["hxd.impl._Serializable.NoSerializeSupport"]=J,J.__name__="hxd.impl._Serializable.NoSerializeSupport",J.__isInterface__=!0;var j=function(){this.refCount=0};e["h3d.prim.Primitive"]=j,j.__name__="h3d.prim.Primitive",j.__interfaces__=[J],j.prototype={getBounds:function(){throw de.thrown("not implemented for "+f.string(this))},incref:function(){this.refCount++},decref:function(){this.refCount--,this.refCount<=0&&(this.refCount=0,this.dispose())},alloc:function(A){throw de.thrown("not implemented")},render:function(A){var t;if(null!=this.buffer){var e=this.buffer;t=null==e.buffer||null==e.buffer.vbuf}else t=!0;t&&this.alloc(A),null==this.indexes?0!=(this.buffer.flags&1<<nA.Quads._hx_index)?A.renderBuffer(this.buffer,A.mem.quadIndexes,2,0,-1):A.renderBuffer(this.buffer,A.mem.triIndexes,3,0,-1):A.renderIndexed(this.buffer,this.indexes)},dispose:function(){null!=this.buffer&&(this.buffer.dispose(),this.buffer=null),null!=this.indexes&&(this.indexes.dispose(),this.indexes=null)},toString:function(){return ui.getClass(this).__name__.split(".").pop()},__class__:j};var q=function(){this.useAllocator=!1,j.call(this),this.state=new iA,this.clear()};e["h2d.TileLayerContent"]=q,q.__name__="h2d.TileLayerContent",q.__super__=j,q.prototype=r(j.prototype,{clear:function(){var A=hs._new(0);this.tmp=A,null!=this.buffer&&(this.useAllocator?Ts.get().disposeBuffer(this.buffer):this.buffer.dispose()),this.buffer=null,this.xMin=1/0,this.yMin=1/0,this.xMax=-1/0,this.yMax=-1/0,this.state.clear()},triCount:function(){return null==this.buffer?this.tmp.pos>>4:this.buffer.totalVertices()>>1},add:function(A,t,e,s,i,r,n){var a=A+n.dx,h=t+n.dy;(l=this.tmp).pos==l.array.length&&((u=l.array.length<<1)<128&&(u=128),(_=new Float32Array(u)).set(l.array),l.array=_);(l.array[l.pos++]=a,(l=this.tmp).pos==l.array.length)&&((u=l.array.length<<1)<128&&(u=128),(_=new Float32Array(u)).set(l.array),l.array=_);l.array[l.pos++]=h;var l=this.tmp,o=n.u;l.pos==l.array.length&&((u=l.array.length<<1)<128&&(u=128),(_=new Float32Array(u)).set(l.array),l.array=_);l.array[l.pos++]=o;l=this.tmp,o=n.v;l.pos==l.array.length&&((u=l.array.length<<1)<128&&(u=128),(_=new Float32Array(u)).set(l.array),l.array=_);(l.array[l.pos++]=o,(l=this.tmp).pos==l.array.length)&&((u=l.array.length<<1)<128&&(u=128),(_=new Float32Array(u)).set(l.array),l.array=_);(l.array[l.pos++]=e,(l=this.tmp).pos==l.array.length)&&((u=l.array.length<<1)<128&&(u=128),(_=new Float32Array(u)).set(l.array),l.array=_);(l.array[l.pos++]=s,(l=this.tmp).pos==l.array.length)&&((u=l.array.length<<1)<128&&(u=128),(_=new Float32Array(u)).set(l.array),l.array=_);(l.array[l.pos++]=i,(l=this.tmp).pos==l.array.length)&&((u=l.array.length<<1)<128&&(u=128),(_=new Float32Array(u)).set(l.array),l.array=_);l.array[l.pos++]=r;l=this.tmp,o=a+n.width;l.pos==l.array.length&&((u=l.array.length<<1)<128&&(u=128),(_=new Float32Array(u)).set(l.array),l.array=_);(l.array[l.pos++]=o,(l=this.tmp).pos==l.array.length)&&((u=l.array.length<<1)<128&&(u=128),(_=new Float32Array(u)).set(l.array),l.array=_);l.array[l.pos++]=h;l=this.tmp,o=n.u2;l.pos==l.array.length&&((u=l.array.length<<1)<128&&(u=128),(_=new Float32Array(u)).set(l.array),l.array=_);l.array[l.pos++]=o;l=this.tmp,o=n.v;l.pos==l.array.length&&((u=l.array.length<<1)<128&&(u=128),(_=new Float32Array(u)).set(l.array),l.array=_);(l.array[l.pos++]=o,(l=this.tmp).pos==l.array.length)&&((u=l.array.length<<1)<128&&(u=128),(_=new Float32Array(u)).set(l.array),l.array=_);(l.array[l.pos++]=e,(l=this.tmp).pos==l.array.length)&&((u=l.array.length<<1)<128&&(u=128),(_=new Float32Array(u)).set(l.array),l.array=_);(l.array[l.pos++]=s,(l=this.tmp).pos==l.array.length)&&((u=l.array.length<<1)<128&&(u=128),(_=new Float32Array(u)).set(l.array),l.array=_);(l.array[l.pos++]=i,(l=this.tmp).pos==l.array.length)&&((u=l.array.length<<1)<128&&(u=128),(_=new Float32Array(u)).set(l.array),l.array=_);(l.array[l.pos++]=r,(l=this.tmp).pos==l.array.length)&&((u=l.array.length<<1)<128&&(u=128),(_=new Float32Array(u)).set(l.array),l.array=_);l.array[l.pos++]=a;l=this.tmp,o=h+n.height;l.pos==l.array.length&&((u=l.array.length<<1)<128&&(u=128),(_=new Float32Array(u)).set(l.array),l.array=_);l.array[l.pos++]=o;l=this.tmp,o=n.u;l.pos==l.array.length&&((u=l.array.length<<1)<128&&(u=128),(_=new Float32Array(u)).set(l.array),l.array=_);l.array[l.pos++]=o;l=this.tmp,o=n.v2;l.pos==l.array.length&&((u=l.array.length<<1)<128&&(u=128),(_=new Float32Array(u)).set(l.array),l.array=_);(l.array[l.pos++]=o,(l=this.tmp).pos==l.array.length)&&((u=l.array.length<<1)<128&&(u=128),(_=new Float32Array(u)).set(l.array),l.array=_);(l.array[l.pos++]=e,(l=this.tmp).pos==l.array.length)&&((u=l.array.length<<1)<128&&(u=128),(_=new Float32Array(u)).set(l.array),l.array=_);(l.array[l.pos++]=s,(l=this.tmp).pos==l.array.length)&&((u=l.array.length<<1)<128&&(u=128),(_=new Float32Array(u)).set(l.array),l.array=_);(l.array[l.pos++]=i,(l=this.tmp).pos==l.array.length)&&((u=l.array.length<<1)<128&&(u=128),(_=new Float32Array(u)).set(l.array),l.array=_);l.array[l.pos++]=r;l=this.tmp,o=a+n.width;l.pos==l.array.length&&((u=l.array.length<<1)<128&&(u=128),(_=new Float32Array(u)).set(l.array),l.array=_);l.array[l.pos++]=o;l=this.tmp,o=h+n.height;l.pos==l.array.length&&((u=l.array.length<<1)<128&&(u=128),(_=new Float32Array(u)).set(l.array),l.array=_);l.array[l.pos++]=o;l=this.tmp,o=n.u2;l.pos==l.array.length&&((u=l.array.length<<1)<128&&(u=128),(_=new Float32Array(u)).set(l.array),l.array=_);l.array[l.pos++]=o;var u,_;l=this.tmp,o=n.v2;l.pos==l.array.length&&((u=l.array.length<<1)<128&&(u=128),(_=new Float32Array(u)).set(l.array),l.array=_);(l.array[l.pos++]=o,(l=this.tmp).pos==l.array.length)&&((u=l.array.length<<1)<128&&(u=128),(_=new Float32Array(u)).set(l.array),l.array=_);(l.array[l.pos++]=e,(l=this.tmp).pos==l.array.length)&&((u=l.array.length<<1)<128&&(u=128),(_=new Float32Array(u)).set(l.array),l.array=_);(l.array[l.pos++]=s,(l=this.tmp).pos==l.array.length)&&((u=l.array.length<<1)<128&&(u=128),(_=new Float32Array(u)).set(l.array),l.array=_);(l.array[l.pos++]=i,(l=this.tmp).pos==l.array.length)&&((u=l.array.length<<1)<128&&(u=128),(_=new Float32Array(u)).set(l.array),l.array=_);l.array[l.pos++]=r;var c=A+n.dx,d=t+n.dy;c<this.xMin&&(this.xMin=c),d<this.yMin&&(this.yMin=d),c+=n.width,d+=n.height,c>this.xMax&&(this.xMax=c),d>this.yMax&&(this.yMax=d),null!=n&&this.state.setTexture(n.innerTex);var p=this.state;p.tail.count+=4,p.totalCount+=4},addTransform:function(A,t,e,s,i,r,n){var a=this,h=Math.cos(i),l=Math.sin(i),o=n.width,u=n.height,_=(f=n.dx*e)*h-(x=n.dy*s)*l+A,c=x*h+f*l+t;(d=this.tmp).pos==d.array.length&&((g=d.array.length<<1)<128&&(g=128),(b=new Float32Array(g)).set(d.array),d.array=b);(d.array[d.pos++]=_,(d=this.tmp).pos==d.array.length)&&((g=d.array.length<<1)<128&&(g=128),(b=new Float32Array(g)).set(d.array),d.array=b);d.array[d.pos++]=c;var d=this.tmp,p=n.u;d.pos==d.array.length&&((g=d.array.length<<1)<128&&(g=128),(b=new Float32Array(g)).set(d.array),d.array=b);d.array[d.pos++]=p;d=this.tmp,p=n.v;d.pos==d.array.length&&((g=d.array.length<<1)<128&&(g=128),(b=new Float32Array(g)).set(d.array),d.array=b);d.array[d.pos++]=p;d=this.tmp,p=r.x;d.pos==d.array.length&&((g=d.array.length<<1)<128&&(g=128),(b=new Float32Array(g)).set(d.array),d.array=b);d.array[d.pos++]=p;d=this.tmp,p=r.y;d.pos==d.array.length&&((g=d.array.length<<1)<128&&(g=128),(b=new Float32Array(g)).set(d.array),d.array=b);d.array[d.pos++]=p;d=this.tmp,p=r.z;d.pos==d.array.length&&((g=d.array.length<<1)<128&&(g=128),(b=new Float32Array(g)).set(d.array),d.array=b);d.array[d.pos++]=p;d=this.tmp,p=r.w;d.pos==d.array.length&&((g=d.array.length<<1)<128&&(g=128),(b=new Float32Array(g)).set(d.array),d.array=b);d.array[d.pos++]=p,_<a.xMin&&(a.xMin=_),c<a.yMin&&(a.yMin=c),_>a.xMax&&(a.xMax=_),c>a.yMax&&(a.yMax=c);_=(f=(n.dx+o)*e)*h-(x=n.dy*s)*l+A,c=x*h+f*l+t;(d=this.tmp).pos==d.array.length&&((g=d.array.length<<1)<128&&(g=128),(b=new Float32Array(g)).set(d.array),d.array=b);(d.array[d.pos++]=_,(d=this.tmp).pos==d.array.length)&&((g=d.array.length<<1)<128&&(g=128),(b=new Float32Array(g)).set(d.array),d.array=b);d.array[d.pos++]=c;d=this.tmp,p=n.u2;d.pos==d.array.length&&((g=d.array.length<<1)<128&&(g=128),(b=new Float32Array(g)).set(d.array),d.array=b);d.array[d.pos++]=p;d=this.tmp,p=n.v;d.pos==d.array.length&&((g=d.array.length<<1)<128&&(g=128),(b=new Float32Array(g)).set(d.array),d.array=b);d.array[d.pos++]=p;d=this.tmp,p=r.x;d.pos==d.array.length&&((g=d.array.length<<1)<128&&(g=128),(b=new Float32Array(g)).set(d.array),d.array=b);d.array[d.pos++]=p;d=this.tmp,p=r.y;d.pos==d.array.length&&((g=d.array.length<<1)<128&&(g=128),(b=new Float32Array(g)).set(d.array),d.array=b);d.array[d.pos++]=p;d=this.tmp,p=r.z;d.pos==d.array.length&&((g=d.array.length<<1)<128&&(g=128),(b=new Float32Array(g)).set(d.array),d.array=b);d.array[d.pos++]=p;d=this.tmp,p=r.w;d.pos==d.array.length&&((g=d.array.length<<1)<128&&(g=128),(b=new Float32Array(g)).set(d.array),d.array=b);d.array[d.pos++]=p,_<a.xMin&&(a.xMin=_),c<a.yMin&&(a.yMin=c),_>a.xMax&&(a.xMax=_),c>a.yMax&&(a.yMax=c);_=(f=n.dx*e)*h-(x=(n.dy+u)*s)*l+A,c=x*h+f*l+t;(d=this.tmp).pos==d.array.length&&((g=d.array.length<<1)<128&&(g=128),(b=new Float32Array(g)).set(d.array),d.array=b);(d.array[d.pos++]=_,(d=this.tmp).pos==d.array.length)&&((g=d.array.length<<1)<128&&(g=128),(b=new Float32Array(g)).set(d.array),d.array=b);d.array[d.pos++]=c;d=this.tmp,p=n.u;d.pos==d.array.length&&((g=d.array.length<<1)<128&&(g=128),(b=new Float32Array(g)).set(d.array),d.array=b);d.array[d.pos++]=p;d=this.tmp,p=n.v2;d.pos==d.array.length&&((g=d.array.length<<1)<128&&(g=128),(b=new Float32Array(g)).set(d.array),d.array=b);d.array[d.pos++]=p;d=this.tmp,p=r.x;d.pos==d.array.length&&((g=d.array.length<<1)<128&&(g=128),(b=new Float32Array(g)).set(d.array),d.array=b);d.array[d.pos++]=p;d=this.tmp,p=r.y;d.pos==d.array.length&&((g=d.array.length<<1)<128&&(g=128),(b=new Float32Array(g)).set(d.array),d.array=b);d.array[d.pos++]=p;d=this.tmp,p=r.z;d.pos==d.array.length&&((g=d.array.length<<1)<128&&(g=128),(b=new Float32Array(g)).set(d.array),d.array=b);d.array[d.pos++]=p;d=this.tmp,p=r.w;d.pos==d.array.length&&((g=d.array.length<<1)<128&&(g=128),(b=new Float32Array(g)).set(d.array),d.array=b);d.array[d.pos++]=p,_<a.xMin&&(a.xMin=_),c<a.yMin&&(a.yMin=c),_>a.xMax&&(a.xMax=_),c>a.yMax&&(a.yMax=c);var f,x;_=(f=(n.dx+o)*e)*h-(x=(n.dy+u)*s)*l+A,c=x*h+f*l+t;(d=this.tmp).pos==d.array.length&&((g=d.array.length<<1)<128&&(g=128),(b=new Float32Array(g)).set(d.array),d.array=b);(d.array[d.pos++]=_,(d=this.tmp).pos==d.array.length)&&((g=d.array.length<<1)<128&&(g=128),(b=new Float32Array(g)).set(d.array),d.array=b);d.array[d.pos++]=c;d=this.tmp,p=n.u2;d.pos==d.array.length&&((g=d.array.length<<1)<128&&(g=128),(b=new Float32Array(g)).set(d.array),d.array=b);d.array[d.pos++]=p;d=this.tmp,p=n.v2;d.pos==d.array.length&&((g=d.array.length<<1)<128&&(g=128),(b=new Float32Array(g)).set(d.array),d.array=b);d.array[d.pos++]=p;d=this.tmp,p=r.x;d.pos==d.array.length&&((g=d.array.length<<1)<128&&(g=128),(b=new Float32Array(g)).set(d.array),d.array=b);d.array[d.pos++]=p;d=this.tmp,p=r.y;d.pos==d.array.length&&((g=d.array.length<<1)<128&&(g=128),(b=new Float32Array(g)).set(d.array),d.array=b);d.array[d.pos++]=p;d=this.tmp,p=r.z;d.pos==d.array.length&&((g=d.array.length<<1)<128&&(g=128),(b=new Float32Array(g)).set(d.array),d.array=b);d.array[d.pos++]=p;var g,b;d=this.tmp,p=r.w;d.pos==d.array.length&&((g=d.array.length<<1)<128&&(g=128),(b=new Float32Array(g)).set(d.array),d.array=b);d.array[d.pos++]=p,_<a.xMin&&(a.xMin=_),c<a.yMin&&(a.yMin=c),_>a.xMax&&(a.xMax=_),c>a.yMax&&(a.yMax=c),null!=n&&this.state.setTexture(n.innerTex);var m=this.state;m.tail.count+=4,m.totalCount+=4},alloc:function(A){null==this.tmp&&this.clear(),this.tmp.pos>0&&(this.buffer=this.useAllocator?Ts.get().ofFloats(this.tmp,8,3):aA.ofFloats(this.tmp,8,[nA.Quads,nA.RawFormat]))},dispose:function(){null!=this.buffer&&(this.useAllocator?Ts.get().disposeBuffer(this.buffer):this.buffer.dispose(),this.buffer=null),j.prototype.dispose.call(this)},__class__:q});var $=function(A,t){V.call(this,t),this.tile=A,this.rangeMin=this.rangeMax=-1,this.curColor=new dA(1,1,1,1),this.content=new q};e["h2d.TileGroup"]=$,$.__name__="h2d.TileGroup",$.__super__=V,$.prototype=r(V.prototype,{getBoundsRec:function(A,t,e){V.prototype.getBoundsRec.call(this,A,t,e),this.addBounds(A,t,this.content.xMin,this.content.yMin,this.content.xMax-this.content.xMin,this.content.yMax-this.content.yMin)},onRemove:function(){this.content.dispose(),V.prototype.onRemove.call(this)},draw:function(A){this.drawWith(A,this)},sync:function(A){if(V.prototype.sync.call(this,A),this.visible){var t,e=this.content;if(null!=e.buffer){var s=e.buffer;t=null==s.buffer||null==s.buffer.vbuf}else t=!0;t&&e.alloc(oA.CURRENT)}},drawWith:function(A,t){var e=this.content.triCount();if(0!=e&&A.beginDrawBatchState(t)){var s=this.rangeMin<0?0:2*this.rangeMin;this.rangeMax>0&&this.rangeMax<2*e&&(e=2*this.rangeMax);var i,r=this.content;if(null!=r.buffer){var n=r.buffer;i=null==n.buffer||null==n.buffer.vbuf}else i=!0;i&&r.alloc(oA.CURRENT),r.state.drawQuads(A,r.buffer,s,e-s)}},__class__:$});var AA=function(){this.xMin=1e20,this.yMin=1e20,this.xMax=-1e20,this.yMax=-1e20};e["h2d.col.Bounds"]=AA,AA.__name__="h2d.col.Bounds",AA.prototype={__class__:AA};var tA=function(){};e["h2d.col.Collider"]=tA,tA.__name__="h2d.col.Collider",tA.__isInterface__=!0,tA.prototype={__class__:tA};var eA=function(A,t){null==t&&(t=0),null==A&&(A=0),this.x=A,this.y=t};e["h2d.col.Point"]=eA,eA.__name__="h2d.col.Point",eA.prototype={__class__:eA};var sA=function(){this.enable=!0,this.boundsExtend=0,this.autoBounds=!0};e["h2d.filter.Filter"]=sA,sA.__name__="h2d.filter.Filter",sA.prototype={get_enable:function(){return this.enable},sync:function(A,t){},bind:function(A){},unbind:function(A){},getBounds:function(A,t){A.getBounds(A,t),t.xMin-=this.boundsExtend,t.yMin-=this.boundsExtend,t.xMax+=this.boundsExtend,t.yMax+=this.boundsExtend},draw:function(A,t){return t},__class__:sA};var iA=function(){this.head=this.tail=new rA(null),this.totalCount=0};e["h2d.impl.BatchDrawState"]=iA,iA.__name__="h2d.impl.BatchDrawState",iA.prototype={setTexture:function(A){if(null!=A)if(null==this.tail.texture)this.tail.texture=A;else if(this.tail.texture!=A){var t=this.tail;null==t.next?t.next=this.tail=new rA(A):this.tail=t.next.set(A)}},clear:function(){for(var A=this.head;A.texture=null,null!=(A=A.next););this.tail=this.head,this.tail.count=0,this.totalCount=0},drawQuads:function(A,t,e,s){null==s&&(s=-1),null==e&&(e=0);var i,r=this.head,n=this.tail.next,a=A.engine;if(0==e&&-1==s)for(;;){if(A.texture=r.texture,A.beforeDraw(),null==(o=i=r.count>>1)&&(o=-1),null==(l=e)&&(l=0),a.renderBuffer(t,a.mem.quadIndexes,2,l,o),e+=i,(r=r.next)==n)break}else{-1==s&&(s=(this.totalCount>>1)-e);for(var h=0;;){if(h+(i=r.count>>1)>=e){var l,o,u=e>=h?e:h,_=s>i?i:s;if(A.texture=r.texture,A.beforeDraw(),null==(o=_)&&(o=-1),null==(l=u)&&(l=0),a.renderBuffer(t,a.mem.quadIndexes,2,l,o),0==(s-=_))break}if(h+=i,(r=r.next)==n)break}}},__class__:iA};var rA=function(A){this.texture=A,this.count=0};e["h2d.impl._BatchDrawState.StateEntry"]=rA,rA.__name__="h2d.impl._BatchDrawState.StateEntry",rA.prototype={set:function(A){return this.texture=A,this.count=0,this},__class__:rA};var nA=i["h3d.BufferFlag"]={__ename__:!0,__constructs__:null,Dynamic:{_hx_name:"Dynamic",_hx_index:0,__enum__:"h3d.BufferFlag",toString:s},Triangles:{_hx_name:"Triangles",_hx_index:1,__enum__:"h3d.BufferFlag",toString:s},Quads:{_hx_name:"Quads",_hx_index:2,__enum__:"h3d.BufferFlag",toString:s},Managed:{_hx_name:"Managed",_hx_index:3,__enum__:"h3d.BufferFlag",toString:s},RawFormat:{_hx_name:"RawFormat",_hx_index:4,__enum__:"h3d.BufferFlag",toString:s},NoAlloc:{_hx_name:"NoAlloc",_hx_index:5,__enum__:"h3d.BufferFlag",toString:s},UniformBuffer:{_hx_name:"UniformBuffer",_hx_index:6,__enum__:"h3d.BufferFlag",toString:s},LargeBuffer:{_hx_name:"LargeBuffer",_hx_index:7,__enum__:"h3d.BufferFlag",toString:s}};nA.__constructs__=[nA.Dynamic,nA.Triangles,nA.Quads,nA.Managed,nA.RawFormat,nA.NoAlloc,nA.UniformBuffer,nA.LargeBuffer],nA.__empty_constructs__=[nA.Dynamic,nA.Triangles,nA.Quads,nA.Managed,nA.RawFormat,nA.NoAlloc,nA.UniformBuffer,nA.LargeBuffer];var aA=function(A,t,e){this.id=aA.GUID++,this.vertices=A;if(this.flags=0,null!=e)for(var s=0;s<e.length;){var i=e[s];++s,this.flags|=1<<i._hx_index}0==(this.flags&1<<nA.NoAlloc._hx_index)&&oA.CURRENT.mem.allocBuffer(this,t)};e["h3d.Buffer"]=aA,aA.__name__="h3d.Buffer",aA.ofFloats=function(A,t,e){var s=A.pos/t|0,i=new aA(s,t,e);return i.uploadVector(A,0,s),i},aA.prototype={dispose:function(){null!=this.buffer&&(this.buffer.freeBuffer(this),this.buffer=null,null!=this.next&&this.next.dispose())},totalVertices:function(){for(var A=0,t=this;null!=t;)A+=t.vertices,t=t.next;return A},uploadVector:function(A,t,e,s){null==s&&(s=0);for(var i=this;null!=i&&s>=i.vertices;)s-=i.vertices,i=i.next;for(;e>0;){if(null==i)throw de.thrown("Too many vertices");var r=e+s>i.vertices?i.vertices-s:e;i.buffer.uploadVertexBuffer(i.position+s,r,A,t),s=0,t+=r*this.buffer.stride,e-=r,i=i.next}},__class__:aA};var hA=function(A,t,e,s,i,r){null==r&&(r=!1),null==i&&(i=4e3),null==s&&(s=.02),null==e&&(e=1.333333),null==t&&(t=1),null==A&&(A=25),this.viewY=0,this.viewX=0,this.fovY=A,this.zoom=t,this.screenRatio=e,this.zNear=s,this.zFar=i,this.rightHanded=r,this.pos=new dA(2,3,4),this.up=new dA(0,0,1),this.target=new dA(0,0,0),this.m=new _A,this.mcam=new _A,this.mproj=new _A,this.frustum=new bA,this.update()};e["h3d.Camera"]=hA,hA.__name__="h3d.Camera",hA.prototype={getInverseViewProj:function(){return null==this.minv&&(this.minv=new _A),this.needInv&&(this.minv.initInverse(this.m),this.needInv=!1),this.minv},unproject:function(A,t,e){var s=new dA(A,t,e),i=this.getInverseViewProj(),r=s.x*i._11+s.y*i._21+s.z*i._31+s.w*i._41,n=s.x*i._12+s.y*i._22+s.z*i._32+s.w*i._42,a=s.x*i._13+s.y*i._23+s.z*i._33+s.w*i._43,h=1/(s.x*i._14+s.y*i._24+s.z*i._34+s.w*i._44);return s.x=r*h,s.y=n*h,s.z=a*h,s.w=1,s},update:function(){if(null!=this.follow){var A=this.follow.pos.localToGlobal(),t=this.follow.target.localToGlobal(),e=this.pos,s=A.x,i=A.y;null==(r=A.z)&&(r=0),null==i&&(i=0),null==s&&(s=0),e.x=s,e.y=i,e.z=r,e.w=1;var r;e=this.target,s=t.x,i=t.y;if(null==(r=t.z)&&(r=0),null==i&&(i=0),null==s&&(s=0),e.x=s,e.y=i,e.z=r,e.w=1,null!=this.follow.pos.name)for(var n=this.follow.pos;null!=n;){if(null!=n.currentAnimation){var a=n.currentAnimation.getPropValue(this.follow.pos.name,"FOVY");if(null!=a){this.fovY=a;break}}n=n.parent}}this.makeCameraMatrix(this.mcam),this.makeFrustumMatrix(this.mproj),this.m.multiply(this.mcam,this.mproj),this.needInv=!0,null!=this.mcamInv&&(this.mcamInv._44=0),null!=this.mprojInv&&(this.mprojInv._44=0),this.frustum.loadMatrix(this.m)},getFrustumCorners:function(A,t){return null==t&&(t=0),null==A&&(A=1),[this.unproject(-1,1,t),this.unproject(1,1,t),this.unproject(1,-1,t),this.unproject(-1,-1,t),this.unproject(-1,1,A),this.unproject(1,1,A),this.unproject(1,-1,A),this.unproject(-1,-1,A)]},makeCameraMatrix:function(A){var t=this.target,e=this.pos,s=t.x-e.x,i=t.y-e.y,r=t.z-e.z;t.w,e.w,null==r&&(r=0),null==i&&(i=0),null==s&&(s=0);var n=s,a=i,h=r;this.rightHanded&&(n*=-1,a*=-1,h*=-1),n*=l=(l=n*n+a*a+h*h)<1e-10?0:1/Math.sqrt(l),a*=l,h*=l;s=(t=this.up).y*h-t.z*a,i=t.z*n-t.x*h;null==(r=t.x*a-t.y*n)&&(r=0),null==i&&(i=0),null==s&&(s=0);var l,o=s,u=i,_=r;o*=l=(l=o*o+u*u+_*_)<1e-10?0:1/Math.sqrt(l),u*=l,_*=l,0==Math.sqrt(o*o+u*u+_*_)&&(o=a,u=h,_=n),null==(r=n*u-a*o)&&(r=0),null==(i=h*o-n*_)&&(i=0),null==(s=a*_-h*u)&&(s=0);var c=s,d=i,p=r;A._11=o,A._12=c,A._13=n,A._14=0,A._21=u,A._22=d,A._23=a,A._24=0,A._31=_,A._32=p,A._33=h,A._34=0;e=this.pos;A._41=-(o*e.x+u*e.y+_*e.z);e=this.pos;A._42=-(c*e.x+d*e.y+p*e.z);e=this.pos;A._43=-(n*e.x+a*e.y+h*e.z),A._44=1},makeFrustumMatrix:function(A){A.zero();var t=this.orthoBounds;if(null!=t){var e=1/(t.xMax-t.xMin),s=1/(t.yMax-t.yMin),i=1/(t.zMax-t.zMin);A._11=2*e,A._22=2*s,A._33=i,A._41=-(t.xMin+t.xMax)*e,A._42=-(t.yMin+t.yMax)*s,A._43=-t.zMin*i,A._44=1}else{var r=Math.PI/180,n=Math.atan(Math.tan(.5*this.fovY*r)*this.screenRatio),a=this.zoom/Math.tan(n);A._11=a,A._22=a*this.screenRatio,A._33=this.zFar/(this.zFar-this.zNear),A._34=1,A._43=-this.zNear*this.zFar/(this.zFar-this.zNear)}A._11+=this.viewX*A._14,A._21+=this.viewX*A._24,A._31+=this.viewX*A._34,A._41+=this.viewX*A._44,A._12+=this.viewY*A._14,A._22+=this.viewY*A._24,A._32+=this.viewY*A._34,A._42+=this.viewY*A._44,this.rightHanded&&(A._33*=-1,A._34*=-1)},__class__:hA};var lA=function(A,t,e,s){this.t=A,this.next=t,this.layer=e,this.mipLevel=s};e["h3d._Engine.TargetTmp"]=lA,lA.__name__="h3d._Engine.TargetTmp",lA.prototype={__class__:lA};var oA=function(){this.resCache=new Re,this.ready=!1,this.inRender=!1,this.textureColorCache=new De,this.tmpVector=new dA,this.backgroundColor=-16777216,this.hardware=!oA.SOFTWARE_DRIVER,this.antiAlias=oA.ANTIALIASING,this.autoResize=!0,this.set_fullScreen(!bs.getValue(fs.IsWindowed)),this.window=gs.getInstance(),this.realFps=bs.getDefaultFrameRate(),this.lastTime=o.now()/1e3,this.window.addResizeEvent(Di(this,this.onWindowResize)),this.driver=new EA(this.antiAlias),oA.CURRENT=this};e["h3d.Engine"]=oA,oA.__name__="h3d.Engine",oA.prototype={init:function(){this.driver.init(Di(this,this.onCreate),!this.hardware)},selectShader:function(A){this.needFlushTarget&&this.doFlushTarget(),this.driver.selectShader(A)&&this.shaderSwitches++},selectMaterial:function(A){this.driver.selectMaterial(A)},uploadShaderBuffers:function(A,t){this.driver.uploadShaderBuffers(A,t)},selectBuffer:function(A){return null!=A.buffer&&null!=A.buffer.vbuf&&(this.needFlushTarget&&this.doFlushTarget(),this.driver.selectBuffer(A),!0)},renderBuffer:function(A,t,e,s,i){if(null==i&&(i=-1),null==s&&(s=0),!t.isDisposed())for(;;){var r=A.vertices/e|0,n=A.position/e|0;if(s>0){if(s>=r){if(s-=r,null==(A=A.next))break;continue}n+=s,r-=s,s=0}if(i>=0){if(0==i)return;(i-=r)<0&&(r+=i,i=0)}if(r>0&&this.selectBuffer(A)&&(this.driver.draw(t.ibuf,3*n,r),this.drawTriangles+=r,this.drawCalls++),null==(A=A.next))break}},renderIndexed:function(A,t,e,s){if(null==s&&(s=-1),null==e&&(e=0),null!=A.next)throw de.thrown("Buffer is split");if(!t.isDisposed()){var i=t.count/3|0;s<0&&(s=i-e),s>0&&this.selectBuffer(A)&&(this.driver.draw(t.ibuf,3*e,s),this.drawTriangles+=s,this.drawCalls++)}},set_debug:function(A){return this.debug=A,this.driver.setDebug(this.debug),A},onCreate:function(A){oA.CURRENT=this,this.autoResize&&(this.width=this.window.get_width(),this.height=this.window.get_height()),A?(Ts.get().onContextLost(),this.mem.onContextLost()):(this.mem=new QA(this.driver),this.mem.init(),this.nullTexture=new et(0,0,[WA.NoAlloc])),this.hardware=this.driver.hasFeature(BA.HardwareAccelerated),this.set_debug(this.debug),this.set_fullScreen(this.fullScreen),this.resize(this.width,this.height),A?this.onContextLost():this.onReady(),this.ready=!0},onContextLost:function(){},onReady:function(){},onWindowResize:function(){if(this.autoResize&&!this.driver.isDisposed()){var A=this.window.get_width(),t=this.window.get_height();A==this.width&&t==this.height||this.resize(A,t),this.onResized()}},set_fullScreen:function(A){return this.fullScreen=A,null!=this.mem&&bs.getValue(fs.IsWindowed)&&this.window.set_displayMode(A?ms.Borderless:ms.Windowed),A},onResized:function(){},resize:function(A,t){A<32&&(A=32),t<32&&(t=32),this.width=A,this.height=t,this.driver.isDisposed()||this.driver.resize(A,t)},begin:function(){return!this.driver.isDisposed()&&(this.inRender=!0,this.drawTriangles=0,this.shaderSwitches=0,this.drawCalls=0,this.targetStack=null,this.needFlushTarget=null!=this.currentTargetTex,this.driver.begin(xs.frameCount),null!=this.backgroundColor&&this.clear(this.backgroundColor,1,0),!0)},end:function(){this.inRender=!1,this.driver.end()},getCurrentTarget:function(){return null==this.targetStack?null:this.targetStack.t==this.nullTexture?this.targetStack.textures[0]:this.targetStack.t},pushTarget:function(A,t,e){null==e&&(e=0),null==t&&(t=0);var s=this.targetTmp;null==s?s=new lA(A,this.targetStack,t,e):(this.targetTmp=s.next,s.t=A,s.next=this.targetStack,s.mipLevel=e,s.layer=t),this.targetStack=s,this.updateNeedFlush()},updateNeedFlush:function(){var A=this.targetStack;this.needFlushTarget=null==A?null!=this.currentTargetTex:this.currentTargetTex!=A.t||this.currentTargetLayer!=A.layer||this.currentTargetMip!=A.mipLevel||null!=A.textures},popTarget:function(){var A=this.targetStack;if(null==A)throw de.thrown("popTarget() with no matching pushTarget()");this.targetStack=A.next,this.updateNeedFlush(),A.t=null,A.textures=null,A.next=this.targetTmp,this.targetTmp=A},doFlushTarget:function(){var A=this.targetStack;null==A?(this.driver.setRenderTarget(null),this.currentTargetTex=null):(null!=A.textures?this.driver.setRenderTargets(A.textures):this.driver.setRenderTarget(A.t,A.layer,A.mipLevel),this.currentTargetTex=A.t,this.currentTargetLayer=A.layer,this.currentTargetMip=A.mipLevel),this.needFlushTarget=!1},clear:function(A,t,e){if(null!=A){var s=this.tmpVector;s.x=(A>>16&255)/255,s.y=(A>>8&255)/255,s.z=(255&A)/255,s.w=(A>>>24)/255}this.needFlushTarget&&this.doFlushTarget(),this.driver.clear(null==A?null:this.tmpVector,t,e)},setRenderZone:function(A,t,e,s){null==s&&(s=-1),null==e&&(e=-1),null==t&&(t=0),null==A&&(A=0),this.needFlushTarget&&this.doFlushTarget(),this.driver.setRenderZone(A,t,e,s)},render:function(A){if(!this.begin())return!1;A.render(this),this.end();var t=o.now()/1e3-this.lastTime;if(this.lastTime+=t,t>0){var e=1/t;e>2*this.realFps?e=2*this.realFps:e<.5*this.realFps&&(e=.5*this.realFps);var s=t/.5;s>.3&&(s=.3),this.realFps=this.realFps*(1-s)+e*s}return!0},__class__:oA};var uA=function(A,t){null==t&&(t=!1),this.mem=oA.CURRENT.mem,this.count=A,this.is32=t,this.mem.allocIndexes(this)};e["h3d.Indexes"]=uA,uA.__name__="h3d.Indexes",uA.alloc=function(A,t,e){null==e&&(e=-1),null==t&&(t=0),e<0&&(e=A.length);var s=new uA(e);return s.upload(A,0,e),s},uA.prototype={isDisposed:function(){return null==this.ibuf},upload:function(A,t,e,s){null==s&&(s=0),this.mem.driver.uploadIndexBuffer(this.ibuf,t,e,A,s)},dispose:function(){null!=this.ibuf&&this.mem.deleteIndexes(this)},__class__:uA};var _A=function(){};e["h3d.Matrix"]=_A,_A.__name__="h3d.Matrix",_A.L=function(A){var t=new _A;return t.loadValues(A),t},_A.prototype={zero:function(){this._11=0,this._12=0,this._13=0,this._14=0,this._21=0,this._22=0,this._23=0,this._24=0,this._31=0,this._32=0,this._33=0,this._34=0,this._41=0,this._42=0,this._43=0,this._44=0},identity:function(){this._11=1,this._12=0,this._13=0,this._14=0,this._21=0,this._22=1,this._23=0,this._24=0,this._31=0,this._32=0,this._33=1,this._34=0,this._41=0,this._42=0,this._43=0,this._44=1},multiply3x4:function(A,t){var e=A._11,s=A._12,i=A._13,r=A._21,n=A._22,a=A._23,h=A._31,l=A._32,o=A._33,u=A._41,_=A._42,c=A._43,d=t._11,p=t._12,f=t._13,x=t._21,g=t._22,b=t._23,m=t._31,v=t._32,w=t._33,y=t._41,B=t._42,C=t._43;this._11=e*d+s*x+i*m,this._12=e*p+s*g+i*v,this._13=e*f+s*b+i*w,this._14=0,this._21=r*d+n*x+a*m,this._22=r*p+n*g+a*v,this._23=r*f+n*b+a*w,this._24=0,this._31=h*d+l*x+o*m,this._32=h*p+l*g+o*v,this._33=h*f+l*b+o*w,this._34=0,this._41=u*d+_*x+c*m+y,this._42=u*p+_*g+c*v+B,this._43=u*f+_*b+c*w+C,this._44=1},multiply:function(A,t){var e=A._11,s=A._12,i=A._13,r=A._14,n=A._21,a=A._22,h=A._23,l=A._24,o=A._31,u=A._32,_=A._33,c=A._34,d=A._41,p=A._42,f=A._43,x=A._44,g=t._11,b=t._12,m=t._13,v=t._14,w=t._21,y=t._22,B=t._23,C=t._24,k=t._31,M=t._32,S=t._33,T=t._34,F=t._41,E=t._42,I=t._43,D=t._44;this._11=e*g+s*w+i*k+r*F,this._12=e*b+s*y+i*M+r*E,this._13=e*m+s*B+i*S+r*I,this._14=e*v+s*C+i*T+r*D,this._21=n*g+a*w+h*k+l*F,this._22=n*b+a*y+h*M+l*E,this._23=n*m+a*B+h*S+l*I,this._24=n*v+a*C+h*T+l*D,this._31=o*g+u*w+_*k+c*F,this._32=o*b+u*y+_*M+c*E,this._33=o*m+u*B+_*S+c*I,this._34=o*v+u*C+_*T+c*D,this._41=d*g+p*w+f*k+x*F,this._42=d*b+p*y+f*M+x*E,this._43=d*m+p*B+f*S+x*I,this._44=d*v+p*C+f*T+x*D},inverse3x4:function(A){var t=A._11,e=A._12,s=A._13,i=A._21,r=A._22,n=A._23,a=A._31,h=A._32,l=A._33,o=A._41,u=A._42,_=A._43;this._11=r*l-n*h,this._12=s*h-e*l,this._13=e*n-s*r,this._14=0,this._21=n*a-i*l,this._22=t*l-s*a,this._23=s*i-t*n,this._24=0,this._31=i*h-r*a,this._32=e*a-t*h,this._33=t*r-e*i,this._34=0,this._41=-i*h*_+i*l*u+a*r*_-a*n*u-o*r*l+o*n*h,this._42=t*h*_-t*l*u-a*e*_+a*s*u+o*e*l-o*s*h,this._43=-t*r*_+t*n*u+i*e*_-i*s*u-o*e*n+o*s*r,this._44=t*r*l-t*n*h-i*e*l+i*s*h+a*e*n-a*s*r,this._44=1;var c=t*this._11+e*this._21+s*this._31;if((c<0?-c:c)<1e-10)this.zero();else{var d=1/c;this._11*=d,this._12*=d,this._13*=d,this._21*=d,this._22*=d,this._23*=d,this._31*=d,this._32*=d,this._33*=d,this._41*=d,this._42*=d,this._43*=d}},initInverse:function(A){var t=A._11,e=A._12,s=A._13,i=A._14,r=A._21,n=A._22,a=A._23,h=A._24,l=A._31,o=A._32,u=A._33,_=A._34,c=A._41,d=A._42,p=A._43,f=A._44;this._11=n*u*f-n*_*p-o*a*f+o*h*p+d*a*_-d*h*u,this._12=-e*u*f+e*_*p+o*s*f-o*i*p-d*s*_+d*i*u,this._13=e*a*f-e*h*p-n*s*f+n*i*p+d*s*h-d*i*a,this._14=-e*a*_+e*h*u+n*s*_-n*i*u-o*s*h+o*i*a,this._21=-r*u*f+r*_*p+l*a*f-l*h*p-c*a*_+c*h*u,this._22=t*u*f-t*_*p-l*s*f+l*i*p+c*s*_-c*i*u,this._23=-t*a*f+t*h*p+r*s*f-r*i*p-c*s*h+c*i*a,this._24=t*a*_-t*h*u-r*s*_+r*i*u+l*s*h-l*i*a,this._31=r*o*f-r*_*d-l*n*f+l*h*d+c*n*_-c*h*o,this._32=-t*o*f+t*_*d+l*e*f-l*i*d-c*e*_+c*i*o,this._33=t*n*f-t*h*d-r*e*f+r*i*d+c*e*h-c*i*n,this._34=-t*n*_+t*h*o+r*e*_-r*i*o-l*e*h+l*i*n,this._41=-r*o*p+r*u*d+l*n*p-l*a*d-c*n*u+c*a*o,this._42=t*o*p-t*u*d-l*e*p+l*s*d+c*e*u-c*s*o,this._43=-t*n*p+t*a*d+r*e*p-r*s*d-c*e*a+c*s*n,this._44=t*n*u-t*a*o-r*e*u+r*s*o+l*e*a-l*s*n;var x=t*this._11+e*this._21+s*this._31+i*this._41;(x<0?-x:x)<1e-10?this.zero():(x=1/x,this._11*=x,this._12*=x,this._13*=x,this._14*=x,this._21*=x,this._22*=x,this._23*=x,this._24*=x,this._31*=x,this._32*=x,this._33*=x,this._34*=x,this._41*=x,this._42*=x,this._43*=x,this._44*=x)},loadValues:function(A){this._11=A[0],this._12=A[1],this._13=A[2],this._14=A[3],this._21=A[4],this._22=A[5],this._23=A[6],this._24=A[7],this._31=A[8],this._32=A[9],this._33=A[10],this._34=A[11],this._41=A[12],this._42=A[13],this._43=A[14],this._44=A[15]},__class__:_A};var cA=function(A,t,e,s){null==s&&(s=1),null==e&&(e=0),null==t&&(t=0),null==A&&(A=0),this.x=A,this.y=t,this.z=e,this.w=s};e["h3d.Quat"]=cA,cA.__name__="h3d.Quat",cA.prototype={toMatrix:function(A){null==A&&(A=new _A);var t=this.x*this.x,e=this.x*this.y,s=this.x*this.z,i=this.x*this.w,r=this.y*this.y,n=this.y*this.z,a=this.y*this.w,h=this.z*this.z,l=this.z*this.w;return A._11=1-2*(r+h),A._12=2*(e+l),A._13=2*(s-a),A._14=0,A._21=2*(e-l),A._22=1-2*(t+h),A._23=2*(n+i),A._24=0,A._31=2*(s+a),A._32=2*(n-i),A._33=1-2*(t+r),A._34=0,A._41=0,A._42=0,A._43=0,A._44=1,A},__class__:cA};var dA=function(A,t,e,s){null==s&&(s=1),null==e&&(e=0),null==t&&(t=0),null==A&&(A=0),this.x=A,this.y=t,this.z=e,this.w=s};e["h3d.Vector"]=dA,dA.__name__="h3d.Vector",dA.prototype={__class__:dA};var pA=function(){};e["h3d.anim.AnimatedObject"]=pA,pA.__name__="h3d.anim.AnimatedObject";var fA=function(A,t,e){this.name=A,this.frameCount=t,this.sampling=e,this.objects=[],this.lastEvent=-1,this.frame=0,this.speed=1,this.loop=!0,this.pause=!1};e["h3d.anim.Animation"]=fA,fA.__name__="h3d.anim.Animation",fA.__interfaces__=[J],fA.prototype={getPropValue:function(A,t){return null},sync:function(A){throw null==A&&(A=!1),de.thrown("assert")},isPlaying:function(){return!this.pause&&(this.speed<0?-this.speed:this.speed)>1e-6},endFrame:function(){return this.frameCount},update:function(A){if(!this.isInstance)throw de.thrown("You must instanciate this animation first");if(!this.isPlaying())return 0;if(null!=this.events&&null!=this.onEvent){var t=0|this.frame,e=this.frame+A*this.speed*this.sampling|0;e>=this.frameCount&&(e=this.frameCount-1);for(var s=t,i=e+1;s<i;){var r=s++;if(r!=this.lastEvent&&(this.lastEvent=r,null!=this.events[r])){var n=this.frame,a=A;A-=(r-this.frame)/(this.speed*this.sampling),this.frame=r;for(var h=0,l=this.events[r];h<l.length;){var o=l[h];++h,this.onEvent(o)}if(this.frame==r&&r==this.frameCount-1){this.frame=n,A=a;break}return A}}}if(null!=this.onAnimEnd){var u=this.endFrame(),_=0==this.speed?0:(u-this.frame)/(this.speed*this.sampling);if(_<=A&&_>0)return this.frame=u,A-=_,this.onAnimEnd(),this.frame==u&&this.isPlaying()&&(this.loop?this.frame=0:A=0),A}return this.frame+=A*this.speed*this.sampling,this.frame>=this.frameCount&&(this.loop?this.frame%=this.frameCount:this.frame=this.frameCount),0},__class__:fA};var xA=function(){};e["h3d.col.Collider"]=xA,xA.__name__="h3d.col.Collider",xA.__isInterface__=!0,xA.__interfaces__=[J],xA.prototype={__class__:xA};var gA=function(){this.xMin=1e20,this.xMax=-1e20,this.yMin=1e20,this.yMax=-1e20,this.zMin=1e20,this.zMax=-1e20};e["h3d.col.Bounds"]=gA,gA.__name__="h3d.col.Bounds",gA.__interfaces__=[xA],gA.prototype={inFrustum:function(A,t){if(null!=t)throw de.thrown("Not implemented");return A.hasBounds(this)},rayIntersection:function(A,t){var e,s=(this.xMin-A.px)/A.lx,i=(this.yMin-A.py)/A.ly,r=(this.zMin-A.pz)/A.lz,n=(this.xMax-A.px)/A.lx,a=(this.yMax-A.py)/A.ly,h=(this.zMax-A.pz)/A.lz,l=s>n?n:s,o=i>a?a:i,u=r>h?h:r,_=s<n?n:s,c=i<a?a:i,d=r<h?h:r,p=(e=_>c?c:_)>d?d:e,f=(e=l<o?o:l)<u?u:e;return p<f?-1:f},intersection:function(A,t){var e,s,i=(e=A.xMin)<(s=t.xMin)?s:e,r=(e=A.yMin)<(s=t.yMin)?s:e,n=(e=A.zMin)<(s=t.zMin)?s:e,a=(e=A.xMax)>(s=t.xMax)?s:e,h=(e=A.yMax)>(s=t.yMax)?s:e,l=(e=A.zMax)>(s=t.zMax)?s:e;this.xMin=i,this.xMax=a,this.yMin=r,this.yMax=h,this.zMin=n,this.zMax=l},load:function(A){this.xMin=A.xMin,this.xMax=A.xMax,this.yMin=A.yMin,this.yMax=A.yMax,this.zMin=A.zMin,this.zMax=A.zMax},scaleCenter:function(A){var t=.5*(this.xMax-this.xMin)*A,e=.5*(this.yMax-this.yMin)*A,s=.5*(this.zMax-this.zMin)*A,i=.5*(this.xMax+this.xMin),r=.5*(this.yMax+this.yMin),n=.5*(this.zMax+this.zMin);this.xMin=i-t,this.yMin=r-e,this.zMin=n-s,this.xMax=i+t,this.yMax=r+e,this.zMax=n+s},__class__:gA};var bA=function(A){this.checkNearFar=!0,this.pleft=new vA(1,0,0,0),this.pright=new vA(1,0,0,0),this.ptop=new vA(1,0,0,0),this.pbottom=new vA(1,0,0,0),this.pnear=new vA(1,0,0,0),this.pfar=new vA(1,0,0,0),null!=A&&this.loadMatrix(A)};e["h3d.col.Frustum"]=bA,bA.__name__="h3d.col.Frustum",bA.prototype={loadMatrix:function(A){var t=this.pleft,e=A._14+A._11,s=A._24+A._21,i=A._34+A._31,r=-(A._44+A._41);t.nx=e,t.ny=s,t.nz=i,t.d=r;t=this.pright,e=A._14-A._11,s=A._24-A._21,i=A._34-A._31,r=A._41-A._44;t.nx=e,t.ny=s,t.nz=i,t.d=r;t=this.ptop,e=A._14-A._12,s=A._24-A._22,i=A._34-A._32,r=A._42-A._44;t.nx=e,t.ny=s,t.nz=i,t.d=r;t=this.pbottom,e=A._14+A._12,s=A._24+A._22,i=A._34+A._32,r=-(A._44+A._42);t.nx=e,t.ny=s,t.nz=i,t.d=r;t=this.pnear,e=A._13,s=A._23,i=A._33,r=-A._43;t.nx=e,t.ny=s,t.nz=i,t.d=r;t=this.pfar,e=A._14-A._13,s=A._24-A._23,i=A._34-A._33,r=A._43-A._44;t.nx=e,t.ny=s,t.nz=i,t.d=r;t=this.pleft;var n=1/Math.sqrt(t.nx*t.nx+t.ny*t.ny+t.nz*t.nz);t.nx*=n,t.ny*=n,t.nz*=n,t.d*=n;t=this.pright,n=1/Math.sqrt(t.nx*t.nx+t.ny*t.ny+t.nz*t.nz);t.nx*=n,t.ny*=n,t.nz*=n,t.d*=n;t=this.ptop,n=1/Math.sqrt(t.nx*t.nx+t.ny*t.ny+t.nz*t.nz);t.nx*=n,t.ny*=n,t.nz*=n,t.d*=n;t=this.pbottom,n=1/Math.sqrt(t.nx*t.nx+t.ny*t.ny+t.nz*t.nz);t.nx*=n,t.ny*=n,t.nz*=n,t.d*=n;t=this.pnear,n=1/Math.sqrt(t.nx*t.nx+t.ny*t.ny+t.nz*t.nz);t.nx*=n,t.ny*=n,t.nz*=n,t.d*=n;t=this.pfar,n=1/Math.sqrt(t.nx*t.nx+t.ny*t.ny+t.nz*t.nz);t.nx*=n,t.ny*=n,t.nz*=n,t.d*=n},hasSphere:function(A){var t=A.x,e=A.y,s=A.z;null==s&&(s=0),null==e&&(e=0),null==t&&(t=0);var i=t,r=e,n=s;if((a=this.pleft).nx*i+a.ny*r+a.nz*n-a.d<-A.r)return!1;if((a=this.pright).nx*i+a.ny*r+a.nz*n-a.d<-A.r)return!1;if((a=this.ptop).nx*i+a.ny*r+a.nz*n-a.d<-A.r)return!1;if((a=this.pbottom).nx*i+a.ny*r+a.nz*n-a.d<-A.r)return!1;if(this.checkNearFar){var a;if((a=this.pnear).nx*i+a.ny*r+a.nz*n-a.d<-A.r)return!1;if((a=this.pfar).nx*i+a.ny*r+a.nz*n-a.d<-A.r)return!1}return!0},hasBounds:function(A){var t=(r=this.pleft).nx,e=r.ny,s=r.nz,i=t*(A.xMax+A.xMin)+e*(A.yMax+A.yMin)+s*(A.zMax+A.zMin);if(t<0&&(t=-t),e<0&&(e=-e),s<0&&(s=-s),i+(t*(A.xMax-A.xMin)+e*(A.yMax-A.yMin)+s*(A.zMax-A.zMin))-2*r.d<0)return!1;t=(r=this.pright).nx,e=r.ny,s=r.nz,i=t*(A.xMax+A.xMin)+e*(A.yMax+A.yMin)+s*(A.zMax+A.zMin);if(t<0&&(t=-t),e<0&&(e=-e),s<0&&(s=-s),i+(t*(A.xMax-A.xMin)+e*(A.yMax-A.yMin)+s*(A.zMax-A.zMin))-2*r.d<0)return!1;t=(r=this.ptop).nx,e=r.ny,s=r.nz,i=t*(A.xMax+A.xMin)+e*(A.yMax+A.yMin)+s*(A.zMax+A.zMin);if(t<0&&(t=-t),e<0&&(e=-e),s<0&&(s=-s),i+(t*(A.xMax-A.xMin)+e*(A.yMax-A.yMin)+s*(A.zMax-A.zMin))-2*r.d<0)return!1;t=(r=this.ptop).nx,e=r.ny,s=r.nz,i=t*(A.xMax+A.xMin)+e*(A.yMax+A.yMin)+s*(A.zMax+A.zMin);if(t<0&&(t=-t),e<0&&(e=-e),s<0&&(s=-s),i+(t*(A.xMax-A.xMin)+e*(A.yMax-A.yMin)+s*(A.zMax-A.zMin))-2*r.d<0)return!1;t=(r=this.pnear).nx,e=r.ny,s=r.nz,i=t*(A.xMax+A.xMin)+e*(A.yMax+A.yMin)+s*(A.zMax+A.zMin);if(t<0&&(t=-t),e<0&&(e=-e),s<0&&(s=-s),i+(t*(A.xMax-A.xMin)+e*(A.yMax-A.yMin)+s*(A.zMax-A.zMin))-2*r.d<0)return!1;var r;t=(r=this.pfar).nx,e=r.ny,s=r.nz,i=t*(A.xMax+A.xMin)+e*(A.yMax+A.yMin)+s*(A.zMax+A.zMin);return t<0&&(t=-t),e<0&&(e=-e),s<0&&(s=-s),!(i+(t*(A.xMax-A.xMin)+e*(A.yMax-A.yMin)+s*(A.zMax-A.zMin))-2*r.d<0)},__class__:bA};var mA=function(){};e["h3d.col.Ray"]=mA,mA.__name__="h3d.col.Ray",mA.prototype={normalize:function(){var A=this.lx*this.lx+this.ly*this.ly+this.lz*this.lz;1!=A&&(A=A<1e-10?0:1/Math.sqrt(A),this.lx*=A,this.ly*=A,this.lz*=A)},__class__:mA};var vA=function(A,t,e,s){this.nx=A,this.ny=t,this.nz=e,this.d=s};e["h3d.col.Plane"]=vA,vA.__name__="h3d.col.Plane",vA.prototype={__class__:vA};var wA=function(A,t,e){null==e&&(e=0),null==t&&(t=0),null==A&&(A=0),this.x=A,this.y=t,this.z=e};e["h3d.col.Point"]=wA,wA.__name__="h3d.col.Point",wA.prototype={__class__:wA};var yA=function(A,t,e,s){null==s&&(s=0),null==e&&(e=0),null==t&&(t=0),null==A&&(A=0);var i=A,r=t,n=e,a=s;null==a&&(a=0),null==n&&(n=0),null==r&&(r=0),null==i&&(i=0),this.x=i,this.y=r,this.z=n,this.r=a};e["h3d.col.Sphere"]=yA,yA.__name__="h3d.col.Sphere",yA.__interfaces__=[xA],yA.prototype={rayIntersection:function(A,t){var e=this.r*this.r,s=A.px+A.lx,i=A.py+A.ly,r=A.pz+A.lz,n=A.lx*A.lx+A.ly*A.ly+A.lz*A.lz,a=2*A.lx*(this.x-s)+2*A.ly*(this.y-i)+2*A.lz*(this.z-r),h=a*a-4*n*(this.x*this.x+this.y*this.y+this.z*this.z+(s*s+i*i+r*r)-2*(this.x*s+this.y*i+this.z*r)-e);return h<0?-1:1-(-a+(h=Math.sqrt(h)))/(2*n)},inFrustum:function(A,t){return null!=t?this.inFrustumMatrix(A,t):A.hasSphere(this)},inFrustumMatrix:function(A,t){var e=this.x,s=this.y,i=this.z,r=this.r,n=this.x,a=this.y,h=this.z;null==h&&(h=0),null==a&&(a=0),null==n&&(n=0);var l=n,o=a,u=h,_=l*t._11+o*t._21+u*t._31+t._41,c=l*t._12+o*t._22+u*t._32+t._42,d=l*t._13+o*t._23+u*t._33+t._43;l=_,o=c,u=d,this.x=l,this.y=o,this.z=u;var p=null;null==p&&(p=new dA),p.x=Math.sqrt(t._11*t._11+t._12*t._12+t._13*t._13),p.y=Math.sqrt(t._21*t._21+t._22*t._22+t._23*t._23),p.z=Math.sqrt(t._31*t._31+t._32*t._32+t._33*t._33),t._11*(t._22*t._33-t._23*t._32)+t._12*(t._23*t._31-t._21*t._33)+t._13*(t._21*t._32-t._22*t._31)<0&&(p.x*=-1,p.y*=-1,p.z*=-1);var f=p;this.r*=Math.max(Math.max(f.x,f.y),f.z);var x=A.hasSphere(this);return this.x=e,this.y=s,this.z=i,this.r=r,x},__class__:yA};var BA=i["h3d.impl.Feature"]={__ename__:!0,__constructs__:null,StandardDerivatives:{_hx_name:"StandardDerivatives",_hx_index:0,__enum__:"h3d.impl.Feature",toString:s},FloatTextures:{_hx_name:"FloatTextures",_hx_index:1,__enum__:"h3d.impl.Feature",toString:s},AllocDepthBuffer:{_hx_name:"AllocDepthBuffer",_hx_index:2,__enum__:"h3d.impl.Feature",toString:s},HardwareAccelerated:{_hx_name:"HardwareAccelerated",_hx_index:3,__enum__:"h3d.impl.Feature",toString:s},MultipleRenderTargets:{_hx_name:"MultipleRenderTargets",_hx_index:4,__enum__:"h3d.impl.Feature",toString:s},Queries:{_hx_name:"Queries",_hx_index:5,__enum__:"h3d.impl.Feature",toString:s},SRGBTextures:{_hx_name:"SRGBTextures",_hx_index:6,__enum__:"h3d.impl.Feature",toString:s},ShaderModel3:{_hx_name:"ShaderModel3",_hx_index:7,__enum__:"h3d.impl.Feature",toString:s},BottomLeftCoords:{_hx_name:"BottomLeftCoords",_hx_index:8,__enum__:"h3d.impl.Feature",toString:s},Wireframe:{_hx_name:"Wireframe",_hx_index:9,__enum__:"h3d.impl.Feature",toString:s},InstancedRendering:{_hx_name:"InstancedRendering",_hx_index:10,__enum__:"h3d.impl.Feature",toString:s}};BA.__constructs__=[BA.StandardDerivatives,BA.FloatTextures,BA.AllocDepthBuffer,BA.HardwareAccelerated,BA.MultipleRenderTargets,BA.Queries,BA.SRGBTextures,BA.ShaderModel3,BA.BottomLeftCoords,BA.Wireframe,BA.InstancedRendering],BA.__empty_constructs__=[BA.StandardDerivatives,BA.FloatTextures,BA.AllocDepthBuffer,BA.HardwareAccelerated,BA.MultipleRenderTargets,BA.Queries,BA.SRGBTextures,BA.ShaderModel3,BA.BottomLeftCoords,BA.Wireframe,BA.InstancedRendering];var CA=i["h3d.impl.RenderFlag"]={__ename__:!0,__constructs__:null,CameraHandness:{_hx_name:"CameraHandness",_hx_index:0,__enum__:"h3d.impl.RenderFlag",toString:s}};CA.__constructs__=[CA.CameraHandness],CA.__empty_constructs__=[CA.CameraHandness];var kA=function(A){this.id=kA.UID++,this.names=A};e["h3d.impl.InputNames"]=kA,kA.__name__="h3d.impl.InputNames",kA.get=function(A){var t=A.join("|"),e=kA.CACHE.h[t];return null==e&&(e=new kA(A.slice()),kA.CACHE.h[t]=e),e},kA.prototype={__class__:kA};var MA=function(){};e["h3d.impl.Driver"]=MA,MA.__name__="h3d.impl.Driver",MA.prototype={hasFeature:function(A){return!1},setRenderFlag:function(A,t){},isSupportedFormat:function(A){return!1},isDisposed:function(){return!0},begin:function(A){},generateMipMaps:function(A){throw de.thrown("Mipmaps auto generation is not supported on this platform")},clear:function(A,t,e){},init:function(A,t){null==t&&(t=!1)},resize:function(A,t){},selectShader:function(A){return!1},selectMaterial:function(A){},uploadShaderBuffers:function(A,t){},selectBuffer:function(A){},draw:function(A,t,e){},setRenderZone:function(A,t,e,s){},setRenderTarget:function(A,t,e){null==e&&(e=0),null==t&&(t=0)},setRenderTargets:function(A){},allocDepthBuffer:function(A){return null},disposeDepthBuffer:function(A){},getDefaultDepthBuffer:function(){return null},end:function(){},setDebug:function(A){},allocTexture:function(A){return null},allocIndexes:function(A,t){return null},allocVertexes:function(A){return null},disposeTexture:function(A){},disposeIndexes:function(A){},disposeVertexes:function(A){},uploadIndexBuffer:function(A,t,e,s,i){},uploadVertexBuffer:function(A,t,e,s,i){},uploadTextureBitmap:function(A,t,e,s){},uploadTexturePixels:function(A,t,e,s){},copyTexture:function(A,t){return!1},__class__:MA};var SA=function(A,t,e){this.s=A,this.vertex=t,this.shader=e};e["h3d.impl._GlDriver.CompiledShader"]=SA,SA.__name__="h3d.impl._GlDriver.CompiledShader",SA.prototype={__class__:SA};var TA=function(){};e["h3d.impl._GlDriver.CompiledAttribute"]=TA,TA.__name__="h3d.impl._GlDriver.CompiledAttribute",TA.prototype={__class__:TA};var FA=function(){};e["h3d.impl._GlDriver.CompiledProgram"]=FA,FA.__name__="h3d.impl._GlDriver.CompiledProgram",FA.prototype={__class__:FA};var EA=function(A){null==A&&(A=0),this.features=new Ie,this.maxCompressedTexturesSupport=0,this.rightHanded=!1,this.firstShader=!0,this.boundTextures=[],this.curTargets=[];var t=[];t.push(0),t.push(0),t.push(0),t.push(0),t.push(0),t.push(0),t.push(0),t.push(0),t.push(0),t.push(0),t.push(0),t.push(0),t.push(0),t.push(0),t.push(0),t.push(0),t.push(0),t.push(0),t.push(0),t.push(0),t.push(0),t.push(0),t.push(0),t.push(0),t.push(0),t.push(0),t.push(0),t.push(0),t.push(0),t.push(0),t.push(0),t.push(0),this.currentDivisor=t,this.curColorMask=-1,this.lastActiveIndex=0,this.curStEnabled=!1,this.curStMaskBits=-1,this.curStOpBits=-1,this.curMatBits=-1,this.maxIdxCurAttribs=0,this.curAttribs=[],this.canvas=gs.getInstance().canvas;var e={alpha:!1,stencil:!0,antialias:A>0};if(EA.ALLOW_WEBGL2&&(this.gl=this.canvas.getContext("webgl2",e)),null==this.gl&&(this.gl=Ii.getContextWebGL(this.canvas,e)),null==this.gl)throw de.thrown("Could not acquire GL context");"undefined"!=typeof WebGLDebugUtils&&(this.gl=WebGLDebugUtils.makeDebugContext(this.gl),this.glDebug=!0),this.commonFB=this.gl.createFramebuffer(),this.programs=new De,this.defStencil=new At;var s=this.gl.getParameter(7938);(i=new n("ES ([0-9]+\\.[0-9]+)","")).match(s)&&(this.glES=parseFloat(i.matched(1)));var i=new n("[0-9]+\\.[0-9]+","");s=this.gl.getParameter(35724);if(i.match(s)&&(this.glES=parseFloat(i.matched(0)),this.shaderVersion=Math.round(100*parseFloat(i.matched(0)))),this.drawMode=4,this.makeFeatures(),this.hasFeature(BA.InstancedRendering)&&this.glES<3){var r=this.gl.getExtension("ANGLE_instanced_arrays");this.gl.vertexAttribDivisor=Di(r,r.vertexAttribDivisorANGLE),this.gl.drawElementsInstanced=Di(r,r.drawElementsInstancedANGLE)}Si.UNROLL_LOOPS=!this.hasFeature(BA.ShaderModel3),this.gl.pixelStorei(3333,1),this.gl.pixelStorei(3317,1)};e["h3d.impl.GlDriver"]=EA,EA.__name__="h3d.impl.GlDriver",EA.__super__=MA,EA.prototype=r(MA.prototype,{setRenderFlag:function(A,t){this.rightHanded=t>0},setDebug:function(A){this.debug=A},begin:function(A){this.frame=A,this.resetStream(),this.gl.useProgram(null),this.curShader=null,this.curBuffer=null},makeCompiler:function(){var A=new _i;return A.glES=this.glES,A.version=this.shaderVersion,A.intelDriverFix=this.isIntelGpu,A},getDriverName:function(A){var t=this.gl.getParameter(7937);return A?t+=" GLv"+f.string(this.gl.getParameter(7938)):t=t.split("/").shift(),"OpenGL "+(t=t.split("WebGL ").join(""))},compileShader:function(A,t){var e=t.vertex?35633:35632,s=this.gl.createShader(e);null==t.code&&(t.code=A.run(t.data),t.data.funs=null),this.gl.shaderSource(s,t.code),this.gl.compileShader(s);var i=this.gl.getShaderInfoLog(s);if(1!=this.gl.getShaderParameter(s,35713)){i=this.gl.getShaderInfoLog(s);var r=f.parseInt(o.substr(i,9,null)),n=null==r?null:t.code.split("\n")[r-1];n=null==n?"":"("+g.trim(n)+")";for(var a=t.code.split("\n"),h=0,l=a.length;h<l;){var u=h++;a[u]=u+1+"\t"+a[u]}throw de.thrown("An error occurred compiling the shaders: "+i+n+"\n\n"+a.join("\n"))}return new SA(s,t.vertex,t)},initShader:function(A,t,e,s){var i=t.vertex?"vertex":"fragment";t.globals=this.gl.getUniformLocation(A.p,i+"Globals"),t.params=this.gl.getUniformLocation(A.p,i+"Params"),t.textures=[];for(var r=0,n=null,a=0,h="",l=e.textures;null!=l;){var o=l.type,u=1;switch(o._hx_index){case 15:if(0==(b=o.size)._hx_index){var _=b.v;o=o.t,u=_}break;case 17:var c=o.size;o=zs.TSampler2D}if(o!=n){switch(n=o,o._hx_index){case 10:a=3553,h="Textures";break;case 11:a=35866,h="TexturesArray";break;case 12:a=34067,h="TexturesCube";break;default:throw de.thrown("Unsupported texture type "+f.string(o))}r=0}for(var d=0,p=u;d<p;){var x=d++,g=this.gl.getUniformLocation(A.p,i+h+"["+r+"]");if(null==g)throw de.thrown("Texture "+s.spec.instances[l.instance].shader.data.name+"."+l.name+" is missing from shader output");t.textures.push({u:g,t:n,mode:a}),++r}l=l.next}if(e.bufferCount>0){var b=[];for(c=0,d=e.bufferCount;c<d;){x=c++;b.push(this.gl.getUniformBlockIndex(A.p,(e.vertex?"vertex_":"")+"uniform_buffer"+x))}t.buffers=b;var m=0;t.vertex||(m=s.vertex.bufferCount);for(b=0,c=e.bufferCount;b<c;){x=b++;this.gl.uniformBlockBinding(A.p,t.buffers[x],x+m)}}},selectShader:function(A){var t=this.programs.h[A.id];if(null==t){t=new FA;var e=this.makeCompiler();t.vertex=this.compileShader(e,A.vertex),t.fragment=this.compileShader(e,A.fragment),t.p=this.gl.createProgram(),this.gl.attachShader(t.p,t.vertex.s),this.gl.attachShader(t.p,t.fragment.s);var s=null;try{this.gl.linkProgram(t.p),1!=this.gl.getProgramParameter(t.p,35714)&&(s=this.gl.getProgramInfoLog(t.p))}catch(n){var i=de.caught(n).unwrap();throw de.thrown("Shader linkage error: "+f.string(i)+" ("+this.getDriverName(!1)+")")}if(this.gl.deleteShader(t.vertex.s),this.gl.deleteShader(t.fragment.s),null!=s)throw this.gl.deleteProgram(t.p),de.thrown("Program linkage failure: "+s+"\nVertex=\n"+A.vertex.code+"\n\nFragment=\n"+A.fragment.code);this.firstShader=!1,this.initShader(t,t.vertex,A.vertex,A),this.initShader(t,t.fragment,A.fragment,A);var r=[];t.attribs=[],t.hasAttribIndex=[],t.stride=0;for(var n=0,a=A.vertex.data.vars;n<a.length;){var h=a[n];if(++n,1==h.kind._hx_index){var l,o=5126,u=h.type;switch(u._hx_index){case 3:l=1;break;case 5:u.t;l=u.size;break;case 9:o=5120,l=u.size;break;default:throw de.thrown("assert "+f.string(h.type))}var _=this.gl.getAttribLocation(t.p,e.varNames.h.hasOwnProperty(h.id)?e.varNames.h[h.id]:h.name);if(_<0){t.stride+=l;continue}var c=new TA;if(c.type=o,c.size=l,c.index=_,c.offset=t.stride,c.divisor=0,null!=h.qualifiers)for(var d=0,p=h.qualifiers;d<p.length;){var x=p[d];if(++d,9==x._hx_index){var g=x.v;c.divisor=g}}t.attribs.push(c),t.hasAttribIndex[c.index]=!0,r.push(h.name),t.stride+=l}}t.inputs=kA.get(r),this.programs.h[A.id]=t}return this.curShader!=t&&(this.setProgram(t),!0)},setProgram:function(A){this.gl.useProgram(A.p);for(var t=0,e=A.attribs;t<e.length;){var s=e[t];++t,this.curAttribs[s.index]||(this.gl.enableVertexAttribArray(s.index),this.curAttribs[s.index]=!0,this.maxIdxCurAttribs<s.index&&(this.maxIdxCurAttribs=s.index))}var i=0;for(t=0,e=this.maxIdxCurAttribs+1;t<e;){var r=t++;this.curAttribs[r]&&!A.hasAttribIndex[r]?(this.gl.disableVertexAttribArray(r),this.curAttribs[r]=!1):this.curAttribs[r]&&(i=r)}this.maxIdxCurAttribs=i,this.curShader=A,this.curBuffer=null;for(t=0,e=this.boundTextures.length;t<e;){r=t++;this.boundTextures[r]=null}},uploadShaderBuffers:function(A,t){this.uploadBuffer(A,this.curShader.vertex,A.vertex,t),this.uploadBuffer(A,this.curShader.fragment,A.fragment,t)},uploadBuffer:function(A,t,e,s){switch(s){case 0:if(null!=t.globals){var i=e.globals.subarray(0,4*t.shader.globalsSize);this.gl.uniform4fv(t.globals,i)}break;case 1:if(null!=t.params){i=e.params.subarray(0,4*t.shader.paramsSize);this.gl.uniform4fv(t.params,i)}break;case 2:t.textures.length;for(var r=0,n=t.textures.length;r<n;){var a=r++,h=e.tex[a],l=t.textures[a];if(null==h||null==h.t&&null==h.realloc)switch(l.t._hx_index){case 10:var o=ZA.loadingTextureColor;h=et.fromColor(o,(o>>>24)/255);break;case 12:h=et.defaultCubeTexture();break;default:throw de.thrown("Missing texture")}if(null!=h&&null==h.t&&null!=h.realloc){var u=this.curShader;if(h.alloc(),h.realloc(),this.curShader!=u)return this.setProgram(u),this.uploadShaderBuffers(A,0),this.uploadShaderBuffers(A,1),void this.uploadShaderBuffers(A,2)}if(h.set_lastFrame(this.frame),null!=l.u){var _=t.vertex?a:this.curShader.vertex.textures.length+a;if(this.boundTextures[_]!=h.t){this.boundTextures[_]=h.t;var c=this.getBindType(h);if(c!=l.mode)throw de.thrown("Texture format mismatch: "+f.string(h)+" should be "+f.string(l.t));this.gl.activeTexture(33984+_),this.gl.uniform1i(l.u,_),this.gl.bindTexture(c,h.t.t),this.lastActiveIndex=_}var d=h.mipMap._hx_index,p=h.filter._hx_index,x=h.wrap._hx_index,g=d|p<<3|x<<6;if(g!=h.t.bits){h.t.bits=g;var b=EA.TFILTERS[d][p],m=l.mode;this.gl.texParameteri(m,10240,b[0]),this.gl.texParameteri(m,10241,b[1]);var v=EA.TWRAP[x];this.gl.texParameteri(m,10242,v),this.gl.texParameteri(m,10243,v)}h.lodBias!=h.t.bias&&(h.t.bias=h.lodBias,this.gl.texParameterf(l.mode,34045,h.lodBias))}}break;case 3:if(null!=t.buffers){var w=0;t.vertex||null==this.curShader.vertex.buffers||(w=this.curShader.vertex.buffers.length);for(r=0,n=t.buffers.length;r<n;){a=r++;this.gl.bindBufferBase(35345,a+w,e.buffers[a].buffer.vbuf.b)}}}},selectMaterial:function(A){var t=A.bits;if(null==this.curTarget==this.rightHanded)switch(A.culling._hx_index){case 1:t=-4&t|2;break;case 2:t=-4&t|1}if(this.selectMaterialBits(t),this.curColorMask!=A.colorMask){var e=A.colorMask;this.gl.colorMask(0!=(1&e),0!=(2&e),0!=(4&e),0!=(8&e)),this.curColorMask=e}var s=this.defStencil;null==A.stencil?this.curStEnabled&&(this.gl.disable(2960),this.curStEnabled=!1):(s=A.stencil,this.curStEnabled||(this.gl.enable(2960),this.curStEnabled=!0)),this.selectStencilBits(s.opBits,s.maskBits)},selectMaterialBits:function(A){var t=A^this.curMatBits;if(this.curMatBits<0&&(t=-1),0!=t){var e=0!=(268435456&A);if(this.drawMode=e?3:4,0!=(3&t)){var s=3&A;0==s?this.gl.disable(2884):((this.curMatBits<0||0==(3&this.curMatBits))&&this.gl.enable(2884),this.gl.cullFace(EA.FACES[s]))}if(0!=(4194240&t)){var i=A>>6&15,r=A>>10&15,n=A>>14&15,a=A>>18&15;i==n&&r==a?0==i&&1==r?this.gl.disable(3042):((this.curMatBits<0||0==(this.curMatBits>>6&15)&&1==(this.curMatBits>>10&15))&&this.gl.enable(3042),this.gl.blendFunc(EA.BLEND[i],EA.BLEND[r])):((this.curMatBits<0||0==(this.curMatBits>>6&15)&&1==(this.curMatBits>>10&15))&&this.gl.enable(3042),this.gl.blendFuncSeparate(EA.BLEND[i],EA.BLEND[r],EA.BLEND[n],EA.BLEND[a]))}if(0!=(264241152&t)){var h=A>>22&7,l=A>>25&7;h==l?this.gl.blendEquation(EA.OP[h]):this.gl.blendEquationSeparate(EA.OP[h],EA.OP[l])}if(0!=(4&t)&&this.gl.depthMask(0!=(A>>2&1)),0!=(56&t)){var o=A>>3&7;0==o?this.gl.disable(2929):((this.curMatBits<0||0==(this.curMatBits>>3&7))&&this.gl.enable(2929),this.gl.depthFunc(EA.COMPARE[o]))}this.curMatBits=A}},selectStencilBits:function(A,t){var e=A^this.curStOpBits,s=t^this.curStMaskBits;if(0!=(e|s)){if(0!=(4088&e)&&this.gl.stencilOpSeparate(EA.FACES[2],EA.STENCIL_OP[A>>6&7],EA.STENCIL_OP[A>>9&7],EA.STENCIL_OP[A>>3&7]),0!=(16744448&e)&&this.gl.stencilOpSeparate(EA.FACES[1],EA.STENCIL_OP[A>>18&7],EA.STENCIL_OP[A>>21&7],EA.STENCIL_OP[A>>15&7]),0!=(7&e|16711935&s)&&this.gl.stencilFuncSeparate(EA.FACES[2],EA.COMPARE[7&A],t>>16&255,255&t),0!=(28672&e|16711935&s)&&this.gl.stencilFuncSeparate(EA.FACES[1],EA.COMPARE[A>>12&7],t>>16&255,255&t),0!=(65280&s)){var i=t>>8&255;this.gl.stencilMaskSeparate(EA.FACES[2],i),this.gl.stencilMaskSeparate(EA.FACES[1],i)}this.curStOpBits=A,this.curStMaskBits=t}},clear:function(A,t,e){var s=0;null!=A&&(this.gl.colorMask(!0,!0,!0,!0),this.curColorMask=15,this.gl.clearColor(A.x,A.y,A.z,A.w),s|=16384),null!=t&&(this.gl.depthMask(!0),this.curMatBits>=0&&(this.curMatBits|=4),this.gl.clearDepth(t),s|=256),null!=e&&(this.selectStencilBits(this.defStencil.opBits,this.defStencil.maskBits),this.gl.clearStencil(e),s|=1024),0!=s&&this.gl.clear(s),null!=this.curTarget&&(this.curTarget.flags|=1<<WA.WasCleared._hx_index)},resize:function(A,t){if(""==this.canvas.style.width){var e=A/window.devicePixelRatio|0;this.canvas.style.width=e+"px";e=t/window.devicePixelRatio|0;this.canvas.style.height=e+"px"}this.canvas.width=A,this.canvas.height=t,this.bufferWidth=A,this.bufferHeight=t,this.gl.viewport(0,0,A,t),null!=this.defaultDepth&&(this.disposeDepthBuffer(this.defaultDepth),this.defaultDepth.width=this.bufferWidth,this.defaultDepth.height=this.bufferHeight,this.defaultDepth.b=this.allocDepthBuffer(this.defaultDepth))},getChannels:function(A){switch(A.internalFmt){case 6407:case 34837:case 34843:case 35898:case 35904:case 35905:return 6407;case 6408:case 32857:case 33777:case 33778:case 33779:case 34836:case 34842:case 35906:case 35907:return 6408;case 32856:return 32993;case 6403:case 33321:case 33325:case 33326:return 6403;case 33319:case 33323:case 33327:case 33328:return 33319;default:throw de.thrown("Invalid format "+A.internalFmt)}},isSupportedFormat:function(A){switch(A._hx_index){case 2:return!0;case 3:case 4:return this.hasFeature(BA.FloatTextures);case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 12:case 13:case 16:case 17:return this.glES>=3;case 14:case 15:return this.hasFeature(BA.SRGBTextures);case 21:return A.v<=this.maxCompressedTexturesSupport;default:return!1}},getBindType:function(A){var t=0!=(A.flags&1<<WA.Cube._hx_index),e=0!=(A.flags&1<<WA.IsArray._hx_index);return t?34067:e?35866:3553},allocTexture:function(A){var t=this;EA.outOfMemoryCheck&&this.gl.getError();var e=this.gl.createTexture(),s=this.getBindType(A),i={t:e,width:A.width,height:A.height,internalFmt:6408,pixelFmt:5121,bits:-1,bind:s,bias:0};switch((a=A.format)._hx_index){case 1:i.internalFmt=32856;break;case 2:break;case 3:if(!this.hasFeature(BA.FloatTextures))throw de.thrown("Unsupported texture format "+f.string(A.format));i.pixelFmt=5131,i.internalFmt=34842;break;case 4:if(!this.hasFeature(BA.FloatTextures))throw de.thrown("Unsupported texture format "+f.string(A.format));i.internalFmt=34836,i.pixelFmt=5126;break;case 5:i.internalFmt=33321;break;case 6:i.internalFmt=33325,i.pixelFmt=5131;break;case 7:i.internalFmt=33326,i.pixelFmt=5126;break;case 8:i.internalFmt=33323;break;case 9:i.internalFmt=33327,i.pixelFmt=5131;break;case 10:i.internalFmt=33328,i.pixelFmt=5126;break;case 11:i.internalFmt=6407;break;case 12:i.internalFmt=34843,i.pixelFmt=5131;break;case 13:i.internalFmt=34837,i.pixelFmt=5126;break;case 14:i.internalFmt=35905;break;case 15:i.internalFmt=35907;break;case 16:i.internalFmt=32857,i.pixelFmt=33640;break;case 17:i.internalFmt=35898,i.pixelFmt=35899;break;case 21:var r=a.v;if(!(r<=this.maxCompressedTexturesSupport))throw de.thrown("Unsupported texture format "+f.string(A.format));if(0!=(3&A.width)||0!=(3&A.height))throw de.thrown("Compressed texture "+f.string(A)+" has size "+A.width+"x"+A.height+" - must be a multiple of 4");switch(r){case 1:i.internalFmt=33777;break;case 2:i.internalFmt=33778;break;case 3:i.internalFmt=33779;break;default:throw de.thrown("Unsupported texture format "+f.string(A.format))}break;default:throw de.thrown("Unsupported texture format "+f.string(A.format))}A.set_lastFrame(this.frame),A.flags&=-1-(1<<WA.WasCleared._hx_index),this.gl.bindTexture(s,i.t);for(var n=!1,a=0,h=A.get_mipLevels();a<h;){var l=a++,o=i.width>>l,u=1<o?o:1,_=i.height>>l,c=1<_?_:1;if(0!=(A.flags&1<<WA.Cube._hx_index))for(var d=0;d<6;){var p,x=d++;if(this.gl.texImage2D(EA.CUBE_FACES[x],l,i.internalFmt,u,c,0,this.getChannels(i),i.pixelFmt,null),EA.outOfMemoryCheck){var g=t.gl.getError();if(1285==g)n=!0,p=!0;else{if(0!=g)throw de.thrown("Failed to alloc texture "+f.string(A.format)+"(error "+g+")");p=!1}}else p=!1;if(p)break}else if(0!=(A.flags&1<<WA.IsArray._hx_index)){if(this.gl.texImage3D(s,l,i.internalFmt,u,c,A.get_layerCount(),0,this.getChannels(i),i.pixelFmt,null),EA.outOfMemoryCheck){var b=t.gl.getError();if(1285==b)n=!0;else if(0!=b)throw de.thrown("Failed to alloc texture "+f.string(A.format)+"(error "+b+")")}}else{var m,v=A.format;if(21==v._hx_index){v.v;m=!0}else m=!1;if(m||this.gl.texImage2D(s,l,i.internalFmt,u,c,0,this.getChannels(i),i.pixelFmt,null),EA.outOfMemoryCheck){var w=t.gl.getError();if(1285==w)n=!0;else if(0!=w)throw de.thrown("Failed to alloc texture "+f.string(A.format)+"(error "+w+")")}}}return this.restoreBind(),n?(this.gl.deleteTexture(i.t),null):i},restoreBind:function(){var A=this.boundTextures[this.lastActiveIndex];null==A?this.gl.bindTexture(3553,null):this.gl.bindTexture(A.bind,A.t)},allocDepthBuffer:function(A){var t,e=this.gl.createRenderbuffer();switch(null==A.format&&(A.format=this.glES>=3?HA.Depth24Stencil8:HA.Depth16),A.format._hx_index){case 0:t=33189;break;case 1:if(!(this.glES>=3))throw de.thrown("Unsupported depth format "+f.string(A.format));t=33190;break;case 2:t=34041;break;default:throw de.thrown("Unsupported depth format "+f.string(A.format))}return this.gl.bindRenderbuffer(36161,e),this.gl.renderbufferStorage(36161,t,A.width,A.height),this.gl.bindRenderbuffer(36161,null),{r:e}},disposeDepthBuffer:function(A){null!=A.b&&null!=A.b.r&&(this.gl.deleteRenderbuffer(A.b.r),A.b=null)},getDefaultDepthBuffer:function(){return null!=this.defaultDepth||(this.defaultDepth=new KA(0,0),this.defaultDepth.width=this.bufferWidth,this.defaultDepth.height=this.bufferHeight,this.defaultDepth.b=this.allocDepthBuffer(this.defaultDepth)),this.defaultDepth},allocVertexes:function(A){EA.outOfMemoryCheck&&this.gl.getError();var t=this.gl.createBuffer();if(this.gl.bindBuffer(34962,t),A.size*A.stride==0)throw de.thrown("assert");this.gl.bufferData(34962,A.size*A.stride*4,0!=(A.flags&1<<nA.Dynamic._hx_index)?35048:35044);var e=EA.outOfMemoryCheck&&1285==this.gl.getError();return this.gl.bindBuffer(34962,null),e?(this.gl.deleteBuffer(t),null):{b:t,stride:A.stride}},allocIndexes:function(A,t){EA.outOfMemoryCheck&&this.gl.getError();var e=this.gl.createBuffer(),s=t?4:2;this.gl.bindBuffer(34963,e),this.gl.bufferData(34963,A*s,35044);var i=EA.outOfMemoryCheck&&1285==this.gl.getError();return this.gl.bindBuffer(34963,null),this.curIndexBuffer=null,i?(this.gl.deleteBuffer(e),null):{b:e,is32:t}},disposeTexture:function(A){var t=A.t;if(null!=t){A.t=null;for(var e=0,s=this.boundTextures.length;e<s;){var i=e++;this.boundTextures[i]==t&&(this.boundTextures[i]=null)}this.gl.deleteTexture(t.t)}},disposeIndexes:function(A){this.gl.deleteBuffer(A.b)},disposeVertexes:function(A){this.gl.deleteBuffer(A.b)},generateMipMaps:function(A){var t=this.getBindType(A);this.gl.bindTexture(t,A.t.t),this.gl.generateMipmap(t),this.restoreBind()},uploadTextureBitmap:function(A,t,e,s){if(A.format!=tt.RGBA||1!=A.get_layerCount()){var i=t.getPixels();this.uploadTexturePixels(A,i,e,s),i.dispose()}else{var r=t.ctx;this.gl.bindTexture(3553,A.t.t),this.gl.texImage2D(3553,e,A.t.internalFmt,this.getChannels(A.t),A.t.pixelFmt,r.getImageData(0,0,t.ctx.canvas.width,t.ctx.canvas.height)),this.restoreBind()}},resetStream:function(){},uploadTexturePixels:function(A,t,e,s){var i=0!=(A.flags&1<<WA.Cube._hx_index)?EA.CUBE_FACES[s]:0!=(A.flags&1<<WA.IsArray._hx_index)?35866:3553,r=this.getBindType(A);this.gl.bindTexture(r,A.t.t),t.convert(A.format),t.setFlip(!1);var n,a=t.dataSize;switch(A.format._hx_index){case 3:case 6:case 9:case 12:n=new Uint16Array(t.bytes.b.buffer,t.offset,a>>1);break;case 4:case 7:case 10:case 13:n=new Float32Array(t.bytes.b.buffer,t.offset,a>>2);break;case 16:case 17:n=new Uint32Array(t.bytes.b.buffer,t.offset,a>>2);break;default:n=new Uint8Array(t.bytes.b.buffer,t.offset,a)}var h,l=A.format;if(21==l._hx_index){l.v;h=!0}else h=!1;h?0!=(A.flags&1<<WA.IsArray._hx_index)?this.gl.compressedTexSubImage3D(i,e,0,0,s,t.width,t.height,1,A.t.internalFmt,n):this.gl.compressedTexImage2D(i,e,A.t.internalFmt,t.width,t.height,0,n):0!=(A.flags&1<<WA.IsArray._hx_index)?this.gl.texSubImage3D(i,e,0,0,s,t.width,t.height,1,this.getChannels(A.t),A.t.pixelFmt,n):this.gl.texImage2D(i,e,A.t.internalFmt,t.width,t.height,0,this.getChannels(A.t),A.t.pixelFmt,n),A.flags|=1<<WA.WasCleared._hx_index,this.restoreBind()},uploadVertexBuffer:function(A,t,e,s,i){var r=A.stride;this.gl.bindBuffer(34962,A.b);var n=s.array,a=new Float32Array(n.buffer,4*i,e*r);this.gl.bufferSubData(34962,t*r*4,a),this.gl.bindBuffer(34962,null)},uploadIndexBuffer:function(A,t,e,s,i){var r=A.is32?2:1;this.gl.bindBuffer(34963,A.b);var n=new Uint16Array(s),a=new Uint16Array(n.buffer,i<<r,e);this.gl.bufferSubData(34963,t<<r,a),this.gl.bindBuffer(34963,null),this.curIndexBuffer=null},selectBuffer:function(A){if(A!=this.curBuffer)if(null==this.curBuffer||A.buffer!=this.curBuffer.buffer||0!=(A.buffer.flags&1<<nA.RawFormat._hx_index)!=(0!=(this.curBuffer.flags&1<<nA.RawFormat._hx_index))){if(null==this.curShader)throw de.thrown("No shader selected");this.curBuffer=A;var t=A.buffer.vbuf;if(t.stride<this.curShader.stride)throw de.thrown("Buffer stride ("+t.stride+") and shader stride ("+this.curShader.stride+") mismatch");if(this.gl.bindBuffer(34962,t.b),0!=(A.flags&1<<nA.RawFormat._hx_index))for(var e=0,s=this.curShader.attribs;e<s.length;){var i=s[e];++e;var r=i.offset;this.gl.vertexAttribPointer(i.index,i.size,i.type,!1,4*t.stride,4*r),this.currentDivisor[i.index]!=i.divisor&&(this.currentDivisor[i.index]=i.divisor,this.gl.vertexAttribDivisor(i.index,i.divisor))}else{var n=8;for(e=0,s=this.curShader.attribs.length;e<s;){var a=e++,h=(i=this.curShader.attribs[a],this.curShader.inputs.names[a]);switch(h){case"normal":if(t.stride<6)throw de.thrown("Buffer is missing NORMAL data, set it to RAW format ?");r=3;break;case"position":r=0;break;case"uv":if(t.stride<8)throw de.thrown("Buffer is missing UV data, set it to RAW format ?");r=6;break;default:var l=h;if(r=n,(n+=i.size)>t.stride)throw de.thrown("Buffer is missing '"+l+"' data, set it to RAW format ?")}this.gl.vertexAttribPointer(i.index,i.size,i.type,!1,4*t.stride,4*r),this.currentDivisor[i.index]!=i.divisor&&(this.currentDivisor[i.index]=i.divisor,this.gl.vertexAttribDivisor(i.index,i.divisor))}}}else this.curBuffer=A},draw:function(A,t,e){A!=this.curIndexBuffer&&(this.curIndexBuffer=A,this.gl.bindBuffer(34963,A.b)),A.is32?this.gl.drawElements(this.drawMode,3*e,5125,4*t):this.gl.drawElements(this.drawMode,3*e,5123,2*t)},end:function(){},isDisposed:function(){return this.gl.isContextLost()},setRenderZone:function(A,t,e,s){0==A&&0==t&&e<0&&s<0?this.gl.disable(3089):(this.gl.enable(3089),null==this.curTarget&&(t=this.bufferHeight-(t+s)),this.gl.scissor(A,t,e,s))},setDrawBuffers:function(A){this.glES>=3?this.gl.drawBuffers(EA.CBUFFERS[A]):null!=this.mrtExt&&this.mrtExt.drawBuffersWEBGL(EA.CBUFFERS[A])},unbindTargets:function(){if(null!=this.curTarget&&this.numTargets>1){for(;this.numTargets>1;)this.gl.framebufferTexture2D(36160,36064+--this.numTargets,3553,null,0),this.curTargets[this.numTargets]=null;this.setDrawBuffers(1)}},setRenderTarget:function(A,t,e){if(null==e&&(e=0),null==t&&(t=0),this.unbindTargets(),this.curTarget=A,null==A)return this.gl.bindFramebuffer(36160,null),void this.gl.viewport(0,0,this.bufferWidth,this.bufferHeight);if(null!=A.depthBuffer&&(A.depthBuffer.width!=A.width||A.depthBuffer.height!=A.height))throw de.thrown("Invalid depth buffer size : does not match render target size");if(e>0&&1==this.glES)throw de.thrown("Cannot render to mipLevel in WebGL1, use upload() instead");if(null==A.t&&A.alloc(),0!=(A.flags&1<<WA.MipMapped._hx_index)&&0==(A.flags&1<<WA.WasCleared._hx_index)){var s=this.getBindType(A);this.gl.bindTexture(s,A.t.t),this.gl.generateMipmap(s),this.restoreBind()}A.set_lastFrame(this.frame),this.curTargetLayer=t,this.curTargetMip=e,this.gl.bindFramebuffer(36160,this.commonFB),0!=(A.flags&1<<WA.IsArray._hx_index)?this.gl.framebufferTextureLayer(36160,36064,A.t.t,e,t):this.gl.framebufferTexture2D(36160,36064,0!=(A.flags&1<<WA.Cube._hx_index)?EA.CUBE_FACES[t]:3553,A.t.t,e),null!=A.depthBuffer?A.depthBuffer.hasStencil()&&A.depthBuffer.format==HA.Depth24Stencil8?this.gl.framebufferRenderbuffer(36160,33306,36161,A.depthBuffer.b.r):(this.gl.framebufferRenderbuffer(36160,33306,36161,null),this.gl.framebufferRenderbuffer(36160,36096,36161,A.depthBuffer.b.r),this.gl.framebufferRenderbuffer(36160,36128,36161,A.depthBuffer.hasStencil()?A.depthBuffer.b.r:null)):(this.gl.framebufferRenderbuffer(36160,33306,36161,null),this.gl.framebufferRenderbuffer(36160,36096,36161,null),this.gl.framebufferRenderbuffer(36160,36128,36161,null));var i=A.width>>e;0==i&&(i=1);var r=A.height>>e;0==r&&(r=1),this.gl.viewport(0,0,i,r);for(var n=0,a=this.boundTextures.length;n<a;){var h=n++;this.boundTextures[h]=null}if(0==(A.flags&1<<WA.WasCleared._hx_index)&&(A.flags|=1<<WA.WasCleared._hx_index,this.clear(EA.BLACK)),this.glDebug){var l=this.gl.checkFramebufferStatus(36160);if(36053!=l)throw de.thrown("Invalid frame buffer: "+l)}},setRenderTargets:function(A){if(this.unbindTargets(),this.setRenderTarget(A[0]),!(A.length<2)){this.numTargets=A.length;for(var t=!1,e=1,s=A.length;e<s;){var i=e++,r=A[i];null==r.t&&r.alloc(),this.gl.framebufferTexture2D(36160,36064+i,3553,r.t.t,0),this.curTargets[i]=r,r.set_lastFrame(this.frame),0==(r.flags&1<<WA.WasCleared._hx_index)&&(r.flags|=1<<WA.WasCleared._hx_index,t=!0)}this.setDrawBuffers(A.length),t&&this.clear(EA.BLACK)}},init:function(A,t){null==t&&(t=!1);var e=!1;if("complete"==window.document.readyState){var s=A;be.delay((function(){s(false)}),1)}else window.addEventListener("load",(function(t){e||(e=!0,A(!1))}))},hasFeature:function(A){return this.features.get(A)},makeFeatures:function(){for(var A=0,t=BA.__empty_constructs__.slice();A<t.length;){var e=t[A];++A,this.features.set(e,this.checkFeature(e))}null!=this.gl.getExtension("WEBGL_compressed_texture_s3tc")&&(this.maxCompressedTexturesSupport=3)},checkFeature:function(A){switch(A._hx_index){case 0:return this.glES>=3||null!=this.gl.getExtension("OES_standard_derivatives");case 1:return this.glES>=3?null!=this.gl.getExtension("EXT_color_buffer_float")&&null!=this.gl.getExtension("OES_texture_float_linear"):null!=this.gl.getExtension("OES_texture_float")&&null!=this.gl.getExtension("OES_texture_float_linear")&&null!=this.gl.getExtension("OES_texture_half_float")&&null!=this.gl.getExtension("OES_texture_half_float_linear");case 2:case 3:case 8:case 9:return!0;case 4:return this.glES>=3||(null!=this.mrtExt||null!=(this.mrtExt=this.gl.getExtension("WEBGL_draw_buffers")));case 6:return this.glES>=3||null!=this.gl.getExtension("EXT_sRGB");case 7:return this.glES>=3;case 10:return this.glES>=3||null!=this.gl.getExtension("ANGLE_instanced_arrays");default:return!1}},__class__:EA});var IA=function(A,t,e){this.pos=A,this.count=t,this.next=e};e["h3d.impl._ManagedBuffer.FreeCell"]=IA,IA.__name__="h3d.impl._ManagedBuffer.FreeCell",IA.prototype={__class__:IA};var DA=function(A,t,e){if(this.flags=0,null!=e)for(var s=0;s<e.length;){var i=e[s];++s,this.flags|=1<<i._hx_index}this.size=t,this.stride=A,this.freeList=new IA(0,t,null),this.mem=oA.CURRENT.mem,this.mem.allocManaged(this)};e["h3d.impl.ManagedBuffer"]=DA,DA.__name__="h3d.impl.ManagedBuffer",DA.prototype={uploadVertexBuffer:function(A,t,e,s){null==s&&(s=0),this.mem.driver.uploadVertexBuffer(this.vbuf,A,t,e,s)},allocPosition:function(A,t){for(var e=this.freeList;null!=e;){if(e.count>=A){var s=(t-e.pos%t)%t;if(0==s)break;if(e.count>=A+s){e.next=new IA(e.pos+s,e.count-s,e.next),e.count=s,e=e.next;break}}e=e.next}if(null==e)return-1;var i=e.pos;return e.pos+=A,e.count-=A,i},allocBuffer:function(A){var t=0!=(A.flags&1<<nA.Quads._hx_index)?4:0!=(A.flags&1<<nA.Triangles._hx_index)?3:1,e=this.allocPosition(A.vertices,t);return!(e<0)&&(A.position=e,A.buffer=this,!0)},freeBuffer:function(A){for(var t=null,e=this.freeList,s=A.vertices,i=A.position+s;null!=e;){if(e.pos==i){e.pos-=s,e.count+=s,null!=t&&t.pos+t.count==e.pos&&(t.count+=e.count,t.next=e.next),s=0;break}if(e.pos>i){if(null!=t&&t.pos+t.count==A.position)t.count+=s;else{var r=new IA(A.position,s,e);null==t?this.freeList=r:t.next=r}s=0;break}t=e,e=e.next}if(0!=s)throw de.thrown("assert");this.freeList.count==this.size&&0==(this.flags&1<<nA.Managed._hx_index)&&this.dispose()},dispose:function(){this.mem.freeManaged(this)},__class__:DA};var QA=function(A){this.bufferCount=0,this.texMemory=0,this.usedMemory=0,this.driver=A};e["h3d.impl.MemoryManager"]=QA,QA.__name__="h3d.impl.MemoryManager",QA.prototype={init:function(){this.indexes=[],this.textures=[],this.buffers=[],this.depths=[],this.initIndexes()},initIndexes:function(){for(var A=new Array(0),t=0;t<65533;){var e=t++;A.push(e)}this.triIndexes=uA.alloc(A);for(A=new Array(0),t=0;t<16383;){var s=(e=t++)<<2;A.push(s),A.push(s+1),A.push(s+2),A.push(s+2),A.push(s+1),A.push(s+3)}A.push(65533),this.quadIndexes=uA.alloc(A)},garbage:function(){},cleanManagedBuffers:function(){for(var A=1,t=this.buffers.length;A<t;)for(var e=A++,s=this.buffers[e],i=null;null!=s;)s.freeList.count==s.size?(s.dispose(),null==i?this.buffers[e]=s.next:i.next=s.next):i=s,s=s.next},allocManaged:function(A){if(null==A.vbuf){var t=A.size*A.stride*4;if(0!=t){for(;this.usedMemory+t>4294967296||this.bufferCount>=65536||null==(A.vbuf=this.driver.allocVertexes(A));){if(this.driver.isDisposed())return;var e=this.usedMemory-this.freeMemorySize();if(this.garbage(),this.cleanManagedBuffers(),this.usedMemory-this.freeMemorySize()==e){if(this.bufferCount>=65536)throw de.thrown("Too many buffers");throw de.thrown("Memory full ("+Math.ceil(e/1024)+" KB,"+this.bufferCount+" buffers)")}}this.usedMemory+=t,this.bufferCount++}}},freeManaged:function(A){if(null!=A.vbuf&&(this.driver.disposeVertexes(A.vbuf),A.vbuf=null,this.usedMemory-=A.size*A.stride*4,this.bufferCount--,0==(A.flags&1<<nA.Managed._hx_index)))for(var t=this.buffers[0],e=null;null!=t;){if(t==A){null==e?this.buffers[0]=A.next:e.next=A.next;break}e=t,t=t.next}},allocBuffer:function(A,t){var e=0!=(A.flags&1<<nA.Quads._hx_index)?65532:0!=(A.flags&1<<nA.Triangles._hx_index)?65533:65534;if(A.vertices>e&&0==(A.flags&1<<nA.UniformBuffer._hx_index)&&0==(A.flags&1<<nA.LargeBuffer._hx_index)){if(65534==e)throw de.thrown("Cannot split buffer with "+A.vertices+" vertices if it's not Quads/Triangles");var s=A.vertices-e;A.vertices=e,this.allocBuffer(A,t);for(var i=A;null!=i.next;)i=i.next;for(var r=[],n=0,a=QA.ALL_FLAGS;n<a.length;){var h=a[n];++n,0!=(A.flags&1<<h._hx_index)&&r.push(h)}i.next=new aA(s,t,r)}else if(0!=(A.flags&1<<nA.Managed._hx_index)){c=this.buffers[t];for(var l=null;null!=c;){if(c.allocBuffer(A))return;l=c,c=c.next}var o=0!=(A.flags&1<<nA.Triangles._hx_index)?3:0!=(A.flags&1<<nA.Quads._hx_index)?4:0;if(null==c&&o>0){for(var u=A.vertices,_=u;_>2048;)for(c=this.buffers[t],_>>=1,_-=_%o,A.vertices=_;null!=c;){if(c.allocBuffer(A)){for(r=[],n=0,a=QA.ALL_FLAGS;n<a.length;){h=a[n];++n,0!=(A.flags&1<<h._hx_index)&&r.push(h)}return void(A.next=new aA(u-_,t,r))}c=c.next}A.vertices=u}if(c=new DA(t,65533,[nA.Managed]),null==l?this.buffers[t]=c:l.next=c,!c.allocBuffer(A))throw de.thrown("assert")}else{var c,r=null;if(0!=(A.flags&1<<nA.Dynamic._hx_index)&&(null==r&&(r=[]),r.push(nA.Dynamic)),0!=(A.flags&1<<nA.UniformBuffer._hx_index)&&(null==r&&(r=[]),r.push(nA.UniformBuffer)),(c=new DA(t,A.vertices,r)).next=this.buffers[0],this.buffers[0]=c,!c.allocBuffer(A))throw de.thrown("assert")}},deleteIndexes:function(A){o.remove(this.indexes,A),this.driver.disposeIndexes(A.ibuf),A.ibuf=null,this.usedMemory-=A.count*(A.is32?4:2)},allocIndexes:function(A){A.ibuf=this.driver.allocIndexes(A.count,A.is32),this.indexes.push(A),this.usedMemory+=A.count*(A.is32?4:2)},bpp:function(A){return 4},cleanTextures:function(A){null==A&&(A=!0),this.textures.sort(Di(this,this.sortByLRU));for(var t=0,e=this.textures;t<e.length;){var s=e[t];if(++t,null!=s.realloc&&(null!=s.t||null!=s.realloc)&&(A||s.get_lastFrame()<xs.frameCount-3600))return s.dispose(),!0}return!1},sortByLRU:function(A,t){return A.get_lastFrame()-t.get_lastFrame()},deleteTexture:function(A){o.remove(this.textures,A)&&(this.driver.disposeTexture(A),this.texMemory-=A.width*A.height*this.bpp(A))},allocTexture:function(A){this.cleanTextures(!1);if(A.t=this.driver.allocTexture(A),null!=A.t)this.textures.push(A),this.texMemory+=A.width*A.height*this.bpp(A);else{if(this.driver.isDisposed())return;if(!this.cleanTextures(!0))throw de.thrown("Maximum texture memory reached");this.allocTexture(A)}},allocDepth:function(A){this.cleanTextures(!1);if(A.b=this.driver.allocDepthBuffer(A),null!=A.b)this.depths.push(A),this.texMemory+=A.width*A.height*4;else{if(this.driver.isDisposed())return;if(!this.cleanTextures(!0))throw de.thrown("Maximum texture memory reached");this.allocDepth(A)}},deleteDepth:function(A){o.remove(this.depths,A)&&(this.driver.disposeDepthBuffer(A),this.texMemory-=A.width*A.height*4)},onContextLost:function(){this.dispose(),this.initIndexes()},dispose:function(){null!=this.triIndexes&&this.triIndexes.dispose(),null!=this.quadIndexes&&this.quadIndexes.dispose(),this.triIndexes=null,this.quadIndexes=null;for(var A=0,t=this.textures.slice();A<t.length;){var e=t[A];++A,e.dispose()}for(A=0,t=this.depths.slice();A<t.length;){var s=t[A];++A,s.dispose()}for(A=0,t=this.buffers.slice();A<t.length;){s=t[A];++A;for(var i=s;null!=i;)i.dispose(),i=i.next}for(A=0,t=this.indexes.slice();A<t.length;){var r=t[A];++A,r.dispose()}this.buffers=[],this.indexes=[],this.textures=[],this.bufferCount=0,this.usedMemory=0,this.texMemory=0},freeMemorySize:function(){for(var A=0,t=0,e=this.buffers;t<e.length;){var s=e[t];++t;for(var i=s;null!=i;){for(var r=i.freeList;null!=r;)A+=r.count*i.stride*4,r=r.next;i=i.next}}return A},__class__:QA};var VA=function(A){this.position=0,this.ctx=A,this.cache=[];oA.CURRENT;this.defaultFormat=et.nativeFormat,this.defaultDepthBuffer=KA.getDefault()};e["h3d.impl.TextureCache"]=VA,VA.__name__="h3d.impl.TextureCache",VA.prototype={begin:function(){for(;this.cache.length>this.position;){var A=this.cache.pop();null!=A&&A.dispose()}this.position=0},lookupTarget:function(A,t,e,s,i){for(var r=this.cache[this.position],n=this.position+1,a=this.cache.length;n<a;){var h=n++,l=this.cache[h];if(null!=l&&(null!=l.t||null!=l.realloc)&&l.width==t&&l.height==e&&l.format==s&&i==(0!=(l.flags&1<<WA.Cube._hx_index)))return this.cache[this.position]=l,this.cache[h]=r,l}null!=r&&r.name==A&&(r.dispose(),r=null);var o=[WA.Target];i&&o.push(WA.Cube);var u=new et(t,e,o,s);return null!=r?this.cache.splice(this.position,0,u):this.cache[this.position]=u,u},allocTarget:function(A,t,e,s,i,r){null==r&&(r=!1),null==s&&(s=!0);var n=this.cache[this.position];return null==i&&(i=this.defaultFormat),(null==n||null==n.t&&null==n.realloc||n.width!=t||n.height!=e||n.format!=i||r!=(0!=(n.flags&1<<WA.Cube._hx_index)))&&(n=this.lookupTarget(A,t,e,i,r)),n.depthBuffer=s?this.defaultDepthBuffer:null,n.setName(A),this.position++,n},__class__:VA};var RA=function(){};e["hxd.impl.AnyProps"]=RA,RA.__name__="hxd.impl.AnyProps",RA.prototype={set_props:function(A){return this.props=A,this.refreshProps(),A},getDefaultProps:function(A){return{}},refreshProps:function(){},__class__:RA};var UA=function(A){null!=A&&this.addPass(new $A("default",null)).addShader(A)};e["h3d.mat.BaseMaterial"]=UA,UA.__name__="h3d.mat.BaseMaterial",UA.__interfaces__=[J],UA.__super__=RA,UA.prototype=r(RA.prototype,{addPass:function(A){for(var t=null,e=this.passes;null!=e;)t=e,e=e.nextPass;return null==t?this.passes=A:t.nextPass=A,A.nextPass=null,A},removePass:function(A){for(var t=null,e=this.passes;null!=e;){if(e==A)return null==t?this.passes=A.nextPass:t.nextPass=A.nextPass,A.nextPass=null,!0;t=e,e=e.nextPass}return!1},getPass:function(A){for(var t=this.passes;null!=t;){if(t.name==A)return t;t=t.nextPass}return null},__class__:UA});var GA=i["h3d.mat.Face"]={__ename__:!0,__constructs__:null,None:{_hx_name:"None",_hx_index:0,__enum__:"h3d.mat.Face",toString:s},Back:{_hx_name:"Back",_hx_index:1,__enum__:"h3d.mat.Face",toString:s},Front:{_hx_name:"Front",_hx_index:2,__enum__:"h3d.mat.Face",toString:s},Both:{_hx_name:"Both",_hx_index:3,__enum__:"h3d.mat.Face",toString:s}};GA.__constructs__=[GA.None,GA.Back,GA.Front,GA.Both],GA.__empty_constructs__=[GA.None,GA.Back,GA.Front,GA.Both];var zA=i["h3d.mat.Blend"]={__ename__:!0,__constructs__:null,One:{_hx_name:"One",_hx_index:0,__enum__:"h3d.mat.Blend",toString:s},Zero:{_hx_name:"Zero",_hx_index:1,__enum__:"h3d.mat.Blend",toString:s},SrcAlpha:{_hx_name:"SrcAlpha",_hx_index:2,__enum__:"h3d.mat.Blend",toString:s},SrcColor:{_hx_name:"SrcColor",_hx_index:3,__enum__:"h3d.mat.Blend",toString:s},DstAlpha:{_hx_name:"DstAlpha",_hx_index:4,__enum__:"h3d.mat.Blend",toString:s},DstColor:{_hx_name:"DstColor",_hx_index:5,__enum__:"h3d.mat.Blend",toString:s},OneMinusSrcAlpha:{_hx_name:"OneMinusSrcAlpha",_hx_index:6,__enum__:"h3d.mat.Blend",toString:s},OneMinusSrcColor:{_hx_name:"OneMinusSrcColor",_hx_index:7,__enum__:"h3d.mat.Blend",toString:s},OneMinusDstAlpha:{_hx_name:"OneMinusDstAlpha",_hx_index:8,__enum__:"h3d.mat.Blend",toString:s},OneMinusDstColor:{_hx_name:"OneMinusDstColor",_hx_index:9,__enum__:"h3d.mat.Blend",toString:s},ConstantColor:{_hx_name:"ConstantColor",_hx_index:10,__enum__:"h3d.mat.Blend",toString:s},ConstantAlpha:{_hx_name:"ConstantAlpha",_hx_index:11,__enum__:"h3d.mat.Blend",toString:s},OneMinusConstantColor:{_hx_name:"OneMinusConstantColor",_hx_index:12,__enum__:"h3d.mat.Blend",toString:s},OneMinusConstantAlpha:{_hx_name:"OneMinusConstantAlpha",_hx_index:13,__enum__:"h3d.mat.Blend",toString:s},SrcAlphaSaturate:{_hx_name:"SrcAlphaSaturate",_hx_index:14,__enum__:"h3d.mat.Blend",toString:s}};zA.__constructs__=[zA.One,zA.Zero,zA.SrcAlpha,zA.SrcColor,zA.DstAlpha,zA.DstColor,zA.OneMinusSrcAlpha,zA.OneMinusSrcColor,zA.OneMinusDstAlpha,zA.OneMinusDstColor,zA.ConstantColor,zA.ConstantAlpha,zA.OneMinusConstantColor,zA.OneMinusConstantAlpha,zA.SrcAlphaSaturate],zA.__empty_constructs__=[zA.One,zA.Zero,zA.SrcAlpha,zA.SrcColor,zA.DstAlpha,zA.DstColor,zA.OneMinusSrcAlpha,zA.OneMinusSrcColor,zA.OneMinusDstAlpha,zA.OneMinusDstColor,zA.ConstantColor,zA.ConstantAlpha,zA.OneMinusConstantColor,zA.OneMinusConstantAlpha,zA.SrcAlphaSaturate];var PA=i["h3d.mat.Compare"]={__ename__:!0,__constructs__:null,Always:{_hx_name:"Always",_hx_index:0,__enum__:"h3d.mat.Compare",toString:s},Never:{_hx_name:"Never",_hx_index:1,__enum__:"h3d.mat.Compare",toString:s},Equal:{_hx_name:"Equal",_hx_index:2,__enum__:"h3d.mat.Compare",toString:s},NotEqual:{_hx_name:"NotEqual",_hx_index:3,__enum__:"h3d.mat.Compare",toString:s},Greater:{_hx_name:"Greater",_hx_index:4,__enum__:"h3d.mat.Compare",toString:s},GreaterEqual:{_hx_name:"GreaterEqual",_hx_index:5,__enum__:"h3d.mat.Compare",toString:s},Less:{_hx_name:"Less",_hx_index:6,__enum__:"h3d.mat.Compare",toString:s},LessEqual:{_hx_name:"LessEqual",_hx_index:7,__enum__:"h3d.mat.Compare",toString:s}};PA.__constructs__=[PA.Always,PA.Never,PA.Equal,PA.NotEqual,PA.Greater,PA.GreaterEqual,PA.Less,PA.LessEqual],PA.__empty_constructs__=[PA.Always,PA.Never,PA.Equal,PA.NotEqual,PA.Greater,PA.GreaterEqual,PA.Less,PA.LessEqual];var OA=i["h3d.mat.StencilOp"]={__ename__:!0,__constructs__:null,Keep:{_hx_name:"Keep",_hx_index:0,__enum__:"h3d.mat.StencilOp",toString:s},Zero:{_hx_name:"Zero",_hx_index:1,__enum__:"h3d.mat.StencilOp",toString:s},Replace:{_hx_name:"Replace",_hx_index:2,__enum__:"h3d.mat.StencilOp",toString:s},Increment:{_hx_name:"Increment",_hx_index:3,__enum__:"h3d.mat.StencilOp",toString:s},IncrementWrap:{_hx_name:"IncrementWrap",_hx_index:4,__enum__:"h3d.mat.StencilOp",toString:s},Decrement:{_hx_name:"Decrement",_hx_index:5,__enum__:"h3d.mat.StencilOp",toString:s},DecrementWrap:{_hx_name:"DecrementWrap",_hx_index:6,__enum__:"h3d.mat.StencilOp",toString:s},Invert:{_hx_name:"Invert",_hx_index:7,__enum__:"h3d.mat.StencilOp",toString:s}};OA.__constructs__=[OA.Keep,OA.Zero,OA.Replace,OA.Increment,OA.IncrementWrap,OA.Decrement,OA.DecrementWrap,OA.Invert],OA.__empty_constructs__=[OA.Keep,OA.Zero,OA.Replace,OA.Increment,OA.IncrementWrap,OA.Decrement,OA.DecrementWrap,OA.Invert];var LA=i["h3d.mat.MipMap"]={__ename__:!0,__constructs__:null,None:{_hx_name:"None",_hx_index:0,__enum__:"h3d.mat.MipMap",toString:s},Nearest:{_hx_name:"Nearest",_hx_index:1,__enum__:"h3d.mat.MipMap",toString:s},Linear:{_hx_name:"Linear",_hx_index:2,__enum__:"h3d.mat.MipMap",toString:s}};LA.__constructs__=[LA.None,LA.Nearest,LA.Linear],LA.__empty_constructs__=[LA.None,LA.Nearest,LA.Linear];var NA=i["h3d.mat.Filter"]={__ename__:!0,__constructs__:null,Nearest:{_hx_name:"Nearest",_hx_index:0,__enum__:"h3d.mat.Filter",toString:s},Linear:{_hx_name:"Linear",_hx_index:1,__enum__:"h3d.mat.Filter",toString:s}};NA.__constructs__=[NA.Nearest,NA.Linear],NA.__empty_constructs__=[NA.Nearest,NA.Linear];var YA=i["h3d.mat.Wrap"]={__ename__:!0,__constructs__:null,Clamp:{_hx_name:"Clamp",_hx_index:0,__enum__:"h3d.mat.Wrap",toString:s},Repeat:{_hx_name:"Repeat",_hx_index:1,__enum__:"h3d.mat.Wrap",toString:s}};YA.__constructs__=[YA.Clamp,YA.Repeat],YA.__empty_constructs__=[YA.Clamp,YA.Repeat];var XA=i["h3d.mat.Operation"]={__ename__:!0,__constructs__:null,Add:{_hx_name:"Add",_hx_index:0,__enum__:"h3d.mat.Operation",toString:s},Sub:{_hx_name:"Sub",_hx_index:1,__enum__:"h3d.mat.Operation",toString:s},ReverseSub:{_hx_name:"ReverseSub",_hx_index:2,__enum__:"h3d.mat.Operation",toString:s},Min:{_hx_name:"Min",_hx_index:3,__enum__:"h3d.mat.Operation",toString:s},Max:{_hx_name:"Max",_hx_index:4,__enum__:"h3d.mat.Operation",toString:s}};XA.__constructs__=[XA.Add,XA.Sub,XA.ReverseSub,XA.Min,XA.Max],XA.__empty_constructs__=[XA.Add,XA.Sub,XA.ReverseSub,XA.Min,XA.Max];var WA=i["h3d.mat.TextureFlags"]={__ename__:!0,__constructs__:null,Target:{_hx_name:"Target",_hx_index:0,__enum__:"h3d.mat.TextureFlags",toString:s},Cube:{_hx_name:"Cube",_hx_index:1,__enum__:"h3d.mat.TextureFlags",toString:s},MipMapped:{_hx_name:"MipMapped",_hx_index:2,__enum__:"h3d.mat.TextureFlags",toString:s},ManualMipMapGen:{_hx_name:"ManualMipMapGen",_hx_index:3,__enum__:"h3d.mat.TextureFlags",toString:s},IsNPOT:{_hx_name:"IsNPOT",_hx_index:4,__enum__:"h3d.mat.TextureFlags",toString:s},NoAlloc:{_hx_name:"NoAlloc",_hx_index:5,__enum__:"h3d.mat.TextureFlags",toString:s},Dynamic:{_hx_name:"Dynamic",_hx_index:6,__enum__:"h3d.mat.TextureFlags",toString:s},AlphaPremultiplied:{_hx_name:"AlphaPremultiplied",_hx_index:7,__enum__:"h3d.mat.TextureFlags",toString:s},WasCleared:{_hx_name:"WasCleared",_hx_index:8,__enum__:"h3d.mat.TextureFlags",toString:s},Loading:{_hx_name:"Loading",_hx_index:9,__enum__:"h3d.mat.TextureFlags",toString:s},Serialize:{_hx_name:"Serialize",_hx_index:10,__enum__:"h3d.mat.TextureFlags",toString:s},IsArray:{_hx_name:"IsArray",_hx_index:11,__enum__:"h3d.mat.TextureFlags",toString:s}};WA.__constructs__=[WA.Target,WA.Cube,WA.MipMapped,WA.ManualMipMapGen,WA.IsNPOT,WA.NoAlloc,WA.Dynamic,WA.AlphaPremultiplied,WA.WasCleared,WA.Loading,WA.Serialize,WA.IsArray],WA.__empty_constructs__=[WA.Target,WA.Cube,WA.MipMapped,WA.ManualMipMapGen,WA.IsNPOT,WA.NoAlloc,WA.Dynamic,WA.AlphaPremultiplied,WA.WasCleared,WA.Loading,WA.Serialize,WA.IsArray];var ZA=function(){};e["h3d.mat.Defaults"]=ZA,ZA.__name__="h3d.mat.Defaults",ZA.get_shadowShader=function(){var A=ZA.shadowShader;return null==A&&(A=new se,ZA.set_shadowShader(A),ZA.shadowShader.setPriority(-1)),A},ZA.set_shadowShader=function(A){return ZA.shadowShader=A};var HA=i["h3d.mat.DepthFormat"]={__ename__:!0,__constructs__:null,Depth16:{_hx_name:"Depth16",_hx_index:0,__enum__:"h3d.mat.DepthFormat",toString:s},Depth24:{_hx_name:"Depth24",_hx_index:1,__enum__:"h3d.mat.DepthFormat",toString:s},Depth24Stencil8:{_hx_name:"Depth24Stencil8",_hx_index:2,__enum__:"h3d.mat.DepthFormat",toString:s}};HA.__constructs__=[HA.Depth16,HA.Depth24,HA.Depth24Stencil8],HA.__empty_constructs__=[HA.Depth16,HA.Depth24,HA.Depth24Stencil8];var KA=function(A,t,e){this.width=A,this.height=t,this.format=e,A>0&&this.alloc()};e["h3d.mat.DepthBuffer"]=KA,KA.__name__="h3d.mat.DepthBuffer",KA.getDefault=function(){return oA.CURRENT.driver.getDefaultDepthBuffer()},KA.prototype={hasStencil:function(){switch(this.format._hx_index){case 0:case 1:return!1;case 2:return!0}},alloc:function(){oA.CURRENT.mem.allocDepth(this)},dispose:function(){null!=this.b&&(oA.CURRENT.mem.deleteDepth(this),this.b=null)},isDisposed:function(){return null==this.b},__class__:KA};var JA=function(A){this.mshader=new Yt,this.set_blendMode(U.None),UA.call(this,this.mshader),this.set_texture(A)};e["h3d.mat.Material"]=JA,JA.__name__="h3d.mat.Material",JA.__super__=UA,JA.prototype=r(UA.prototype,{set_castShadows:function(A){return this.castShadows==A?A:(null!=this.passes&&(A?this.addPass(new $A("shadow",null,this.passes)).set_isStatic(this.staticShadows):this.removePass(this.getPass("shadow"))),this.castShadows=A)},set_receiveShadows:function(A){if(A==this.receiveShadows)return A;if(null!=this.passes){var t=ZA.get_shadowShader();A?this.passes.addShader(t):this.passes.removeShader(t)}return this.receiveShadows=A},set_blendMode:function(A){if(null!=this.passes)switch(this.passes.setBlendMode(A),A._hx_index){case 0:this.passes.set_depthWrite(!0),this.passes.setPassName("default");break;case 1:this.passes.set_depthWrite(!0),this.passes.setPassName("alpha");break;case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:this.passes.set_depthWrite(!1),this.passes.setPassName("additive")}return this.blendMode=A},set_texture:function(A){return null==A?null!=this.textureShader&&(this.passes.removeShader(this.textureShader),this.textureShader=null):(null==this.textureShader&&(this.textureShader=new he,this.passes.addShader(this.textureShader)),this.textureShader.texture__=A),A},getDefaultProps:function(A){var t;if(null==A)t={kind:"Opaque",shadows:!0,culling:!0,light:!0};else switch(A){case"particles3D":case"trail3D":t={kind:"Alpha",shadows:!1,culling:!1,light:!0};break;case"ui":t={kind:"Alpha",shadows:!1,culling:!1,light:!1};break;default:t={kind:"Opaque",shadows:!0,culling:!0,light:!0}}return t},refreshProps:function(){if(null!=this.props&&null!=this.passes){var A=this.props;switch(A.kind){case"Add":this.set_blendMode(U.Add);break;case"Alpha":this.set_blendMode(U.Alpha);break;case"AlphaKill":case"Hidden":case"Opaque":this.set_blendMode(U.None);break;case"SoftAdd":this.set_blendMode(U.SoftAdd)}var t=this.textureShader;null!=t&&(t.constModified=!0,t.killAlpha__="AlphaKill"==A.kind,t.killAlphaThreshold__=.5),this.passes.set_culling("Hidden"==A.kind?GA.Both:A.culling?GA.Back:GA.None),this.passes.set_enableLights(A.light);var e=A.shadows;this.set_castShadows(e),this.set_receiveShadows(e),this.castShadows&&this.receiveShadows&&this.getPass("shadow").set_culling(this.passes.culling)}},__class__:JA});var jA=function(){};e["h3d.mat.MaterialDatabase"]=jA,jA.__name__="h3d.mat.MaterialDatabase",jA.prototype={__class__:jA};var qA=function(A){null==this.database&&(this.database=new jA),this.name=A};e["h3d.mat.MaterialSetup"]=qA,qA.__name__="h3d.mat.MaterialSetup",qA.prototype={createRenderer:function(){return new Ot},createLightSystem:function(){return new Gt},createMaterial:function(){return new JA},__class__:qA};var $A=function(A,t,e){this.layer=0,this.bits=0,this.parentPass=e,this.shaders=t,this.setPassName(A),this.set_culling(GA.Back);var s=zA.One,i=zA.Zero;this.set_blendSrc(s),this.set_blendAlphaSrc(s),this.set_blendDst(i),this.set_blendAlphaDst(i),this.depth(!0,PA.Less),this.set_blendOp(this.set_blendAlphaOp(XA.Add)),this.colorMask=15};e["h3d.mat.Pass"]=$A,$A.__name__="h3d.mat.Pass",$A.__interfaces__=[J],$A.prototype={setPassName:function(A){this.name=A,this.passId=oi.allocID(A)},setBlendMode:function(A){switch(A._hx_index){case 0:var t=zA.One,e=zA.Zero;this.set_blendSrc(t),this.set_blendAlphaSrc(t),this.set_blendDst(e),this.set_blendAlphaDst(e),this.set_blendOp(XA.Add),this.set_blendAlphaOp(XA.Add);break;case 1:t=zA.SrcAlpha,e=zA.OneMinusSrcAlpha;this.set_blendSrc(t),this.set_blendAlphaSrc(t),this.set_blendDst(e),this.set_blendAlphaDst(e),this.set_blendOp(XA.Add),this.set_blendAlphaOp(XA.Add);break;case 2:t=zA.SrcAlpha,e=zA.One;this.set_blendSrc(t),this.set_blendAlphaSrc(t),this.set_blendDst(e),this.set_blendAlphaDst(e),this.set_blendOp(XA.Add),this.set_blendAlphaOp(XA.Add);break;case 3:t=zA.One,e=zA.OneMinusSrcAlpha;this.set_blendSrc(t),this.set_blendAlphaSrc(t),this.set_blendDst(e),this.set_blendAlphaDst(e),this.set_blendOp(XA.Add),this.set_blendAlphaOp(XA.Add);break;case 4:t=zA.OneMinusDstColor,e=zA.One;this.set_blendSrc(t),this.set_blendAlphaSrc(t),this.set_blendDst(e),this.set_blendAlphaDst(e),this.set_blendOp(XA.Add),this.set_blendAlphaOp(XA.Add);break;case 5:t=zA.DstColor,e=zA.Zero;this.set_blendSrc(t),this.set_blendAlphaSrc(t),this.set_blendDst(e),this.set_blendAlphaDst(e),this.set_blendOp(XA.Add),this.set_blendAlphaOp(XA.Add);break;case 6:t=zA.DstColor,e=zA.OneMinusSrcAlpha;this.set_blendSrc(t),this.set_blendAlphaSrc(t),this.set_blendDst(e),this.set_blendAlphaDst(e),this.set_blendOp(XA.Add),this.set_blendAlphaOp(XA.Add);break;case 7:t=zA.Zero,e=zA.OneMinusSrcColor;this.set_blendSrc(t),this.set_blendAlphaSrc(t),this.set_blendDst(e),this.set_blendAlphaDst(e),this.set_blendOp(XA.Add),this.set_blendAlphaOp(XA.Add);break;case 8:t=zA.One,e=zA.OneMinusSrcColor;this.set_blendSrc(t),this.set_blendAlphaSrc(t),this.set_blendDst(e),this.set_blendAlphaDst(e),this.set_blendOp(XA.Add),this.set_blendAlphaOp(XA.Add);break;case 9:t=zA.SrcAlpha,e=zA.One;this.set_blendSrc(t),this.set_blendAlphaSrc(t),this.set_blendDst(e),this.set_blendAlphaDst(e),this.set_blendOp(XA.ReverseSub),this.set_blendAlphaOp(XA.ReverseSub);break;case 10:this.set_blendSrc(zA.Zero),this.set_blendAlphaSrc(zA.Zero),this.set_blendDst(zA.Zero),this.set_blendAlphaDst(zA.Zero),this.set_blendAlphaSrc(zA.Zero),this.set_blendAlphaDst(zA.Zero),this.set_blendAlphaOp(XA.Max),this.set_blendOp(XA.Max);break;case 11:this.set_blendSrc(zA.Zero),this.set_blendAlphaSrc(zA.Zero),this.set_blendDst(zA.Zero),this.set_blendAlphaDst(zA.Zero),this.set_blendAlphaSrc(zA.Zero),this.set_blendAlphaDst(zA.Zero),this.set_blendAlphaOp(XA.Min),this.set_blendOp(XA.Min)}},depth:function(A,t){this.set_depthWrite(A),this.set_depthTest(t)},addShader:function(A){return null==A?null:(this.shaders=Bi.addSort(A,this.shaders),A)},removeShader:function(A){for(var t=this.shaders,e=null;null!=t;){if(t.s==A)return null==e?this.shaders=t.next:e.next=t.next,!0;e=t,t=t.next}return!1},getShadersRec:function(){if(null==this.parentPass||this.parentShaders==this.parentPass.shaders)return this.shaders;for(var A=this.shaders,t=null;null!=A&&A!=this.parentShaders;)t=A,A=A.next;return this.parentShaders=this.parentPass.shaders,null==t?this.shaders=this.parentShaders:t.next=this.parentShaders,this.shaders},set_enableLights:function(A){return this.flags=-2&this.flags|(A?1:0),this.enableLights=A},set_isStatic:function(A){return this.flags=-5&this.flags|(A?1:0)<<2,this.isStatic=A},set_culling:function(A){return this.bits=-4&this.bits|A._hx_index,this.culling=A},set_depthWrite:function(A){return this.bits=-5&this.bits|(A?1:0)<<2,this.depthWrite=A},set_depthTest:function(A){return this.bits=-57&this.bits|A._hx_index<<3,this.depthTest=A},set_blendSrc:function(A){return this.bits=-961&this.bits|A._hx_index<<6,this.blendSrc=A},set_blendDst:function(A){return this.bits=-15361&this.bits|A._hx_index<<10,this.blendDst=A},set_blendAlphaSrc:function(A){return this.bits=-245761&this.bits|A._hx_index<<14,this.blendAlphaSrc=A},set_blendAlphaDst:function(A){return this.bits=-3932161&this.bits|A._hx_index<<18,this.blendAlphaDst=A},set_blendOp:function(A){return this.bits=-29360129&this.bits|A._hx_index<<22,this.blendOp=A},set_blendAlphaOp:function(A){return this.bits=-234881025&this.bits|A._hx_index<<25,this.blendAlphaOp=A},__class__:$A};var At=function(){this.opBits=0,this.maskBits=0,this.setOp(OA.Keep,OA.Keep,OA.Keep),this.setFunc(PA.Always)};e["h3d.mat.Stencil"]=At,At.__name__="h3d.mat.Stencil",At.__interfaces__=[J],At.prototype={setFront:function(A,t,e){this.set_frontSTfail(A),this.set_frontDPfail(t),this.set_frontPass(e)},setBack:function(A,t,e){this.set_backSTfail(A),this.set_backDPfail(t),this.set_backPass(e)},setOp:function(A,t,e){this.setFront(A,t,e),this.setBack(A,t,e)},setFunc:function(A,t,e,s){null==s&&(s=255),null==e&&(e=255),null==t&&(t=0),this.set_frontTest(this.set_backTest(A)),this.set_reference(t),this.set_readMask(e),this.set_writeMask(s)},set_readMask:function(A){return this.maskBits=-256&this.maskBits|255&A,this.readMask=A},set_writeMask:function(A){return this.maskBits=-65281&this.maskBits|(255&A)<<8,this.writeMask=A},set_reference:function(A){return this.maskBits=-16711681&this.maskBits|(255&A)<<16,this.reference=A},set_frontTest:function(A){return this.opBits=-8&this.opBits|A._hx_index,this.frontTest=A},set_frontPass:function(A){return this.opBits=-57&this.opBits|A._hx_index<<3,this.frontPass=A},set_frontSTfail:function(A){return this.opBits=-449&this.opBits|A._hx_index<<6,this.frontSTfail=A},set_frontDPfail:function(A){return this.opBits=-3585&this.opBits|A._hx_index<<9,this.frontDPfail=A},set_backTest:function(A){return this.opBits=-28673&this.opBits|A._hx_index<<12,this.backTest=A},set_backPass:function(A){return this.opBits=-229377&this.opBits|A._hx_index<<15,this.backPass=A},set_backSTfail:function(A){return this.opBits=-1835009&this.opBits|A._hx_index<<18,this.backSTfail=A},set_backDPfail:function(A){return this.opBits=-14680065&this.opBits|A._hx_index<<21,this.backDPfail=A},__class__:At};var tt=i["hxd.PixelFormat"]={__ename__:!0,__constructs__:null,ARGB:{_hx_name:"ARGB",_hx_index:0,__enum__:"hxd.PixelFormat",toString:s},BGRA:{_hx_name:"BGRA",_hx_index:1,__enum__:"hxd.PixelFormat",toString:s},RGBA:{_hx_name:"RGBA",_hx_index:2,__enum__:"hxd.PixelFormat",toString:s},RGBA16F:{_hx_name:"RGBA16F",_hx_index:3,__enum__:"hxd.PixelFormat",toString:s},RGBA32F:{_hx_name:"RGBA32F",_hx_index:4,__enum__:"hxd.PixelFormat",toString:s},R8:{_hx_name:"R8",_hx_index:5,__enum__:"hxd.PixelFormat",toString:s},R16F:{_hx_name:"R16F",_hx_index:6,__enum__:"hxd.PixelFormat",toString:s},R32F:{_hx_name:"R32F",_hx_index:7,__enum__:"hxd.PixelFormat",toString:s},RG8:{_hx_name:"RG8",_hx_index:8,__enum__:"hxd.PixelFormat",toString:s},RG16F:{_hx_name:"RG16F",_hx_index:9,__enum__:"hxd.PixelFormat",toString:s},RG32F:{_hx_name:"RG32F",_hx_index:10,__enum__:"hxd.PixelFormat",toString:s},RGB8:{_hx_name:"RGB8",_hx_index:11,__enum__:"hxd.PixelFormat",toString:s},RGB16F:{_hx_name:"RGB16F",_hx_index:12,__enum__:"hxd.PixelFormat",toString:s},RGB32F:{_hx_name:"RGB32F",_hx_index:13,__enum__:"hxd.PixelFormat",toString:s},SRGB:{_hx_name:"SRGB",_hx_index:14,__enum__:"hxd.PixelFormat",toString:s},SRGB_ALPHA:{_hx_name:"SRGB_ALPHA",_hx_index:15,__enum__:"hxd.PixelFormat",toString:s},RGB10A2:{_hx_name:"RGB10A2",_hx_index:16,__enum__:"hxd.PixelFormat",toString:s},RG11B10UF:{_hx_name:"RG11B10UF",_hx_index:17,__enum__:"hxd.PixelFormat",toString:s},R16U:{_hx_name:"R16U",_hx_index:18,__enum__:"hxd.PixelFormat",toString:s},RGB16U:{_hx_name:"RGB16U",_hx_index:19,__enum__:"hxd.PixelFormat",toString:s},RGBA16U:{_hx_name:"RGBA16U",_hx_index:20,__enum__:"hxd.PixelFormat",toString:s},S3TC:(t=function(A){return{_hx_index:21,v:A,__enum__:"hxd.PixelFormat",toString:s}},t._hx_name="S3TC",t.__params__=["v"],t)};tt.__constructs__=[tt.ARGB,tt.BGRA,tt.RGBA,tt.RGBA16F,tt.RGBA32F,tt.R8,tt.R16F,tt.R32F,tt.RG8,tt.RG16F,tt.RG32F,tt.RGB8,tt.RGB16F,tt.RGB32F,tt.SRGB,tt.SRGB_ALPHA,tt.RGB10A2,tt.RG11B10UF,tt.R16U,tt.RGB16U,tt.RGBA16U,tt.S3TC],tt.__empty_constructs__=[tt.ARGB,tt.BGRA,tt.RGBA,tt.RGBA16F,tt.RGBA32F,tt.R8,tt.R16F,tt.R32F,tt.RG8,tt.RG16F,tt.RG32F,tt.RGB8,tt.RGB16F,tt.RGB32F,tt.SRGB,tt.SRGB_ALPHA,tt.RGB10A2,tt.RG11B10UF,tt.R16U,tt.RGB16U,tt.RGBA16U];var et=function(A,t,e,s){this.lodBias=0;var i=oA.CURRENT;this.mem=i.mem,null==s&&(s=et.nativeFormat),this.id=++et.UID,this.format=s;if(this.flags=0,null!=e)for(var r=0;r<e.length;){var n=e[r];++r,this.flags|=1<<n._hx_index}for(var a=1,h=1;a<A;)a<<=1;for(;h<t;)h<<=1;a==A&&h==t||(this.flags|=1<<WA.IsNPOT._hx_index),0!=(this.flags&1<<WA.Target._hx_index)&&(this.realloc=function(){}),this.width=A,this.height=t,this.set_mipMap(0!=(this.flags&1<<WA.MipMapped._hx_index)?LA.Nearest:LA.None),this.set_filter(NA.Linear),this.set_wrap(YA.Clamp),this.bits&=32767,0==(this.flags&1<<WA.NoAlloc._hx_index)&&this.alloc()};e["h3d.mat.Texture"]=et,et.__name__="h3d.mat.Texture",et.fromColor=function(A,t){null==t&&(t=1);var e=oA.CURRENT,s=255*t|0;s<0?s=0:s>255&&(s=255);var i,r=16777215&A|s<<24;return null!=(i=e.textureColorCache.h[r])||((i=new et(1,1,null)).clear(A,t),i.realloc=function(){i.clear(A,t)},e.textureColorCache.h[r]=i),i},et.defaultCubeTexture=function(){var A=oA.CURRENT,t=A.resCache.h[et.__id__];return null!=t||((t=new et(1,1,[WA.Cube])).clear(2105376),t.realloc=function(){t.clear(2105376)},A.resCache.set(et,t)),t},et.prototype={set_lastFrame:function(A){return this._lastFrame!=et.PREVENT_AUTO_DISPOSE&&(this._lastFrame=A),this._lastFrame},get_lastFrame:function(){return this._lastFrame},get_mipLevels:function(){if(0==(this.flags&1<<WA.MipMapped._hx_index))return 1;for(var A=1,t=this.width,e=this.height;t>>A>=1||e>>A>=1;)++A;return A},get_layerCount:function(){return 0!=(this.flags&1<<WA.Cube._hx_index)?6:1},alloc:function(){null==this.t&&this.mem.allocTexture(this)},toString:function(){var A=this.name;return null==this.name&&(A="Texture_"+this.id),A+"("+this.width+"x"+this.height+")"},setName:function(A){this.name=A},set_mipMap:function(A){return this.bits=-4&this.bits|A._hx_index,this.mipMap=A},set_filter:function(A){return this.bits=-25&this.bits|A._hx_index<<3,this.filter=A},set_wrap:function(A){return this.bits=-193&this.bits|A._hx_index<<6,this.wrap=A},resize:function(A,t){this.dispose();for(var e=1,s=1;e<A;)e<<=1;for(;s<t;)s<<=1;e!=A||s!=t?this.flags|=1<<WA.IsNPOT._hx_index:this.flags&=-1-(1<<WA.IsNPOT._hx_index),this.width=A,this.height=t,0==(this.flags&1<<WA.NoAlloc._hx_index)&&this.alloc()},clear:function(A,t,e){if(null==e&&(e=-1),null==t&&(t=1),this.alloc(),0!=this.width&&0!=this.height)if(1!=this.width||1!=this.height){var s=oA.CURRENT;if(A|=(255*(t<0?0:t>1?1:t)|0)<<24,e<0)for(var i=0,r=this.get_layerCount();i<r;){var n=i++;s.pushTarget(this,n),s.clear(A),s.popTarget()}else s.pushTarget(this,e),s.clear(A),s.popTarget()}else{var a=_s.alloc(this.width,this.height,et.nativeFormat),h=0,l=255&A,o=A>>8&255,u=A>>16&255,_=255*t|0;switch(_<0?_=0:_>255&&(_=255),et.nativeFormat._hx_index){case 1:var c=u;u=l,l=c;break;case 2:break;default:throw de.thrown("TODO")}for(i=0,r=this.width*this.height;i<r;){n=i++;a.bytes.b[h++]=u,a.bytes.b[h++]=o,a.bytes.b[h++]=l,a.bytes.b[h++]=_}if(e<0)for(i=0,r=this.get_layerCount();i<r;){n=i++;this.uploadPixels(a,0,n)}else this.uploadPixels(a,0,e);a.dispose()}},checkSize:function(A,t,e){var s=this.width>>e;0==s&&(s=1);var i=this.height>>e;if(0==i&&(i=1),A!=s||t!=i)throw de.thrown("Invalid upload size : "+A+"x"+t+" should be "+s+"x"+i)},checkMipMapGen:function(A,t){0==A&&0!=(this.flags&1<<WA.MipMapped._hx_index)&&0==(this.flags&1<<WA.ManualMipMapGen._hx_index)&&t==this.get_layerCount()-1&&this.mem.driver.generateMipMaps(this)},uploadBitmap:function(A,t,e){null==e&&(e=0),null==t&&(t=0),this.alloc(),this.checkSize(A.ctx.canvas.width,A.ctx.canvas.height,t),this.mem.driver.uploadTextureBitmap(this,A,t,e),this.flags|=1<<WA.WasCleared._hx_index,this.checkMipMapGen(t,e)},uploadPixels:function(A,t,e){null==e&&(e=0),null==t&&(t=0),this.alloc(),this.checkSize(A.width,A.height,t),this.mem.driver.uploadTexturePixels(this,A,t,e),this.flags|=1<<WA.WasCleared._hx_index,this.checkMipMapGen(t,e)},dispose:function(){null!=this.t&&this.mem.deleteTexture(this)},__class__:et};var st=function(A,t,e,s,i){this.layers=e,null==s&&(s=[]),s.push(WA.IsArray),et.call(this,A,t,s,i)};e["h3d.mat.TextureArray"]=st,st.__name__="h3d.mat.TextureArray",st.__super__=et,st.prototype=r(et.prototype,{get_layerCount:function(){return this.layers},toString:function(){return et.prototype.toString.call(this)+"["+this.layers+"]"},__class__:st});var it=function(A){this.name=A};e["h3d.pass.Base"]=it,it.__name__="h3d.pass.Base",it.prototype={setContext:function(A){this.ctx=A},draw:function(A,t){},__class__:it};var rt=function(A,t){this.shader=A,this.shaders=new Bi(A),this.manager=new wt(t),this.pass=new $A("screenfx",new Bi(A)),this.pass.set_culling(GA.None),this.pass.depth(!1,PA.Always)};e["h3d.pass.ScreenFx"]=rt,rt.__name__="h3d.pass.ScreenFx",rt.prototype={get_engine:function(){return null==this._engine&&(this._engine=oA.CURRENT),this._engine},render:function(){null==this.primitive&&(this.primitive=kt.get()),this.shader.flipY__=this.get_engine().driver.hasFeature(BA.BottomLeftCoords)&&null!=this.get_engine().getCurrentTarget()?-1:1;var A=this.manager.compileShaders(this.shaders);if(this.get_engine().selectMaterial(this.pass),this.get_engine().selectShader(A),null==this.buffers)this.buffers=new Zt(A);else{var t=this.buffers;t.vertex.grow(A.vertex),t.fragment.grow(A.fragment)}this.manager.fillGlobals(this.buffers,A),this.manager.fillParams(this.buffers,A,this.shaders),this.get_engine().uploadShaderBuffers(this.buffers,0),this.get_engine().uploadShaderBuffers(this.buffers,1),this.get_engine().uploadShaderBuffers(this.buffers,2),this.primitive.render(this.get_engine())},dispose:function(){},__class__:rt};var nt=function(A,t,e,s){null==s&&(s=1),null==e&&(e=0),null==t&&(t=1),null==A&&(A=1),this.cubeDir=[_A.L([0,0,-1,0,0,-1,0,0,1,0,0,0]),_A.L([0,0,1,0,0,-1,0,0,-1,0,0,0]),_A.L([1,0,0,0,0,0,1,0,0,1,0,0]),_A.L([1,0,0,0,0,0,-1,0,0,-1,0,0]),_A.L([1,0,0,0,0,-1,0,0,0,1,0,0]),_A.L([-1,0,0,0,0,-1,0,0,0,0,-1,0])],rt.call(this,new Xt),this.set_radius(A),this.set_quality(s),this.set_gain(t),this.set_linear(e)};e["h3d.pass.Blur"]=nt,nt.__name__="h3d.pass.Blur",nt.__super__=rt,nt.prototype=r(rt.prototype,{set_radius:function(A){return this.radius==A?A:(this.values=null,this.radius=A)},set_quality:function(A){return this.quality==A?A:(this.values=null,this.quality=A)},set_gain:function(A){return this.gain==A?A:(this.values=null,this.gain=A)},set_linear:function(A){return this.linear==A?A:(this.values=null,this.linear=A)},gauss:function(A,t){if(t<=0)return 0==A?1:0;var e=t*t;return Math.pow(2.718281828459,-A*A/(2*e))/Math.sqrt(2*Math.PI*e)},calcValues:function(){this.values=[],this.offsets=[];var A,t=0,e=this.quality,s=.7*(e<0?0:e>1?1:e)+.3;if(this.radius>0){var i=this.radius-1;A=Math.ceil((i<1?1:i)*s/2)}else A=0;for(var r=Math.sqrt(this.radius),n=0,a=A+1;n<a;){var h=2*(p=n++),l=0==p?0:2*p-1,o=this.gauss(h,r),u=this.gauss(l,r),_=o+u;this.values[p]=_,this.offsets[p]=0==p?0:(o*h+u*l)/(_*p*Math.sqrt(s)),t+=_,p>0&&(t+=_)}for(var c=this.values[0]*(.01/s);this.values.length>2;){var d=this.values[this.values.length-1];if(d>c)break;t-=2*d,this.values.pop()}t/=this.gain;for(n=0,a=this.values.length;n<a;){var p=n++;this.values[p]/=t}if(this.linear>0){var f=this.gain/(2*this.values.length-1);for(n=0,a=this.values.length;n<a;){p=n++,i=this.values[p];this.values[p]=i+this.linear*(f-i);var x=this.offsets[p];this.offsets[p]=x+this.linear*((0==p?0:(2*p-.5)/(p*s))-x)}}},apply:function(A,t,e){if(this.radius<=0&&null==this.shader.fixedColor__)null!=e&&ct.run(t,e);else{null==e&&(e=t),null==this.values&&this.calcValues();var s=0!=(t.flags&1<<WA.Cube._hx_index),i=s?6:1,r=A.textures.allocTarget(t.name+"BlurTmp",t.width,t.height,!1,t.format,s);if((n=this.shader).constModified=!0,n.Quality__=this.values.length,this.shader.values__=this.values,this.shader.offsets__=this.offsets,s)this.shader.cubeTexture__=t,(n=this.shader).constModified=!0,n.isCube__=!0;else this.shader.texture__=t,(n=this.shader).constModified=!0,n.isCube__=!1;var n=this.shader.pixel__;null==(o=0)&&(o=0),null==(u=1/t.width)&&(u=0),n.x=u,n.y=o,n.z=0,n.w=1;for(var a=0,h=i;a<h;){var l=a++;this.get_engine().pushTarget(r,l),s&&(this.shader.cubeDir__=this.cubeDir[l]),this.render(),this.get_engine().popTarget()}s?this.shader.cubeTexture__=r:this.shader.texture__=r;n=this.shader.pixel__;var o,u=0;null==(o=1/t.height)&&(o=0),null==u&&(u=0),n.x=u,n.y=o,n.z=0,n.w=1;var _=e.depthBuffer;e.depthBuffer=null;for(a=0,h=i;a<h;){l=a++;this.get_engine().pushTarget(e,l),s&&(this.shader.cubeDir__=this.cubeDir[l]),this.render(),this.get_engine().popTarget()}e.depthBuffer=_}},__class__:nt});var at=function(){this.priority=0,this.initialize()};e["hxsl.Shader"]=at,at.__name__="hxsl.Shader",at.prototype={initialize:function(){if(this.constModified=!0,null==this.shader){var A=ui.getClass(this);if(this.shader=A._SHADER,null==this.shader){for(var t=A;null!=t&&null==t.SRC;)t=t.__super__;if(null==t)throw de.thrown(A.__name__+" has no shader source");this.shader=t._SHADER,null==this.shader&&(this.shader=new Si(t.SRC),t._SHADER=this.shader)}}},setPriority:function(A){this.priority=A},getParamValue:function(A){throw de.thrown("assert")},getParamFloatValue:function(A){throw de.thrown("assert")},updateConstants:function(A){throw de.thrown("assert")},updateConstantsFinal:function(A){for(var t=this.shader.consts;null!=t;)if(0!=t.globalId){var e=A.map.h[t.globalId],s=t.v.type;switch(s._hx_index){case 1:var i=e;if(i>>>t.bits!=0)throw de.thrown("Constant "+t.v.name+" is outside range ("+i+" > "+((1<<t.bits)-1)+")");this.constBits|=i<<t.pos;break;case 2:e&&(this.constBits|=1<<t.pos);break;case 17:var r=s.size;if(null==e){t=t.next;continue}var n=e,a=n.channel;if(null==n.texture)a=ei.Unknown;else if(null==a||a==ei.Unknown)switch(r){case 1:if(n.texture.format!=et.nativeFormat)throw de.thrown("Constant "+t.v.name+" does not define channel select value");a=ei.PackedFloat;break;case 3:if(n.texture.format!=et.nativeFormat)throw de.thrown("Constant "+t.v.name+" does not define channel select value");a=ei.PackedNormal;break;default:throw de.thrown("Constant "+t.v.name+" does not define channel select value")}this.constBits|=(A.allocChannelID(n.texture)<<3|a._hx_index)<<t.pos;break;default:throw de.thrown("assert")}t=t.next}else t=t.next;var h=this.shader,l=this.constBits,o=h.instanceCache.h[l];this.instance=null==o?h.makeInstance(l):o},toString:function(){return ui.getClass(this).__name__},__class__:at};var ht=function(){this.flipY__=0,at.call(this)};e["h3d.shader.ScreenShader"]=ht,ht.__name__="h3d.shader.ScreenShader",ht.__super__=at,ht.prototype=r(at.prototype,{updateConstants:function(A){this.constBits=0,this.updateConstantsFinal(A)},getParamValue:function(A){return 0==A?this.flipY__:null},getParamFloatValue:function(A){return 0==A?this.flipY__:0},__class__:ht});var lt=function(){this.color__=new dA,ht.call(this)};e["h3d.pass._Border.BorderShader"]=lt,lt.__name__="h3d.pass._Border.BorderShader",lt.__super__=ht,lt.prototype=r(ht.prototype,{updateConstants:function(A){this.constBits=0,this.updateConstantsFinal(A)},getParamValue:function(A){switch(A){case 0:return this.flipY__;case 1:return this.color__}return null},getParamFloatValue:function(A){return 0==A?this.flipY__:0},__class__:lt});var ot=function(A,t,e){null==e&&(e=1),rt.call(this,new lt);var s,i,r=hs._new(0);r.pos==r.array.length&&((s=r.array.length<<1)<128&&(s=128),(i=new Float32Array(s)).set(r.array),r.array=i);(r.array[r.pos++]=0/A*2-1,r.pos==r.array.length)&&((s=r.array.length<<1)<128&&(s=128),(i=new Float32Array(s)).set(r.array),r.array=i);(r.array[r.pos++]=1-0/t*2,r.pos==r.array.length)&&((s=r.array.length<<1)<128&&(s=128),(i=new Float32Array(s)).set(r.array),r.array=i);(r.array[r.pos++]=A/A*2-1,r.pos==r.array.length)&&((s=r.array.length<<1)<128&&(s=128),(i=new Float32Array(s)).set(r.array),r.array=i);(r.array[r.pos++]=1-0/t*2,r.pos==r.array.length)&&((s=r.array.length<<1)<128&&(s=128),(i=new Float32Array(s)).set(r.array),r.array=i);(r.array[r.pos++]=0/A*2-1,r.pos==r.array.length)&&((s=r.array.length<<1)<128&&(s=128),(i=new Float32Array(s)).set(r.array),r.array=i);(r.array[r.pos++]=1-e/t*2,r.pos==r.array.length)&&((s=r.array.length<<1)<128&&(s=128),(i=new Float32Array(s)).set(r.array),r.array=i);(r.array[r.pos++]=A/A*2-1,r.pos==r.array.length)&&((s=r.array.length<<1)<128&&(s=128),(i=new Float32Array(s)).set(r.array),r.array=i);(r.array[r.pos++]=1-e/t*2,r.pos==r.array.length)&&((s=r.array.length<<1)<128&&(s=128),(i=new Float32Array(s)).set(r.array),r.array=i);(r.array[r.pos++]=0/A*2-1,r.pos==r.array.length)&&((s=r.array.length<<1)<128&&(s=128),(i=new Float32Array(s)).set(r.array),r.array=i);(r.array[r.pos++]=1-0/t*2,r.pos==r.array.length)&&((s=r.array.length<<1)<128&&(s=128),(i=new Float32Array(s)).set(r.array),r.array=i);(r.array[r.pos++]=e/A*2-1,r.pos==r.array.length)&&((s=r.array.length<<1)<128&&(s=128),(i=new Float32Array(s)).set(r.array),r.array=i);(r.array[r.pos++]=1-0/t*2,r.pos==r.array.length)&&((s=r.array.length<<1)<128&&(s=128),(i=new Float32Array(s)).set(r.array),r.array=i);(r.array[r.pos++]=0/A*2-1,r.pos==r.array.length)&&((s=r.array.length<<1)<128&&(s=128),(i=new Float32Array(s)).set(r.array),r.array=i);(r.array[r.pos++]=1-t/t*2,r.pos==r.array.length)&&((s=r.array.length<<1)<128&&(s=128),(i=new Float32Array(s)).set(r.array),r.array=i);(r.array[r.pos++]=e/A*2-1,r.pos==r.array.length)&&((s=r.array.length<<1)<128&&(s=128),(i=new Float32Array(s)).set(r.array),r.array=i);(r.array[r.pos++]=1-t/t*2,r.pos==r.array.length)&&((s=r.array.length<<1)<128&&(s=128),(i=new Float32Array(s)).set(r.array),r.array=i);(r.array[r.pos++]=0/A*2-1,r.pos==r.array.length)&&((s=r.array.length<<1)<128&&(s=128),(i=new Float32Array(s)).set(r.array),r.array=i);(r.array[r.pos++]=1-(t-e)/t*2,r.pos==r.array.length)&&((s=r.array.length<<1)<128&&(s=128),(i=new Float32Array(s)).set(r.array),r.array=i);(r.array[r.pos++]=A/A*2-1,r.pos==r.array.length)&&((s=r.array.length<<1)<128&&(s=128),(i=new Float32Array(s)).set(r.array),r.array=i);(r.array[r.pos++]=1-(t-e)/t*2,r.pos==r.array.length)&&((s=r.array.length<<1)<128&&(s=128),(i=new Float32Array(s)).set(r.array),r.array=i);(r.array[r.pos++]=0/A*2-1,r.pos==r.array.length)&&((s=r.array.length<<1)<128&&(s=128),(i=new Float32Array(s)).set(r.array),r.array=i);(r.array[r.pos++]=1-t/t*2,r.pos==r.array.length)&&((s=r.array.length<<1)<128&&(s=128),(i=new Float32Array(s)).set(r.array),r.array=i);(r.array[r.pos++]=A/A*2-1,r.pos==r.array.length)&&((s=r.array.length<<1)<128&&(s=128),(i=new Float32Array(s)).set(r.array),r.array=i);(r.array[r.pos++]=1-t/t*2,r.pos==r.array.length)&&((s=r.array.length<<1)<128&&(s=128),(i=new Float32Array(s)).set(r.array),r.array=i);(r.array[r.pos++]=(A-e)/A*2-1,r.pos==r.array.length)&&((s=r.array.length<<1)<128&&(s=128),(i=new Float32Array(s)).set(r.array),r.array=i);(r.array[r.pos++]=1-0/t*2,r.pos==r.array.length)&&((s=r.array.length<<1)<128&&(s=128),(i=new Float32Array(s)).set(r.array),r.array=i);(r.array[r.pos++]=A/A*2-1,r.pos==r.array.length)&&((s=r.array.length<<1)<128&&(s=128),(i=new Float32Array(s)).set(r.array),r.array=i);(r.array[r.pos++]=1-0/t*2,r.pos==r.array.length)&&((s=r.array.length<<1)<128&&(s=128),(i=new Float32Array(s)).set(r.array),r.array=i);(r.array[r.pos++]=(A-e)/A*2-1,r.pos==r.array.length)&&((s=r.array.length<<1)<128&&(s=128),(i=new Float32Array(s)).set(r.array),r.array=i);(r.array[r.pos++]=1-t/t*2,r.pos==r.array.length)&&((s=r.array.length<<1)<128&&(s=128),(i=new Float32Array(s)).set(r.array),r.array=i);(r.array[r.pos++]=A/A*2-1,r.pos==r.array.length)&&((s=r.array.length<<1)<128&&(s=128),(i=new Float32Array(s)).set(r.array),r.array=i);r.array[r.pos++]=1-t/t*2,this.primitive=new Mt({vbuf:r,stride:2,quads:!0},!0);var n=this.shader.color__,a=1,h=1,l=1,o=1;null==o&&(o=1),null==l&&(l=0),null==h&&(h=0),null==a&&(a=0),n.x=a,n.y=h,n.z=l,n.w=o};e["h3d.pass.Border"]=ot,ot.__name__="h3d.pass.Border",ot.__super__=rt,ot.prototype=r(rt.prototype,{dispose:function(){rt.prototype.dispose.call(this),this.primitive.dispose()},__class__:ot});var ut=function(){this.layer__=0,ht.call(this)};e["h3d.pass._Copy.ArrayCopyShader"]=ut,ut.__name__="h3d.pass._Copy.ArrayCopyShader",ut.__super__=ht,ut.prototype=r(ht.prototype,{updateConstants:function(A){this.constBits=0,this.updateConstantsFinal(A)},getParamValue:function(A){switch(A){case 0:return this.flipY__;case 1:return this.texture__;case 2:return this.layer__}return null},getParamFloatValue:function(A){return 0==A?this.flipY__:0},__class__:ut});var _t=function(){ht.call(this)};e["h3d.pass._Copy.CopyShader"]=_t,_t.__name__="h3d.pass._Copy.CopyShader",_t.__super__=ht,_t.prototype=r(ht.prototype,{updateConstants:function(A){this.constBits=0,this.updateConstantsFinal(A)},getParamValue:function(A){switch(A){case 0:return this.flipY__;case 1:return this.texture__}return null},getParamFloatValue:function(A){return 0==A?this.flipY__:0},__class__:_t});var ct=function(){rt.call(this,new _t)};e["h3d.pass.Copy"]=ct,ct.__name__="h3d.pass.Copy",ct.run=function(A,t,e,s,i){var r=oA.CURRENT;if(null==t||null==A||null!=e&&e!=U.None||null!=s||null!=i||!r.driver.copyTexture(A,t)){var n=r.resCache.h[ct.__id__];null==n&&(n=new ct,r.resCache.set(ct,n)),n.apply(A,t,e,s,i)}},ct.__super__=rt,ct.prototype=r(rt.prototype,{apply:function(A,t,e,s,i){if(null!=t&&this.get_engine().pushTarget(t,null!=i?i:0),this.shader.texture__=A,null!=s){var r=this.pass;this.pass=s,null!=e&&this.pass.setBlendMode(e);for(var n=this.shaders;null!=n.next;)n=n.next;n.next=this.pass.shaders,this.render(),this.pass=r,n.next=null}else this.pass.setBlendMode(null==e?U.None:e),this.render();this.shader.texture__=null,null!=t&&this.get_engine().popTarget()},__class__:ct});var dt=function(){this.mat__=new _A,ht.call(this)};e["h3d.pass._CubeCopy.CubeCopyShader"]=dt,dt.__name__="h3d.pass._CubeCopy.CubeCopyShader",dt.__super__=ht,dt.prototype=r(ht.prototype,{updateConstants:function(A){this.constBits=0,this.updateConstantsFinal(A)},getParamValue:function(A){switch(A){case 0:return this.flipY__;case 1:return this.texture__;case 2:return this.mat__}return null},getParamFloatValue:function(A){return 0==A?this.flipY__:0},__class__:dt});var pt=function(A){this.defaultSort=Di(t=new Ct,t.sort),it.call(this,A),this.manager=new wt(this.getOutputs()),this.initGlobals()};e["h3d.pass.Default"]=pt,pt.__name__="h3d.pass.Default",pt.__super__=it,pt.prototype=r(it.prototype,{getCurrentPixelSize:function(){var A=this.ctx.engine.getCurrentTarget();return new dA(2/(null==A?this.ctx.engine.width:A.width),2/(null==A?this.ctx.engine.height:A.height))},getOutputs:function(){return[fi.Value("output.color")]},processShaders:function(A,t){for(A=this.ctx.extraShaders;null!=A;)t=this.ctx.allocShaderList(A.s,t),A=A.next;return t},setupShaders:function(A){for(var t=!1,e=A.current;null!=e;){var s=e;e=e.next;var i=s,r=i.pass.getShadersRec();r=this.processShaders(i,r),i.pass.enableLights&&null!=this.ctx.lightSystem&&(t||(this.ctx.lightSystem.initGlobals(this.manager.globals),t=!0),r=this.ctx.lightSystem.computeLight(i.obj,r)),i.shader=this.manager.compileShaders(r,i.pass.batchMode),i.shaders=r;var n=i.shader.fragment.textures;if(null==n)i.texture=0;else{var a,h=this.manager,l=!0;if(null==l&&(l=!1),null!=n.perObjectGlobal){var o=h.globals.map.h[n.perObjectGlobal.gid];if(null==o)throw de.thrown("Missing global value "+n.perObjectGlobal.path+" for shader "+h.shaderInfo(r,n.perObjectGlobal.path));var u,_=n.type;if(17==_._hx_index){_.size;u=!0}else u=!1;a=u?o.texture:o}else{for(var c=r,d=n.instance;--d>0;)c=c.next;var p=c.s.getParamValue(n.index);if(null==p&&!l)throw de.thrown("Missing param value "+f.string(c.s)+"."+n.name);a=p}i.texture=null==a?0:a.id}}},drawObject:function(A){this.ctx.drawPass=A,this.ctx.engine.selectMaterial(A.pass),A.obj.draw(this.ctx)},draw:function(A,t){if(null!=A.current){for(var e=0,s=this.ctx.sharedGlobals;e<s.length;){var i=s[e];++e,this.manager.globals.map.h[i.gid]=i.value}this.setGlobals(),this.setupShaders(A),null==t?this.defaultSort(A):t(A),this.ctx.currentManager=this.manager;for(var r=this.ctx.shaderBuffers,n=null,a=A.current;null!=a;){var h=a;a=a.next;var l=h,o=l.obj.absPos;if(this.manager.globals.map.h[this.globalModelView_id]=o,l.shader.globals.h.hasOwnProperty(this.globalModelViewInverse_id)){var u=l.obj.getInvPos();this.manager.globals.map.h[this.globalModelViewInverse_id]=u}if(n!=l.shader){if(n=l.shader,this.ctx.engine.selectShader(l.shader),null==r)r=this.ctx.shaderBuffers=new Zt(l.shader);else{var _=l.shader;r.vertex.grow(_.vertex),r.fragment.grow(_.fragment)}this.manager.fillGlobals(r,l.shader),this.ctx.engine.uploadShaderBuffers(r,0)}l.pass.dynamicParameters||(this.manager.fillParams(r,l.shader,l.shaders),this.ctx.engine.uploadShaderBuffers(r,1),this.ctx.engine.uploadShaderBuffers(r,2),this.ctx.engine.uploadShaderBuffers(r,3)),this.drawObject(l)}var c=this.ctx;c.cachedPos=0,c.drawPass=null}},initGlobals:function(){var A=oi.allocID("camera.view");this.cameraView_id=A;A=oi.allocID("camera.zNear");this.cameraNear_id=A;A=oi.allocID("camera.zFar");this.cameraFar_id=A;A=oi.allocID("camera.proj");this.cameraProj_id=A;A=oi.allocID("camera.position");this.cameraPos_id=A;A=oi.allocID("camera.projDiag");this.cameraProjDiag_id=A;A=oi.allocID("camera.projFlip");this.cameraProjFlip_id=A;A=oi.allocID("camera.viewProj");this.cameraViewProj_id=A;A=oi.allocID("camera.inverseViewProj");this.cameraInverseViewProj_id=A;A=oi.allocID("global.time");this.globalTime_id=A;A=oi.allocID("global.pixelSize");this.pixelSize_id=A;A=oi.allocID("global.modelView");this.globalModelView_id=A;A=oi.allocID("global.modelViewInverse");this.globalModelViewInverse_id=A},setGlobals:function(){var A=this.ctx.camera.mcam;this.manager.globals.map.h[this.cameraView_id]=A;A=this.ctx.camera.zNear;this.manager.globals.map.h[this.cameraNear_id]=A;A=this.ctx.camera.zFar;this.manager.globals.map.h[this.cameraFar_id]=A;A=this.ctx.camera.mproj;this.manager.globals.map.h[this.cameraProj_id]=A;A=this.ctx.camera.pos;this.manager.globals.map.h[this.cameraPos_id]=A;A=new dA(this.ctx.camera.mproj._11,this.ctx.camera.mproj._22,this.ctx.camera.mproj._33,this.ctx.camera.mproj._44);this.manager.globals.map.h[this.cameraProjDiag_id]=A;A=this.ctx.engine.driver.hasFeature(BA.BottomLeftCoords)&&null!=this.ctx.engine.getCurrentTarget()?-1:1;this.manager.globals.map.h[this.cameraProjFlip_id]=A;A=this.ctx.camera.m;this.manager.globals.map.h[this.cameraViewProj_id]=A;A=this.ctx.camera.getInverseViewProj();this.manager.globals.map.h[this.cameraInverseViewProj_id]=A;A=this.ctx.time;this.manager.globals.map.h[this.globalTime_id]=A;A=this.getCurrentPixelSize();this.manager.globals.map.h[this.pixelSize_id]=A},__class__:pt});var ft=function(A){this.pcfScale=1,this.pcfQuality=1,this.bias=.01,this.power=30,this.samplingKind=Bt.None,this.size=1024,this.mode=yt.None,this.enabled=!0,null==this.format&&(this.format=tt.R16F),oA.CURRENT.driver.isSupportedFormat(this.format)||(this.format=et.nativeFormat),pt.call(this,"shadow"),this.light=A,this.blur=new nt(5),this.blur.set_quality(.5);var t=this.blur.shader;t.constModified=!0,t.isDepth__=this.format==et.nativeFormat};e["h3d.pass.Shadows"]=ft,ft.__name__="h3d.pass.Shadows",ft.__super__=pt,ft.prototype=r(pt.prototype,{set_size:function(A){return A!=this.size&&null!=this.staticTexture&&(this.staticTexture.dispose(),this.staticTexture=null),this.size=A},getShadowProj:function(){return this.lightCamera.m},isUsingWorldDist:function(){return!1},getOutputs:function(){return this.isUsingWorldDist()?[fi.Swiz(fi.Value("output.worldDist",1),[Ks.X,Ks.X,Ks.X,Ks.X])]:this.format==et.nativeFormat?[fi.PackFloat(fi.Value("output.depth"))]:[fi.Swiz(fi.Value("output.depth",1),[Ks.X,Ks.X,Ks.X,Ks.X])]},createDefaultShadowMap:function(){var A=et.fromColor(16777215);return A.name="defaultShadowMap",A},syncShader:function(A){},filterPasses:function(A){if(this.ctx.computingStatic)switch(this.mode._hx_index){case 0:case 2:return!1;case 1:for(var t=null,e=null,s=A.discarded,i=A.lastDisc,r=A.current;null!=r;)1==r.pass.isStatic?null==t?t=e=r:(e.next=r,e=r):null==s?s=i=r:(i.next=r,i=r),r=r.next;return null!=e&&(e.next=null),null!=i&&(i.next=null),A.current=t,A.discarded=s,A.lastDisc=i,!0;case 3:for(t=null,e=null,s=A.discarded,i=A.lastDisc,r=A.current;null!=r;)1==r.pass.isStatic?null==t?t=e=r:(e.next=r,e=r):null==s?s=i=r:(i.next=r,i=r),r=r.next;return null!=e&&(e.next=null),null!=i&&(i.next=null),A.current=t,A.discarded=s,A.lastDisc=i,!0}else switch(this.mode._hx_index){case 0:return!1;case 1:if(null!=this.staticTexture)n=null==(a=this.staticTexture).t&&null==a.realloc;else n=!0;return n&&(this.staticTexture=this.createDefaultShadowMap()),this.syncShader(this.staticTexture),!1;case 2:return!0;case 3:var n,a;if(null!=this.staticTexture)n=null==(a=this.staticTexture).t&&null==a.realloc;else n=!0;return n&&(this.staticTexture=this.createDefaultShadowMap()),!0}},__class__:ft});var xt=function(A){this.minDist=-1,this.maxDist=-1,this.autoShrink=!0,this.mergePass=new rt(new Ae),ft.call(this,A),this.lightCamera=new hA,this.lightCamera.orthoBounds=new gA,this.shader=this.dshader=new jt,this.border=new ot(this.size,this.size),this.customDepth=oA.CURRENT.driver.hasFeature(BA.AllocDepthBuffer),this.customDepth||(this.depth=KA.getDefault())};e["h3d.pass.DirShadowMap"]=xt,xt.__name__="h3d.pass.DirShadowMap",xt.__super__=ft,xt.prototype=r(ft.prototype,{set_mode:function(A){var t=this.dshader;return t.constModified=!0,t.enable__=A!=yt.None,this.mode=A},set_size:function(A){return null!=this.border&&this.size!=A&&(this.border.dispose(),this.border=new ot(A,A)),ft.prototype.set_size.call(this,A)},calcShadowBounds:function(A){var t=A.orthoBounds;if(this.autoShrink){var e=new _A;this.ctx.scene.iterVisibleMeshes((function(s){if(null!=s.primitive&&s.material.castShadows){var i=s.primitive.getBounds();if(!(i.xMin>i.xMax)){e.multiply3x4(s.getAbsPos(),A.mcam);var r=i.xMin,n=i.yMin;null==(_=i.zMin)&&(_=0),null==n&&(n=0),null==r&&(r=0);var a=n,h=_,l=(c=r)*e._11+a*e._21+h*e._31+e._41,o=c*e._12+a*e._22+h*e._32+e._42,u=c*e._13+a*e._23+h*e._33+e._43;a=o,h=u,(c=l)<t.xMin&&(t.xMin=c),c>t.xMax&&(t.xMax=c),a<t.yMin&&(t.yMin=a),a>t.yMax&&(t.yMax=a),h<t.zMin&&(t.zMin=h),h>t.zMax&&(t.zMax=h);r=i.xMin,n=i.yMin;null==(_=i.zMax)&&(_=0),null==n&&(n=0),null==r&&(r=0);a=n,h=_,l=(c=r)*e._11+a*e._21+h*e._31+e._41,o=c*e._12+a*e._22+h*e._32+e._42,u=c*e._13+a*e._23+h*e._33+e._43;a=o,h=u,(c=l)<t.xMin&&(t.xMin=c),c>t.xMax&&(t.xMax=c),a<t.yMin&&(t.yMin=a),a>t.yMax&&(t.yMax=a),h<t.zMin&&(t.zMin=h),h>t.zMax&&(t.zMax=h);r=i.xMin,n=i.yMax;null==(_=i.zMin)&&(_=0),null==n&&(n=0),null==r&&(r=0);a=n,h=_,l=(c=r)*e._11+a*e._21+h*e._31+e._41,o=c*e._12+a*e._22+h*e._32+e._42,u=c*e._13+a*e._23+h*e._33+e._43;a=o,h=u,(c=l)<t.xMin&&(t.xMin=c),c>t.xMax&&(t.xMax=c),a<t.yMin&&(t.yMin=a),a>t.yMax&&(t.yMax=a),h<t.zMin&&(t.zMin=h),h>t.zMax&&(t.zMax=h);r=i.xMin,n=i.yMax;null==(_=i.zMax)&&(_=0),null==n&&(n=0),null==r&&(r=0);a=n,h=_,l=(c=r)*e._11+a*e._21+h*e._31+e._41,o=c*e._12+a*e._22+h*e._32+e._42,u=c*e._13+a*e._23+h*e._33+e._43;a=o,h=u,(c=l)<t.xMin&&(t.xMin=c),c>t.xMax&&(t.xMax=c),a<t.yMin&&(t.yMin=a),a>t.yMax&&(t.yMax=a),h<t.zMin&&(t.zMin=h),h>t.zMax&&(t.zMax=h);r=i.xMax,n=i.yMin;null==(_=i.zMin)&&(_=0),null==n&&(n=0),null==r&&(r=0);a=n,h=_,l=(c=r)*e._11+a*e._21+h*e._31+e._41,o=c*e._12+a*e._22+h*e._32+e._42,u=c*e._13+a*e._23+h*e._33+e._43;a=o,h=u,(c=l)<t.xMin&&(t.xMin=c),c>t.xMax&&(t.xMax=c),a<t.yMin&&(t.yMin=a),a>t.yMax&&(t.yMax=a),h<t.zMin&&(t.zMin=h),h>t.zMax&&(t.zMax=h);r=i.xMax,n=i.yMin;null==(_=i.zMax)&&(_=0),null==n&&(n=0),null==r&&(r=0);a=n,h=_,l=(c=r)*e._11+a*e._21+h*e._31+e._41,o=c*e._12+a*e._22+h*e._32+e._42,u=c*e._13+a*e._23+h*e._33+e._43;a=o,h=u,(c=l)<t.xMin&&(t.xMin=c),c>t.xMax&&(t.xMax=c),a<t.yMin&&(t.yMin=a),a>t.yMax&&(t.yMax=a),h<t.zMin&&(t.zMin=h),h>t.zMax&&(t.zMax=h);r=i.xMax,n=i.yMax;null==(_=i.zMin)&&(_=0),null==n&&(n=0),null==r&&(r=0);a=n,h=_,l=(c=r)*e._11+a*e._21+h*e._31+e._41,o=c*e._12+a*e._22+h*e._32+e._42,u=c*e._13+a*e._23+h*e._33+e._43;a=o,h=u,(c=l)<t.xMin&&(t.xMin=c),c>t.xMax&&(t.xMax=c),a<t.yMin&&(t.yMin=a),a>t.yMax&&(t.yMax=a),h<t.zMin&&(t.zMin=h),h>t.zMax&&(t.zMax=h);var _;r=i.xMax,n=i.yMax;null==(_=i.zMax)&&(_=0),null==n&&(n=0),null==r&&(r=0);var c;a=n,h=_,l=(c=r)*e._11+a*e._21+h*e._31+e._41,o=c*e._12+a*e._22+h*e._32+e._42,u=c*e._13+a*e._23+h*e._33+e._43;a=o,h=u,(c=l)<t.xMin&&(t.xMin=c),c>t.xMax&&(t.xMax=c),a<t.yMin&&(t.yMin=a),a>t.yMax&&(t.yMax=a),h<t.zMin&&(t.zMin=h),h>t.zMax&&(t.zMax=h)}}}))}else this.mode==yt.Dynamic&&(t.xMin=-1e20,t.xMax=1e20,t.yMin=-1e20,t.yMax=1e20,t.zMin=-1e20,t.zMax=1e20);if(this.mode==yt.Dynamic){var s,i,r,n=new gA,a=1,h=0,l=this.ctx.camera.zNear,o=this.ctx.camera.zFar;if(this.maxDist>0)null==(r=o)&&(r=1),null==(i=l)&&(i=0),a=((o+l-2*l*o/((s=this.maxDist)<i?i:s>r?r:s))/(o-l)+1)/2;if(this.minDist>0)null==(r=o)&&(r=1),null==(i=l)&&(i=0),h=((o+l-2*l*o/((s=this.minDist)<i?i:s>r?r:s))/(o-l)+1)/2;for(var u=0,_=this.ctx.camera.getFrustumCorners(a,h);u<_.length;){var c=_[u];++u;var d=A.mcam,p=c.x*d._11+c.y*d._21+c.z*d._31+c.w*d._41,f=c.x*d._12+c.y*d._22+c.z*d._32+c.w*d._42,x=c.x*d._13+c.y*d._23+c.z*d._33+c.w*d._43,g=c.x*d._14+c.y*d._24+c.z*d._34+c.w*d._44;c.x=p,c.y=f,c.z=x,c.w=g;var b=c.x,m=c.y,v=c.z;b<n.xMin&&(n.xMin=b),b>n.xMax&&(n.xMax=b),m<n.yMin&&(n.yMin=m),m>n.yMax&&(n.yMax=m),v<n.zMin&&(n.zMin=v),v>n.zMax&&(n.zMax=v)}this.autoShrink?(n.zMin=t.zMin,t.intersection(t,n)):t.load(n)}t.scaleCenter(1.01)},setGlobals:function(){if(ft.prototype.setGlobals.call(this),this.mode!=yt.Mixed||this.ctx.computingStatic){var A=this.lightCamera.orthoBounds;A.xMin=1e20,A.xMax=-1e20,A.yMin=1e20,A.yMax=-1e20,A.zMin=1e20,A.zMax=-1e20,this.calcShadowBounds(this.lightCamera),this.lightCamera.update()}var t=this.getShadowProj();this.manager.globals.map.h[this.cameraViewProj_id]=t},syncShader:function(A){(t=this.dshader).constModified=!0,t.shadowMap__=A,(t=this.dshader).constModified=!0,t.shadowMapChannel__=this.format==et.nativeFormat?ei.PackedFloat:ei.R,this.dshader.shadowBias__=this.bias,this.dshader.shadowPower__=this.power,this.dshader.shadowProj__=this.getShadowProj(),(t=this.dshader).constModified=!0,t.USE_ESM__=this.samplingKind==Bt.ESM,this.dshader.shadowPower__=this.power,(t=this.dshader).constModified=!0,t.USE_PCF__=this.samplingKind==Bt.PCF;var t=this.dshader.shadowRes__,e=A.width,s=A.height;null==s&&(s=0),null==e&&(e=0),t.x=e,t.y=s,t.z=0,t.w=1,this.dshader.pcfScale__=this.pcfScale,(t=this.dshader).constModified=!0,t.pcfQuality__=this.pcfQuality},draw:function(A,t){var e=this;if(this.enabled&&this.filterPasses(A)){for(var s=function(A){return A.inFrustum(e.lightCamera.frustum)},i=null,r=!0,n=null,a=null,h=A.discarded,l=A.lastDisc,o=A.current;null!=o;){var u,_=o.obj.cullingCollider;null==_?u=!0:(_!=i&&(i=_,r=s(_)),u=r),u?null==n?n=a=o:(a.next=o,a=o):null==h?h=l=o:(l.next=o,l=o),o=o.next}null!=a&&(a.next=null),null!=l&&(l.next=null),A.current=n,A.discarded=h,A.lastDisc=l;var c=this.ctx.textures.allocTarget("dirShadowMap",this.size,this.size,!1,this.format);if(this.customDepth&&(null==this.depth||this.depth.width!=this.size||this.depth.height!=this.size||this.depth.isDisposed())&&(null!=this.depth&&this.depth.dispose(),this.depth=new KA(this.size,this.size)),c.depthBuffer=this.depth,this.mode!=yt.Mixed||this.ctx.computingStatic){var d=this.ctx.camera.target,p=null==this.light?this.ctx.lightSystem.shadowLight:this.light,f=null==p?null:p.getShadowDirection();if(null==f){null==(x=-1)&&(x=0),null==(m=0)&&(m=0),null==(b=0)&&(b=0),(g=this.lightCamera.target).x=b,g.y=m,g.z=x,g.w=1}else{var x,g=this.lightCamera.target,b=f.x,m=f.y;null==(x=f.z)&&(x=0),null==m&&(m=0),null==b&&(b=0),g.x=b,g.y=m,g.z=x,g.w=1;var v=(g=this.lightCamera.target).x*g.x+g.y*g.y+g.z*g.z;v=v<1e-10?0:1/Math.sqrt(v),g.x*=v,g.y*=v,g.z*=v}this.lightCamera.target.x+=d.x,this.lightCamera.target.y+=d.y,this.lightCamera.target.z+=d.z,(g=this.lightCamera.pos).x=d.x,g.y=d.y,g.z=d.z,g.w=d.w,this.lightCamera.update()}if(this.ctx.engine.pushTarget(c),this.ctx.engine.clear(16777215,1),ft.prototype.draw.call(this,A,t),null!=this.border&&this.border.render(),this.ctx.engine.popTarget(),this.mode==yt.Mixed&&!this.ctx.computingStatic){var w=this.ctx.textures.allocTarget("mergedDirShadowMap",this.size,this.size,!1,this.format);this.mergePass.shader.texA__=c,this.mergePass.shader.texB__=this.staticTexture,this.ctx.engine.pushTarget(w),this.mergePass.render(),this.ctx.engine.popTarget(),c=w}this.blur.radius>0&&(this.mode!=yt.Mixed||!this.ctx.computingStatic)&&this.blur.apply(this.ctx,c),this.syncShader(c)}},__class__:xt});var gt=function(A,t){null==A&&(A=1024),null!=t&&(this.format=t),xt.call(this,null),this.set_size(A),this.color=new dA,this.set_mode(yt.Dynamic),this.shadowMapId=oi.allocID("shadow.map"),this.shadowProjId=oi.allocID("shadow.proj"),this.shadowColorId=oi.allocID("shadow.color"),this.shadowPowerId=oi.allocID("shadow.power"),this.shadowBiasId=oi.allocID("shadow.bias")};e["h3d.pass.DefaultShadowMap"]=gt,gt.__name__="h3d.pass.DefaultShadowMap",gt.__super__=xt,gt.prototype=r(xt.prototype,{draw:function(A,t){xt.prototype.draw.call(this,A,t),this.ctx.setGlobalID(this.shadowMapId,{texture:this.dshader.shadowMap__,channel:this.format==et.nativeFormat?ei.PackedFloat:ei.R}),this.ctx.setGlobalID(this.shadowProjId,this.getShadowProj()),this.ctx.setGlobalID(this.shadowColorId,this.color),this.ctx.setGlobalID(this.shadowPowerId,this.power),this.ctx.setGlobalID(this.shadowBiasId,this.bias)},__class__:gt});var bt=function(){this.viewport__=new dA,this.colorID__=new dA,at.call(this)};e["h3d.pass._HardwarePick.FixedColor"]=bt,bt.__name__="h3d.pass._HardwarePick.FixedColor",bt.__super__=at,bt.prototype=r(at.prototype,{updateConstants:function(A){this.constBits=0,this.updateConstantsFinal(A)},getParamValue:function(A){switch(A){case 0:return this.colorID__;case 1:return this.viewport__}return null},getParamFloatValue:function(A){return 0},__class__:bt});var mt=function(A){this.current=A,this.discarded=this.lastDisc=null};e["h3d.pass.PassList"]=mt,mt.__name__="h3d.pass.PassList",mt.prototype={__class__:mt};var vt=function(){this.texture=0};e["h3d.pass.PassObject"]=vt,vt.__name__="h3d.pass.PassObject",vt.prototype={__class__:vt};var wt=function(A){this.shaderCache=ti.get(),this.globals=new oi,this.currentOutput=new Bi(null),this.setOutput(A)};e["h3d.pass.ShaderManager"]=wt,wt.__name__="h3d.pass.ShaderManager",wt.prototype={setOutput:function(A){null==A&&(A=[fi.Value("output.color")]),this.currentOutput.s=this.shaderCache.getLinkShader(A)},fillRec:function(A,t,e,s){switch(t._hx_index){case 1:case 3:return e[s]=A,1;case 5:var i=t.t,r=t.size,n=A;switch(e[s++]=n.x,e[s++]=n.y,r){case 3:e[s++]=n.z;break;case 4:e[s++]=n.z,e[s++]=n.w}return r;case 6:var a=A;return e[s++]=a._11,e[s++]=a._21,e[s++]=a._31,e[s++]=0,e[s++]=a._12,e[s++]=a._22,e[s++]=a._32,e[s++]=0,e[s++]=a._13,e[s++]=a._23,e[s++]=a._33,e[s++]=0,12;case 7:a=A;return e[s++]=a._11,e[s++]=a._21,e[s++]=a._31,e[s++]=a._41,e[s++]=a._12,e[s++]=a._22,e[s++]=a._32,e[s++]=a._42,e[s++]=a._13,e[s++]=a._23,e[s++]=a._33,e[s++]=a._43,e[s++]=a._14,e[s++]=a._24,e[s++]=a._34,e[s++]=a._44,16;case 8:a=A;return e[s++]=a._11,e[s++]=a._21,e[s++]=a._31,e[s++]=a._41,e[s++]=a._12,e[s++]=a._22,e[s++]=a._32,e[s++]=a._42,e[s++]=a._13,e[s++]=a._23,e[s++]=a._33,e[s++]=a._43,12;case 13:var h=t.vl,l=0;for(i=0;i<h.length;){var o=h[i];++i,l+=this.fillRec(p.field(A,o.name),o.type,e,s+l)}return l;case 15:i=t.t;var u=t.size;switch(i._hx_index){case 3:if(0==u._hx_index){for(var _=u.v,c=0,d=0,x=(n=A).length<_?n.length:_;d<x;){var g=d++;e[s++]=n[g]}return _}throw de.thrown("assert "+f.string(t));case 5:if(4==i.size){if(1==i.t._hx_index){if(0==u._hx_index){for(n=A,d=0,x=_=u.v;d<x;){if(null==(r=n[g=d++]))break;e[s++]=r.x,e[s++]=r.y,e[s++]=r.z,e[s++]=r.w}return 4*_}throw de.thrown("assert "+f.string(t))}if(0==u._hx_index){var b=i;for(n=A,c=0,d=0,x=_=u.v;d<x;){if(null==(r=n[g=d++]))break;s+=c=this.fillRec(r,b,e,s)}return _*c}throw de.thrown("assert "+f.string(t))}if(0==u._hx_index){for(b=i,n=A,c=0,d=0,x=_=u.v;d<x;){if(null==(r=n[g=d++]))break;s+=c=this.fillRec(r,b,e,s)}return _*c}throw de.thrown("assert "+f.string(t));case 8:if(0==u._hx_index){for(n=A,d=0,x=_=u.v;d<x;){if(null==(a=n[g=d++]))break;e[s++]=a._11,e[s++]=a._21,e[s++]=a._31,e[s++]=a._41,e[s++]=a._12,e[s++]=a._22,e[s++]=a._32,e[s++]=a._42,e[s++]=a._13,e[s++]=a._23,e[s++]=a._33,e[s++]=a._43}return 12*_}throw de.thrown("assert "+f.string(t));default:if(0==u._hx_index){for(b=i,n=A,c=0,i=0,u=_=u.v;i<u;){if(null==(r=n[g=i++]))break;s+=c=this.fillRec(r,b,e,s)}return _*c}throw de.thrown("assert "+f.string(t))}break;default:throw de.thrown("assert "+f.string(t))}},shaderInfo:function(A,t){for(var e=t.split(".").pop();null!=A;){for(var s=0,i=A.s.instance.shader.vars;s<i.length;){var r=i[s];if(++s,r.name==e)return A.s.toString()}A=A.next}return"(not found)"},fillGlobals:function(A,t){for(var e=this,s=(r=t.vertex).globals,i=A.vertex.globals;null!=s;){if(null==(n=e.globals.map.h[s.gid])){if("__consts__"==s.path){e.fillRec(r.consts,s.type,i,s.pos),s=s.next;continue}throw de.thrown("Missing global value "+s.path)}e.fillRec(n,s.type,i,s.pos),s=s.next}var r;for(s=(r=t.fragment).globals,i=A.fragment.globals;null!=s;){var n;if(null==(n=e.globals.map.h[s.gid])){if("__consts__"==s.path){e.fillRec(r.consts,s.type,i,s.pos),s=s.next;continue}throw de.thrown("Missing global value "+s.path)}e.fillRec(n,s.type,i,s.pos),s=s.next}},fillParams:function(A,t,e){for(var s=this,i=-1,r=null,n=A.vertex,a=(m=t.vertex).params,h=n.params;null!=a;){if(null==a.perObjectGlobal){if(a.type==zs.TFloat){if(i==(v=a.instance))g=r;else{var l=e;for(i=v;--v>0;)l=l.next;g=r=l.s}h[a.pos]=g.getParamFloatValue(a.index),a=a.next;continue}if(i==(w=a.instance))D=r;else{var o=e;for(i=w;--w>0;)o=o.next;D=r=o.s}if(null==(F=D.getParamValue(a.index)))throw de.thrown("Missing param value "+f.string(r)+"."+a.name)}else if(null!=a.perObjectGlobal){if(null==(y=s.globals.map.h[a.perObjectGlobal.gid]))throw de.thrown("Missing global value "+a.perObjectGlobal.path+" for shader "+s.shaderInfo(e,a.perObjectGlobal.path));if(17==(E=a.type)._hx_index){E.size;B=!0}else B=!1;F=B?y.texture:y}else{for(var u=e,_=a.instance;--_>0;)u=u.next;if(null==(C=u.s.getParamValue(a.index)))throw de.thrown("Missing param value "+f.string(u.s)+"."+a.name);F=C}s.fillRec(F,a.type,h,a.pos),a=a.next}var c=0;for(a=m.textures;null!=a;){if(null==(S=!wt.STRICT)&&(S=!1),null!=a.perObjectGlobal){if(null==(F=s.globals.map.h[a.perObjectGlobal.gid]))throw de.thrown("Missing global value "+a.perObjectGlobal.path+" for shader "+s.shaderInfo(e,a.perObjectGlobal.path));if(17==(E=a.type)._hx_index){E.size;M=!0}else M=!1;k=M?F.texture:F}else{for(l=e,_=a.instance;--_>0;)l=l.next;if(null==(D=l.s.getParamValue(a.index))&&!S)throw de.thrown("Missing param value "+f.string(l.s)+"."+a.name);k=D}if(a.pos<0)for(var d=k,p=0,x=-a.pos;p<x;){var g=p++;n.tex[c++]=d[g]}else n.tex[c++]=k;a=a.next}a=m.buffers;for(var b=0;null!=a;){if(null==(S=!wt.STRICT)&&(S=!1),null!=a.perObjectGlobal){if(null==(F=s.globals.map.h[a.perObjectGlobal.gid]))throw de.thrown("Missing global value "+a.perObjectGlobal.path+" for shader "+s.shaderInfo(e,a.perObjectGlobal.path));if(17==(E=a.type)._hx_index){E.size;I=!0}else I=!1;T=I?F.texture:F}else{for(l=e,_=a.instance;--_>0;)l=l.next;if(null==(D=l.s.getParamValue(a.index))&&!S)throw de.thrown("Missing param value "+f.string(l.s)+"."+a.name);T=D}n.buffers[b++]=T,a=a.next}var m;for(n=A.fragment,a=(m=t.fragment).params,h=n.params;null!=a;){if(null==a.perObjectGlobal){if(a.type==zs.TFloat){var v;if(i==(v=a.instance))g=r;else{l=e;for(i=v;--v>0;)l=l.next;g=r=l.s}h[a.pos]=g.getParamFloatValue(a.index),a=a.next;continue}var w;if(i==(w=a.instance))D=r;else{o=e;for(i=w;--w>0;)o=o.next;D=r=o.s}if(null==(F=D.getParamValue(a.index)))throw de.thrown("Missing param value "+f.string(r)+"."+a.name)}else if(null!=a.perObjectGlobal){var y,B;if(null==(y=s.globals.map.h[a.perObjectGlobal.gid]))throw de.thrown("Missing global value "+a.perObjectGlobal.path+" for shader "+s.shaderInfo(e,a.perObjectGlobal.path));if(17==(E=a.type)._hx_index){E.size;B=!0}else B=!1;F=B?y.texture:y}else{for(u=e,_=a.instance;--_>0;)u=u.next;var C;if(null==(C=u.s.getParamValue(a.index)))throw de.thrown("Missing param value "+f.string(u.s)+"."+a.name);F=C}s.fillRec(F,a.type,h,a.pos),a=a.next}for(c=0,a=m.textures;null!=a;){var k;if(null==(S=!wt.STRICT)&&(S=!1),null!=a.perObjectGlobal){var M;if(null==(F=s.globals.map.h[a.perObjectGlobal.gid]))throw de.thrown("Missing global value "+a.perObjectGlobal.path+" for shader "+s.shaderInfo(e,a.perObjectGlobal.path));if(17==(E=a.type)._hx_index){E.size;M=!0}else M=!1;k=M?F.texture:F}else{for(l=e,_=a.instance;--_>0;)l=l.next;if(null==(D=l.s.getParamValue(a.index))&&!S)throw de.thrown("Missing param value "+f.string(l.s)+"."+a.name);k=D}if(a.pos<0)for(d=k,p=0,x=-a.pos;p<x;){g=p++;n.tex[c++]=d[g]}else n.tex[c++]=k;a=a.next}for(a=m.buffers,b=0;null!=a;){var S,T;if(null==(S=!wt.STRICT)&&(S=!1),null!=a.perObjectGlobal){var F,E,I;if(null==(F=s.globals.map.h[a.perObjectGlobal.gid]))throw de.thrown("Missing global value "+a.perObjectGlobal.path+" for shader "+s.shaderInfo(e,a.perObjectGlobal.path));if(17==(E=a.type)._hx_index){E.size;I=!0}else I=!1;T=I?F.texture:F}else{for(l=e,_=a.instance;--_>0;)l=l.next;var D;if(null==(D=l.s.getParamValue(a.index))&&!S)throw de.thrown("Missing param value "+f.string(l.s)+"."+a.name);T=D}n.buffers[b++]=T,a=a.next}},compileShaders:function(A,t){null==t&&(t=!1),this.globals.maxChannels=0;for(var e=A;null!=e;){var s=e.s;e=e.next,s.updateConstants(this.globals)}this.currentOutput.next=A;s=this.shaderCache.link(this.currentOutput,t);return this.currentOutput.next=null,s},__class__:wt};var yt=i["h3d.pass.RenderMode"]={__ename__:!0,__constructs__:null,None:{_hx_name:"None",_hx_index:0,__enum__:"h3d.pass.RenderMode",toString:s},Static:{_hx_name:"Static",_hx_index:1,__enum__:"h3d.pass.RenderMode",toString:s},Dynamic:{_hx_name:"Dynamic",_hx_index:2,__enum__:"h3d.pass.RenderMode",toString:s},Mixed:{_hx_name:"Mixed",_hx_index:3,__enum__:"h3d.pass.RenderMode",toString:s}};yt.__constructs__=[yt.None,yt.Static,yt.Dynamic,yt.Mixed],yt.__empty_constructs__=[yt.None,yt.Static,yt.Dynamic,yt.Mixed];var Bt=i["h3d.pass.ShadowSamplingKind"]={__ename__:!0,__constructs__:null,None:{_hx_name:"None",_hx_index:0,__enum__:"h3d.pass.ShadowSamplingKind",toString:s},PCF:{_hx_name:"PCF",_hx_index:1,__enum__:"h3d.pass.ShadowSamplingKind",toString:s},ESM:{_hx_name:"ESM",_hx_index:2,__enum__:"h3d.pass.ShadowSamplingKind",toString:s}};Bt.__constructs__=[Bt.None,Bt.PCF,Bt.ESM],Bt.__empty_constructs__=[Bt.None,Bt.PCF,Bt.ESM];var Ct=function(){this.textureCount=1,this.shaderCount=1,this.shaderIdMap=[],this.textureIdMap=[]};e["h3d.pass.SortByMaterial"]=Ct,Ct.__name__="h3d.pass.SortByMaterial",Ct.prototype={sort:function(A){for(var t=this,e=this.shaderCount,s=this.textureCount,i=A.current;null!=i;){var r=i;i=i.next;var n=r;(this.shaderIdMap[n.shader.id]<e||null==this.shaderIdMap[n.shader.id])&&(this.shaderIdMap[n.shader.id]=this.shaderCount++),(this.textureIdMap[n.texture]<s||null==this.textureIdMap[n.shader.id])&&(this.textureIdMap[n.texture]=this.textureCount++)}var a=A.current;if(null==a)r=null;else{for(var h,l,o,u,_=1,c=0,d=0;;){for(n=a,a=null,u=null,h=0;null!=n;){++h,l=n,c=0;for(var p=0,f=_;p<f;){p++;if(++c,null==(l=l.next))break}for(d=_;c>0||d>0&&null!=l;){if(0==c)o=l,l=l.next,--d;else{var x;if(0!=d&&null!=l){var g=t.shaderIdMap[n.shader.id]-t.shaderIdMap[l.shader.id];x=(0!=g?g:t.textureIdMap[n.texture]-t.textureIdMap[l.texture])<=0}else x=!0;x?(o=n,n=n.next,--c):(o=l,l=l.next,--d)}null!=u?u.next=o:a=o,u=o}n=l}if(u.next=null,h<=1)break;_*=2}r=a}A.current=r},__class__:Ct};var kt=function(){j.call(this)};e["h3d.prim.Plane2D"]=kt,kt.__name__="h3d.prim.Plane2D",kt.get=function(){var A=oA.CURRENT,t=A.resCache.h[kt.__id__];return null==t&&(t=new kt,A.resCache.set(kt,t)),t},kt.__super__=j,kt.prototype=r(j.prototype,{alloc:function(A){var t,e,s=hs._new(0);s.pos==s.array.length&&((t=s.array.length<<1)<128&&(t=128),(e=new Float32Array(t)).set(s.array),s.array=e);(s.array[s.pos++]=-1,s.pos==s.array.length)&&((t=s.array.length<<1)<128&&(t=128),(e=new Float32Array(t)).set(s.array),s.array=e);(s.array[s.pos++]=-1,s.pos==s.array.length)&&((t=s.array.length<<1)<128&&(t=128),(e=new Float32Array(t)).set(s.array),s.array=e);(s.array[s.pos++]=0,s.pos==s.array.length)&&((t=s.array.length<<1)<128&&(t=128),(e=new Float32Array(t)).set(s.array),s.array=e);(s.array[s.pos++]=1,s.pos==s.array.length)&&((t=s.array.length<<1)<128&&(t=128),(e=new Float32Array(t)).set(s.array),s.array=e);(s.array[s.pos++]=-1,s.pos==s.array.length)&&((t=s.array.length<<1)<128&&(t=128),(e=new Float32Array(t)).set(s.array),s.array=e);(s.array[s.pos++]=1,s.pos==s.array.length)&&((t=s.array.length<<1)<128&&(t=128),(e=new Float32Array(t)).set(s.array),s.array=e);(s.array[s.pos++]=0,s.pos==s.array.length)&&((t=s.array.length<<1)<128&&(t=128),(e=new Float32Array(t)).set(s.array),s.array=e);(s.array[s.pos++]=0,s.pos==s.array.length)&&((t=s.array.length<<1)<128&&(t=128),(e=new Float32Array(t)).set(s.array),s.array=e);(s.array[s.pos++]=1,s.pos==s.array.length)&&((t=s.array.length<<1)<128&&(t=128),(e=new Float32Array(t)).set(s.array),s.array=e);(s.array[s.pos++]=-1,s.pos==s.array.length)&&((t=s.array.length<<1)<128&&(t=128),(e=new Float32Array(t)).set(s.array),s.array=e);(s.array[s.pos++]=1,s.pos==s.array.length)&&((t=s.array.length<<1)<128&&(t=128),(e=new Float32Array(t)).set(s.array),s.array=e);(s.array[s.pos++]=1,s.pos==s.array.length)&&((t=s.array.length<<1)<128&&(t=128),(e=new Float32Array(t)).set(s.array),s.array=e);(s.array[s.pos++]=1,s.pos==s.array.length)&&((t=s.array.length<<1)<128&&(t=128),(e=new Float32Array(t)).set(s.array),s.array=e);(s.array[s.pos++]=1,s.pos==s.array.length)&&((t=s.array.length<<1)<128&&(t=128),(e=new Float32Array(t)).set(s.array),s.array=e);(s.array[s.pos++]=1,s.pos==s.array.length)&&((t=s.array.length<<1)<128&&(t=128),(e=new Float32Array(t)).set(s.array),s.array=e);s.array[s.pos++]=0,this.buffer=aA.ofFloats(s,4,[nA.Quads,nA.RawFormat])},render:function(A){var t;if(null!=this.buffer){var e=this.buffer;t=null==e.buffer||null==e.buffer.vbuf}else t=!0;t&&this.alloc(A),A.renderBuffer(this.buffer,A.mem.quadIndexes,2,0,-1)},__class__:kt});var Mt=function(A,t){null==t&&(t=!1),j.call(this),this.onContextLost=function(){return A},this.bounds=A.bounds,this.alloc(null),t||(this.onContextLost=null)};e["h3d.prim.RawPrimitive"]=Mt,Mt.__name__="h3d.prim.RawPrimitive",Mt.__super__=j,Mt.prototype=r(j.prototype,{alloc:function(A){if(null==this.onContextLost)throw de.thrown("Cannot realloc "+f.string(this));var t=this.onContextLost(),e=[];null==t.ibuf&&e.push(t.quads?nA.Quads:nA.Triangles),t.stride<8&&e.push(nA.RawFormat),this.buffer=aA.ofFloats(t.vbuf,t.stride,e),this.vcount=this.buffer.vertices,this.tcount=null!=t.ibuf?t.ibuf.length/3|0:t.quads?this.vcount>>1:this.vcount/3|0,null!=t.ibuf?this.indexes=uA.alloc(t.ibuf):null!=this.indexes&&(this.indexes.dispose(),this.indexes=null)},getBounds:function(){if(null==this.bounds)throw de.thrown("Bounds not defined for "+f.string(this));return this.bounds},__class__:Mt});var St=function(A){this.flags=0,this.absPos=new _A,this.absPos.identity(),this.x=0;var t=1;!0?this.flags|=t:this.flags&=~t,this.y=0;t=1;!0?this.flags|=t:this.flags&=~t,this.z=0;t=1;!0?this.flags|=t:this.flags&=~t,this.scaleX=1;t=1;!0?this.flags|=t:this.flags&=~t,this.scaleY=1;t=1;!0?this.flags|=t:this.flags&=~t,this.scaleZ=1;t=1;!0?this.flags|=t:this.flags&=~t,this.qRot=new cA;t=1;null!=this.follow?this.flags|=t:this.flags&=~t;t=2;this.flags|=t,this.children=[],null!=A&&A.addChild(this)};e["h3d.scene.Object"]=St,St.__name__="h3d.scene.Object",St.__interfaces__=[J],St.prototype={set_cullingCollider:function(A){this.cullingCollider=A;return this.flags&=-4097,A},localToGlobal:function(A){this.syncPos(),null==A&&(A=new wA);var t=this.absPos,e=A.x*t._11+A.y*t._21+A.z*t._31+t._41,s=A.x*t._12+A.y*t._22+A.z*t._32+t._42,i=A.x*t._13+A.y*t._23+A.z*t._33+t._43;return A.x=e,A.y=s,A.z=i,A},getInvPos:function(){return this.syncPos(),null==this.invPos&&(this.invPos=new _A,this.invPos._44=0),0==this.invPos._44&&this.invPos.inverse3x4(this.absPos),this.invPos},addChild:function(A){this.addChildAt(A,this.children.length)},addChildAt:function(A,t){t<0&&(t=0),t>this.children.length&&(t=this.children.length);for(var e=this;null!=e;){if(e==A)throw de.thrown("Recursive addChild");e=e.parent}if(null!=A.parent){var s=0!=(32&A.flags),i=32;A.flags&=~i,A.parent.removeChild(A);i=32;s?A.flags|=i:A.flags&=~i}this.children.splice(t,0,A),0==(32&this.flags)&&0!=(32&A.flags)&&A.onRemove(),A.parent=this;i=1;A.flags|=i,0!=(32&this.flags)&&(0==(32&A.flags)?A.onAdd():A.onParentChanged())},iterVisibleMeshes:function(A){if(0!=(2&this.flags)&&(0==(4&this.flags)||0==(128&this.flags))){if(0==(4&this.flags)){var t=this instanceof Tt?this:null;null!=t&&A(t)}for(var e=0,s=this.children;e<s.length;){var i=s[e];++e,i.iterVisibleMeshes(A)}}},onParentChanged:function(){for(var A=0,t=this.children;A<t.length;){var e=t[A];++A,e.onParentChanged()}},onAdd:function(){this.flags|=32;for(var A=0,t=this.children;A<t.length;){var e=t[A];++A,e.onAdd()}},onRemove:function(){this.flags&=-33;for(var A=0,t=this.children;A<t.length;){var e=t[A];++A,e.onRemove()}},removeChild:function(A){if(o.remove(this.children,A)){0!=(32&A.flags)&&A.onRemove(),A.parent=null;A.flags|=1}},getScene:function(){for(var A=this;null!=A.parent;)A=A.parent;return A instanceof Ut?A:null},getAbsPos:function(){return this.syncPos(),this.absPos},draw:function(A){},calcAbsPos:function(){if(this.qRot.toMatrix(this.absPos),this.absPos._11*=this.scaleX,this.absPos._12*=this.scaleX,this.absPos._13*=this.scaleX,this.absPos._21*=this.scaleY,this.absPos._22*=this.scaleY,this.absPos._23*=this.scaleY,this.absPos._31*=this.scaleZ,this.absPos._32*=this.scaleZ,this.absPos._33*=this.scaleZ,this.absPos._41=this.x,this.absPos._42=this.y,this.absPos._43=this.z,null!=this.follow)if(this.follow.syncPos(),0!=(8&this.flags)){var A=this.absPos,t=this.absPos,e=this.parent.absPos,s=t._11,i=t._12,r=t._13,n=t._21,a=t._22,h=t._23,l=t._31,o=t._32,u=t._33,_=t._41,c=t._42,d=t._43,p=e._11,f=e._12,x=e._13,g=e._21,b=e._22,m=e._23,v=e._31,w=e._32,y=e._33,B=e._41,C=e._42,k=e._43;A._11=s*p+i*g+r*v,A._12=s*f+i*b+r*w,A._13=s*x+i*m+r*y,A._14=0,A._21=n*p+a*g+h*v,A._22=n*f+a*b+h*w,A._23=n*x+a*m+h*y,A._24=0,A._31=l*p+o*g+u*v,A._32=l*f+o*b+u*w,A._33=l*x+o*m+u*y,A._34=0,A._41=_*p+c*g+d*v+B,A._42=_*f+c*b+d*w+C,A._43=_*x+c*m+d*y+k,A._44=1,this.absPos._41=this.x+this.follow.absPos._41,this.absPos._42=this.y+this.follow.absPos._42,this.absPos._43=this.z+this.follow.absPos._43}else this.absPos.multiply3x4(this.absPos,this.follow.absPos);else if(null!=this.parent&&0==(2048&this.flags)){A=this.absPos,t=this.absPos,e=this.parent.absPos,s=t._11,i=t._12,r=t._13,n=t._21,a=t._22,h=t._23,l=t._31,o=t._32,u=t._33,_=t._41,c=t._42,d=t._43,p=e._11,f=e._12,x=e._13,g=e._21,b=e._22,m=e._23,v=e._31,w=e._32,y=e._33,B=e._41,C=e._42,k=e._43;A._11=s*p+i*g+r*v,A._12=s*f+i*b+r*w,A._13=s*x+i*m+r*y,A._14=0,A._21=n*p+a*g+h*v,A._22=n*f+a*b+h*w,A._23=n*x+a*m+h*y,A._24=0,A._31=l*p+o*g+u*v,A._32=l*f+o*b+u*w,A._33=l*x+o*m+u*y,A._34=0,A._41=_*p+c*g+d*v+B,A._42=_*f+c*b+d*w+C,A._43=_*x+c*m+d*y+k,A._44=1}if(null!=this.defaultTransform){A=this.absPos,t=this.defaultTransform,e=this.absPos,s=t._11,i=t._12,r=t._13,n=t._21,a=t._22,h=t._23,l=t._31,o=t._32,u=t._33,_=t._41,c=t._42,d=t._43,p=e._11,f=e._12,x=e._13,g=e._21,b=e._22,m=e._23,v=e._31,w=e._32,y=e._33,B=e._41,C=e._42,k=e._43;A._11=s*p+i*g+r*v,A._12=s*f+i*b+r*w,A._13=s*x+i*m+r*y,A._14=0,A._21=n*p+a*g+h*v,A._22=n*f+a*b+h*w,A._23=n*x+a*m+h*y,A._24=0,A._31=l*p+o*g+u*v,A._32=l*f+o*b+u*w,A._33=l*x+o*m+u*y,A._34=0,A._41=_*p+c*g+d*v+B,A._42=_*f+c*b+d*w+C,A._43=_*x+c*m+d*y+k,A._44=1}null!=this.invPos&&(this.invPos._44=0)},sync:function(A){},syncRec:function(A){if(null!=this.currentAnimation){for(var t=this.parent,e=A.elapsedTime;e>0&&null!=this.currentAnimation;)e=this.currentAnimation.update(e);if(null!=this.currentAnimation&&(A.visibleFlag&&0!=(2&this.flags)&&0==(4&this.flags)||0!=(64&this.flags))&&this.currentAnimation.sync(),null==this.parent&&null!=t)return}t=A.visibleFlag;if((0==(2&this.flags)||0!=(4&this.flags)&&0!=(128&this.flags))&&(A.visibleFlag=!1),null==A.cullingCollider||null!=this.cullingCollider&&0==(4096&this.flags))0!=(4096&this.flags)&&this.set_cullingCollider(null);else{this.set_cullingCollider(A.cullingCollider);var s=4096;this.flags|=s}var i=A.cullingCollider;0!=(128&this.flags)&&(A.cullingCollider=this.cullingCollider);var r=0!=(1&this.flags);r&&this.calcAbsPos(),this.sync(A);s=1;null!=this.follow?this.flags|=s:this.flags&=~s,this.lastFrame=A.frame;for(var n=0,a=this.children.length;n<a;){var h=this.children[n];if(null==h)break;if(h.lastFrame!=A.frame){if(r){s=1;!0?h.flags|=s:h.flags&=~s}h.syncRec(A)}this.children[n]!=h?(n=0,a=this.children.length):++n}A.visibleFlag=t,A.cullingCollider=i},syncPos:function(){if(null!=this.parent&&this.parent.syncPos(),0!=(1&this.flags)){var A=1;null!=this.follow?this.flags|=A:this.flags&=~A,this.calcAbsPos();for(var t=0,e=this.children;t<e.length;){var s=e[t];++t;A=1;!0?s.flags|=A:s.flags&=~A}}},emit:function(A){},emitRec:function(A){if(0!=(2&this.flags)&&(0==(4&this.flags)||0==(128&this.flags)||A.computingStatic)){if(0!=(1&this.flags)){null!=this.currentAnimation&&this.currentAnimation.sync();var t=1;null!=this.follow?this.flags|=t:this.flags&=~t,this.calcAbsPos();for(var e=0,s=this.children;e<s.length;){var i=s[e];++e;t=1;!0?i.flags|=t:i.flags&=~t}}(0==(4&this.flags)||A.computingStatic)&&this.emit(A);for(e=0,s=this.children;e<s.length;){i=s[e];++e,i.emitRec(A)}}},__class__:St};var Tt=function(A,t,e){St.call(this,e),this.set_primitive(A),null==t&&(t=qA.current.createMaterial()).set_props(t.getDefaultProps()),this.material=t};e["h3d.scene.Mesh"]=Tt,Tt.__name__="h3d.scene.Mesh",Tt.__super__=St,Tt.prototype=r(St.prototype,{draw:function(A){this.primitive.render(A.engine)},emit:function(A){for(var t=this.material.passes;null!=t;)A.emitPass(t,this).index=0,t=t.nextPass},onAdd:function(){St.prototype.onAdd.call(this),null!=this.primitive&&this.primitive.incref()},onRemove:function(){null!=this.primitive&&this.primitive.decref(),St.prototype.onRemove.call(this)},set_primitive:function(A){return A!=this.primitive&&0!=(32&this.flags)&&(null!=this.primitive&&this.primitive.decref(),null!=A&&A.incref()),this.primitive=A},__class__:Tt});var Ft=function(A,t){this.hitPoint=new dA,this.mouseDownButton=-1,this.propagateEvents=!1,this.cancelEvents=!1,St.call(this,t),this.shape=A,this.set_cursor(is.Button)};e["h3d.scene.Interactive"]=Ft,Ft.__name__="h3d.scene.Interactive",Ft.__interfaces__=[z],Ft.__super__=St,Ft.prototype=r(St.prototype,{onAdd:function(){this.scene=this.getScene(),null!=this.scene&&this.scene.addEventTarget(this),St.prototype.onAdd.call(this)},onRemove:function(){null!=this.scene&&(this.scene.removeEventTarget(this),this.scene=null),St.prototype.onRemove.call(this)},getInteractiveScene:function(){return this.scene},handleEvent:function(A){switch(this.propagateEvents&&(A.propagate=!0),this.cancelEvents&&(A.cancel=!0),A.kind._hx_index){case 0:(this.enableRightButton||0==A.button)&&(this.mouseDownButton=A.button,this.onPush(A),A.cancel&&(this.mouseDownButton=-1));break;case 1:(this.enableRightButton||0==A.button)&&(this.onRelease(A),this.mouseDownButton==A.button&&this.onClick(A)),this.mouseDownButton=-1;break;case 2:this.onMove(A);break;case 3:this.onOver(A);break;case 4:this.onOut(A);break;case 5:this.onWheel(A);break;case 6:this.onFocus(A);break;case 7:this.onFocusLost(A);break;case 8:this.onKeyDown(A);break;case 9:this.onKeyUp(A);break;case 10:(this.enableRightButton||0==A.button)&&(this.onRelease(A),this.mouseDownButton==A.button&&this.onReleaseOutside(A)),this.mouseDownButton=-1;break;case 11:this.onTextInput(A);break;case 12:this.onCheck(A)}},set_cursor:function(A){return this.cursor=A,null!=this.scene&&null!=this.scene.events&&this.scene.events.updateCursor(this),A},onOver:function(A){},onOut:function(A){},onPush:function(A){},onRelease:function(A){},onReleaseOutside:function(A){},onClick:function(A){},onMove:function(A){},onWheel:function(A){},onFocus:function(A){},onFocusLost:function(A){},onKeyUp:function(A){},onKeyDown:function(A){},onCheck:function(A){},onTextInput:function(A){},__class__:Ft});var Et=function(A,t){this.priority=0,this.cullingDistance=-1,St.call(this,t),this.shader=A};e["h3d.scene.Light"]=Et,Et.__name__="h3d.scene.Light",Et.__super__=St,Et.prototype=r(St.prototype,{emit:function(A){A.emitLight(this)},getShadowDirection:function(){return null},__class__:Et});var It=function(){this.ambientLight=new dA(1,1,1)};e["h3d.scene.LightSystem"]=It,It.__name__="h3d.scene.LightSystem",It.prototype={initGlobals:function(A){},cullLights:function(){for(var A=this.ctx.lights,t=null,e=new yA;null!=A;)e.x=A.absPos._41,e.y=A.absPos._42,e.z=A.absPos._43,e.r=A.cullingDistance,A.cullingDistance>0&&!this.ctx.computingStatic&&!this.ctx.camera.frustum.hasSphere(e)?(null==t?this.ctx.lights=A.next:t.next=A.next,A=A.next):(this.lightCount++,A.objectDistance=0,t=A,A=A.next)},initLights:function(A){if(this.lightCount=0,this.ctx=A,this.cullLights(),null==this.shadowLight||0==(32&this.shadowLight.flags))for(var t=A.lights;null!=t;){if(null!=t.getShadowDirection()){this.shadowLight=t;break}t=t.next}},computeLight:function(A,t){return t},__class__:It};var Dt=function(A,t){this.gid=A,this.value=t};e["h3d.scene._RenderContext.SharedGlobal"]=Dt,Dt.__name__="h3d.scene._RenderContext.SharedGlobal",Dt.prototype={__class__:Dt};var Qt=function(){N.call(this),this.cachedShaderList=[],this.cachedPassObjects=[]};e["h3d.scene.RenderContext"]=Qt,Qt.__name__="h3d.scene.RenderContext",Qt.__super__=N,Qt.prototype=r(N.prototype,{start:function(){this.sharedGlobals=[],this.lights=null,this.drawPass=null,this.passes=null,this.lights=null,this.cachedPos=0,this.visibleFlag=!0,this.time+=this.elapsedTime,this.frame++},setGlobalID:function(A,t){for(var e=0,s=this.sharedGlobals;e<s.length;){var i=s[e];if(++e,i.gid==A)return void(i.value=t)}this.sharedGlobals.push(new Dt(A,t))},emitPass:function(A,t){var e=this.allocPool;return null==e?((e=new vt).nextAlloc=this.allocFirst,this.allocFirst=e):this.allocPool=e.nextAlloc,e.pass=A,e.obj=t,e.next=this.passes,this.passes=e,e},allocShaderList:function(A,t){var e=this.cachedShaderList[this.cachedPos++];return null==e&&(e=new Bi(null),this.cachedShaderList[this.cachedPos-1]=e),e.s=A,e.next=t,e},emitLight:function(A){A.next=this.lights,this.lights=A},done:function(){this.drawPass=null;for(var A=this.allocFirst;null!=A&&A!=this.allocPool;)A.obj=null,A.pass=null,A.shader=null,A.shaders=null,A.next=null,A.index=0,A.texture=0,A=A.nextAlloc;null!=this.allocPool&&(this.allocFirst=this.allocFirst.nextAlloc),this.allocPool=this.allocFirst;for(var t=0,e=this.cachedShaderList;t<e.length;){var s=e[t];++t,s.s=null,s.next=null}this.passes=null,this.lights=null},__class__:Qt});var Vt=function(){this.passes=new mt};e["h3d.scene.PassObjects"]=Vt,Vt.__name__="h3d.scene.PassObjects",Vt.prototype={__class__:Vt};var Rt=function(){this.hasSetTarget=!1,this.emptyPasses=new mt,this.allPasses=[],this.passObjects=new Ue,this.set_props(this.getDefaultProps());var A=Di(this,this.depthSort);this.frontToBack=function(t){A(true,t)};var t=Di(this,this.depthSort);this.backToFront=function(A){t(false,A)}};e["h3d.scene.Renderer"]=Rt,Rt.__name__="h3d.scene.Renderer",Rt.__super__=RA,Rt.prototype=r(RA.prototype,{depthSort:function(A,t){for(var e=this.ctx.camera.m,s=t.current;null!=s;){var i=s;s=s.next;var r=(d=i).obj.absPos._41*e._13+d.obj.absPos._42*e._23+d.obj.absPos._43*e._33+e._43,n=d.obj.absPos._41*e._14+d.obj.absPos._42*e._24+d.obj.absPos._43*e._34+e._44;d.depth=r/n}if(A){if(null==(_=t.current))i=null;else{for(var a=1,h=0,l=0;;){for(d=_,_=null,x=null,c=0;null!=d;){++c,p=d,h=0;for(var o=0,u=a;o<u;){o++;if(++h,null==(p=p.next))break}for(l=a;h>0||l>0&&null!=p;)0==h?(f=p,p=p.next,--l):0==l||null==p||(d.pass.layer==p.pass.layer?d.depth>p.depth?1:-1:d.pass.layer-p.pass.layer)<=0?(f=d,d=d.next,--h):(f=p,p=p.next,--l),null!=x?x.next=f:_=f,x=f;d=p}if(x.next=null,c<=1)break;a*=2}i=_}t.current=i}else{var _;if(null==(_=t.current))i=null;else{var c,d,p,f,x;for(a=1,h=0,l=0;;){for(d=_,_=null,x=null,c=0;null!=d;){++c,p=d,h=0;for(o=0,u=a;o<u;){o++;if(++h,null==(p=p.next))break}for(l=a;h>0||l>0&&null!=p;)0==h?(f=p,p=p.next,--l):0==l||null==p||(d.pass.layer==p.pass.layer?d.depth>p.depth?-1:1:d.pass.layer-p.pass.layer)<=0?(f=d,d=d.next,--h):(f=p,p=p.next,--l),null!=x?x.next=f:_=f,x=f;d=p}if(x.next=null,c<=1)break;a*=2}i=_}t.current=i}},resetTarget:function(){this.hasSetTarget&&(this.ctx.engine.popTarget(),this.hasSetTarget=!1)},has:function(A){return null!=this.passObjects.h[A]},get:function(A){var t=this.passObjects.h[A];return null==t?this.emptyPasses:(t.rendered=!0,t.passes)},render:function(){throw de.thrown("Not implemented")},computeStatic:function(){throw de.thrown("Not implemented")},start:function(){},process:function(A){this.hasSetTarget=!1;for(var t=0,e=this.allPasses;t<e.length;){var s=e[t];++t,s.setContext(this.ctx)}for(t=0;t<A.length;){s=A[t];++t,this.passObjects.h[s.name]=s}this.ctx.textures.begin(),this.ctx.computingStatic?this.computeStatic():this.render(),this.resetTarget();for(t=0;t<A.length;){s=A[t];++t,this.passObjects.h[s.name]=null}},__class__:Rt});var Ut=function(A,t){null==t&&(t=!0),null==A&&(A=!0),St.call(this,null),this.window=gs.getInstance(),this.eventListeners=[],this.hitInteractives=[],this.interactives=[],this.camera=new hA;var e=oA.CURRENT;null!=e&&(this.camera.screenRatio=e.width/e.height),this.ctx=new Qt,A&&this.set_renderer(qA.current.createRenderer()),t&&(this.lightSystem=qA.current.createLightSystem())};e["h3d.scene.Scene"]=Ut,Ut.__name__="h3d.scene.Scene",Ut.__interfaces__=[Z,_],Ut.__super__=St,Ut.prototype=r(St.prototype,{setEvents:function(A){this.events=A},dispatchListeners:function(A){for(var t=0,e=this.eventListeners;t<e.length;){var s=e[t];if(++t,s(A),!A.propagate)break}},set_renderer:function(A){return this.renderer=A,null!=A&&(A.ctx=this.ctx),A},sortHitPointByCameraDistance:function(A,t){return A.hitPoint.w>t.hitPoint.w?-1:1},dispatchEvent:function(A,t){t.handleEvent(A)},isInteractiveVisible:function(A){for(var t=A;t!=this;){if(null==t||0==(2&t.flags))return!1;t=t.parent}return!0},handleEvent:function(A,t){if(0==this.interactives.length)return null;if(0==this.hitInteractives.length){var e=2*(A.relX/this.window.get_width()-.5),s=2*-(A.relY/this.window.get_height()-.5),i=this.camera.unproject(e,s,0),r=this.camera.unproject(e,s,1),n=i.x,a=i.y;null==(H=i.z)&&(H=0),null==a&&(a=0),null==n&&(n=0);var h=n,l=a,o=H;n=r.x,a=r.y;null==(H=r.z)&&(H=0),null==a&&(a=0),null==n&&(n=0);var u=n,_=a,c=H,d=new mA;d.px=h,d.py=l,d.pz=o,d.lx=u-h,d.ly=_-l,d.lz=c-o,d.normalize();for(var p=d,f=p.px,x=p.py,g=p.pz,b=p.lx,m=p.ly,v=p.lz,w=-2147483648,y=0,B=this.interactives;y<B.length;){var C=B[y];if(++y,!(C.priority<w)){for(var k=C;null!=k&&0!=(2&k.flags);)k=k.parent;if(null==k){var M=C.getInvPos();n=p.px,a=p.py;null==(H=p.pz)&&(H=0),null==a&&(a=0),null==n&&(n=0);var S=a,T=H,F=1,E=(K=n)*M._11+S*M._21+T*M._31+F*M._41,I=K*M._12+S*M._22+T*M._32+F*M._42,D=K*M._13+S*M._23+T*M._33+F*M._43;K=E,S=I,T=D,p.px=K,p.py=S,p.pz=T;var Q=p.lx,V=p.ly;null==(J=p.lz)&&(J=0),null==V&&(V=0),null==Q&&(Q=0);var R=V,U=J,G=(j=Q)*M._11+R*M._21+U*M._31,z=j*M._12+R*M._22+U*M._32,P=j*M._13+R*M._23+U*M._33;if(j=G,R=z,U=P,p.lx=j,p.ly=R,p.lz=U,p.normalize(),p.lx==p.lx)if((q=C.shape.rayIntersection(p,C.bestMatch))<0)p.px=f,p.py=x,p.pz=g,p.lx=b,p.ly=m,p.lz=v;else{var O=p.px+q*p.lx,L=p.py+q*p.ly;null==($=p.pz+q*p.lz)&&($=0),null==L&&(L=0),null==O&&(O=0);var N=O,Y=L,X=$;if(p.px=f,p.py=x,p.pz=g,p.lx=b,p.ly=m,p.lz=v,C.hitPoint.x=N,C.hitPoint.y=Y,C.hitPoint.z=X,C.priority>w){for(;this.hitInteractives.length>0;)this.hitInteractives.pop();w=C.priority}this.hitInteractives.push(C)}else p.px=f,p.py=x,p.pz=g,p.lx=b,p.ly=m,p.lz=v}}}if(0==this.hitInteractives.length)return null;if(this.hitInteractives.length>1){for(y=0,B=this.hitInteractives;y<B.length;){C=B[y];++y;var W=C.invPos,Z=0;if(null!=C.preciseShape){var H;n=p.px,a=p.py;null==(H=p.pz)&&(H=0),null==a&&(a=0),null==n&&(n=0);var K;S=a,T=H,F=1,E=(K=n)*W._11+S*W._21+T*W._31+F*W._41,I=K*W._12+S*W._22+T*W._32+F*W._42,D=K*W._13+S*W._23+T*W._33+F*W._43;K=E,S=I,T=D,p.px=K,p.py=S,p.pz=T;var J;Q=p.lx,V=p.ly;null==(J=p.lz)&&(J=0),null==V&&(V=0),null==Q&&(Q=0);var j,q;R=V,U=J,G=(j=Q)*W._11+R*W._21+U*W._31,z=j*W._12+R*W._22+U*W._32,P=j*W._13+R*W._23+U*W._33;if(j=G,R=z,U=P,p.lx=j,p.ly=R,p.lz=U,p.normalize(),(q=C.preciseShape.rayIntersection(p,C.bestMatch))>0){var $;O=p.px+q*p.lx,L=p.py+q*p.ly;null==($=p.pz+q*p.lz)&&($=0),null==L&&(L=0),null==O&&(O=0);N=O,Y=L,X=$;C.hitPoint.x=N,C.hitPoint.y=Y,C.hitPoint.z=X}else Z=1;p.px=f,p.py=x,p.pz=g,p.lx=b,p.ly=m,p.lz=v}var AA=C.hitPoint,tA=AA.x,eA=AA.y,sA=AA.z,iA=AA.w;null==iA&&(iA=1),null==sA&&(sA=0),null==eA&&(eA=0),null==tA&&(tA=0);var rA=tA,nA=eA,aA=sA,hA=iA;hA=1;var lA=C.absPos,oA=rA*lA._11+nA*lA._21+aA*lA._31+hA*lA._41,uA=rA*lA._12+nA*lA._22+aA*lA._32+hA*lA._42,_A=rA*lA._13+nA*lA._23+aA*lA._33+hA*lA._43;rA=oA,nA=uA,aA=_A;var cA=this.camera.m,dA=rA*cA._11+nA*cA._21+aA*cA._31+hA*cA._41,pA=rA*cA._12+nA*cA._22+aA*cA._32+hA*cA._42,fA=rA*cA._13+nA*cA._23+aA*cA._33+hA*cA._43,xA=1/(rA*cA._14+nA*cA._24+aA*cA._34+hA*cA._44);rA=dA*xA,nA=pA*xA,aA=fA*xA,hA=1,C.hitPoint.w=aA+Z}this.hitInteractives.sort(Di(this,this.sortHitPointByCameraDistance))}this.hitInteractives.unshift(null)}for(;this.hitInteractives.length>0;){if(null==(C=this.hitInteractives.pop()))return null;if(A.relX=C.hitPoint.x,A.relY=C.hitPoint.y,A.relZ=C.hitPoint.z,C.handleEvent(A),!A.cancel){if(!A.propagate)for(;this.hitInteractives.length>0;)this.hitInteractives.pop();return C}A.cancel=!1,A.propagate=!1}return null},addEventTarget:function(A){if(this.interactives.indexOf(A)>=0)throw de.thrown("assert");this.interactives.push(A)},removeEventTarget:function(A){o.remove(this.interactives,A)&&(null!=this.events&&this.events.onRemove(A),o.remove(this.hitInteractives,A))},setElapsedTime:function(A){this.ctx.elapsedTime=A},render:function(A){0==(32&this.flags)&&this.onAdd();var t=A.getCurrentTarget();this.camera.screenRatio=null==t?A.width/A.height:t.width/t.height,this.camera.update(),this.camera.rightHanded&&A.driver.setRenderFlag(CA.CameraHandness,1),this.ctx.camera=this.camera,this.ctx.engine=A,this.ctx.scene=this,this.ctx.start(),this.renderer.start(),this.syncRec(this.ctx),this.emitRec(this.ctx);var e,s=this.ctx.passes;if(null==s)e=null;else{for(var i,r,n,a,h=1,l=0,o=0;;){for(g=s,s=null,a=null,i=0;null!=g;){++i,r=g,l=0;for(var u=0,_=h;u<_;){var c=u++;if(++l,null==(r=r.next))break}for(o=h;l>0||o>0&&null!=r;)0==l?(n=r,r=r.next,--o):0==o||null==r||g.pass.passId-r.pass.passId<=0?(n=g,g=g.next,--l):(n=r,r=r.next,--o),null!=a?a.next=n:s=n,a=n;g=r}if(a.next=null,i<=1)break;h*=2}e=s}this.ctx.passes=e;for(var d=this.ctx.passes,p=[],f=-1;null!=d;){for(var x=d.pass.passId,g=d,b=null;null!=g&&g.pass.passId==x;)b=g,g=g.next;b.next=null;var m=this.ctx.cachedPassObjects[++f];null==m&&(m=new Vt,this.ctx.cachedPassObjects[f]=m),m.name=d.pass.name,(v=m.passes).current=d,v.discarded=v.lastDisc=null,p.push(m),d=g}null!=this.lightSystem&&(this.ctx.lightSystem=this.lightSystem,this.lightSystem.initLights(this.ctx)),this.renderer.process(p),this.camera.rightHanded&&A.driver.setRenderFlag(CA.CameraHandness,0),this.ctx.done(),this.ctx.scene=null,this.ctx.camera=null,this.ctx.engine=null;for(u=0,_=f;u<_;){var v;c=u++;(g=this.ctx.cachedPassObjects[c]).name=null,(v=g.passes).current=null,v.discarded=v.lastDisc=null}},__class__:Ut});var Gt=function(){this.perPixelLighting=!0,this.maxLightsPerObject=6,It.call(this);var A=this.ambientLight,t=.5,e=.5,s=.5;null==s&&(s=0),null==e&&(e=0),null==t&&(t=0),A.x=t,A.y=e,A.z=s,A.w=1,this.ambientShader=new Lt,this.set_additiveLighting(!0)};e["h3d.scene.fwd.LightSystem"]=Gt,Gt.__name__="h3d.scene.fwd.LightSystem",Gt.__super__=It,Gt.prototype=r(It.prototype,{set_additiveLighting:function(A){var t=this.ambientShader,e=t instanceof Lt?t:null;return e.constModified=!0,e.additive__=A},initLights:function(A){if(It.prototype.initLights.call(this,A),this.lightCount<=this.maxLightsPerObject){var t,e=A.lights,s=Di(this,this.sortLight);if(null==e)t=null;else{for(var i,r,n,a,h,l=1,o=0,u=0;;){for(r=e,e=null,h=null,i=0;null!=r;){++i,n=r,o=0;for(var _=0,c=l;_<c;){_++;if(++o,null==(n=n.next))break}for(u=l;o>0||u>0&&null!=n;)0==o?(a=n,n=n.next,--u):0==u||null==n||s(r,n)<=0?(a=r,r=r.next,--o):(a=n,n=n.next,--u),null!=h?h.next=a:e=a,h=a;r=n}if(h.next=null,i<=1)break;l*=2}t=e}A.lights=t}},initGlobals:function(A){A.set("global.ambientLight",this.ambientLight),A.set("global.perPixelLighting",this.perPixelLighting)},sortLight:function(A,t){var e=A.priority-t.priority;return 0!=e?-e:A.objectDistance<t.objectDistance?-1:1},computeLight:function(A,t){if(this.lightCount>this.maxLightsPerObject){for(var e=this.ctx.lights;null!=e;){if(0!=(16&A.flags)){var s=e.absPos._41-this.ctx.camera.target.x,i=e.absPos._42-this.ctx.camera.target.y,r=e.absPos._43-this.ctx.camera.target.z;null==r&&(r=0),e.objectDistance=s*s+i*i+r*r}else{var n=e.absPos._41-A.absPos._41,a=e.absPos._42-A.absPos._42,h=e.absPos._43-A.absPos._43;null==h&&(h=0),e.objectDistance=n*n+a*a+h*h}e=e.next}var l,o=this.ctx.lights,u=Di(this,this.sortLight);if(null==o)l=null;else{for(var _,c,d,p,f,x=1,g=0,b=0;;){for(c=o,o=null,f=null,_=0;null!=c;){++_,d=c,g=0;for(var m=0,v=x;m<v;){var w=m++;if(++g,null==(d=d.next))break}for(b=x;g>0||b>0&&null!=d;)0==g?(p=d,d=d.next,--b):0==b||null==d||u(c,d)<=0?(p=c,c=c.next,--g):(p=d,d=d.next,--b),null!=f?f.next=p:o=p,f=p;c=d}if(f.next=null,_<=1)break;x*=2}l=o}this.ctx.lights=l}t=this.ctx.allocShaderList(this.ambientShader,t);for(e=this.ctx.lights,w=0;null!=e&&w++!=this.maxLightsPerObject;)t=this.ctx.allocShaderList(e.shader,t),e=e.next;return t},__class__:Gt});var zt=function(){this.enableSky=!1,pt.call(this,"depth"),this.depthMapId=oi.allocID("depthMap")};e["h3d.scene.fwd.DepthPass"]=zt,zt.__name__="h3d.scene.fwd.DepthPass",zt.__super__=pt,zt.prototype=r(pt.prototype,{getOutputs:function(){return[fi.PackFloat(fi.Value("output.depth"))]},draw:function(A,t){var e=this.ctx.textures.allocTarget("depthMap",this.ctx.engine.width,this.ctx.engine.height,!0);this.ctx.engine.pushTarget(e),this.ctx.engine.clear(this.enableSky?0:16711680,1),pt.prototype.draw.call(this,A,t),this.ctx.engine.popTarget(),this.ctx.setGlobalID(this.depthMapId,{texture:e})},__class__:zt});var Pt=function(){pt.call(this,"normal"),this.normalMapId=oi.allocID("normalMap")};e["h3d.scene.fwd.NormalPass"]=Pt,Pt.__name__="h3d.scene.fwd.NormalPass",Pt.__super__=pt,Pt.prototype=r(pt.prototype,{getOutputs:function(){return[fi.PackNormal(fi.Value("output.normal"))]},draw:function(A,t){var e=this.ctx.textures.allocTarget("normalMap",this.ctx.engine.width,this.ctx.engine.height);this.ctx.engine.pushTarget(e),this.ctx.engine.clear(8421504,1),pt.prototype.draw.call(this,A,t),this.ctx.engine.popTarget(),this.ctx.setGlobalID(this.normalMapId,e)},__class__:Pt});var Ot=function(){this.shadow=new gt(1024),this.normal=new Pt,this.depth=new zt,Rt.call(this),this.defaultPass=new pt("default"),this.allPasses=[this.defaultPass,this.depth,this.normal,this.shadow]};e["h3d.scene.fwd.Renderer"]=Ot,Ot.__name__="h3d.scene.fwd.Renderer",Ot.__super__=Rt,Ot.prototype=r(Rt.prototype,{renderPass:function(A,t,e){A.draw(t,e)},render:function(){this.has("shadow")&&this.renderPass(this.shadow,this.get("shadow")),this.has("depth")&&this.renderPass(this.depth,this.get("depth")),this.has("normal")&&this.renderPass(this.normal,this.get("normal")),this.renderPass(this.defaultPass,this.get("default")),this.renderPass(this.defaultPass,this.get("alpha"),this.backToFront),this.renderPass(this.defaultPass,this.get("additive"))},__class__:Ot});var Lt=function(){at.call(this)};e["h3d.shader.AmbientLight"]=Lt,Lt.__name__="h3d.shader.AmbientLight",Lt.__super__=at,Lt.prototype=r(at.prototype,{updateConstants:function(A){this.constBits=0,this.additive__&&(this.constBits|=2),this.updateConstantsFinal(A)},getParamValue:function(A){return 0==A?this.additive__:null},getParamFloatValue:function(A){return 0},__class__:Lt});var Nt=function(){this.viewportB__=new dA,this.viewportA__=new dA,this.halfPixelInverse__=new dA,this.uvPos__=new dA,this.filterMatrixB__=new dA,this.filterMatrixA__=new dA,this.absoluteMatrixB__=new dA,this.absoluteMatrixA__=new dA,this.color__=new dA,this.zValue__=0,at.call(this)};e["h3d.shader.Base2d"]=Nt,Nt.__name__="h3d.shader.Base2d",Nt.__super__=at,Nt.prototype=r(at.prototype,{updateConstants:function(A){this.constBits=0,this.isRelative__&&(this.constBits|=1),this.hasUVPos__&&(this.constBits|=2),this.killAlpha__&&(this.constBits|=4),this.pixelAlign__&&(this.constBits|=8),this.updateConstantsFinal(A)},getParamValue:function(A){switch(A){case 0:return this.zValue__;case 1:return this.texture__;case 2:return this.isRelative__;case 3:return this.color__;case 4:return this.absoluteMatrixA__;case 5:return this.absoluteMatrixB__;case 6:return this.filterMatrixA__;case 7:return this.filterMatrixB__;case 8:return this.hasUVPos__;case 9:return this.uvPos__;case 10:return this.killAlpha__;case 11:return this.pixelAlign__;case 12:return this.halfPixelInverse__;case 13:return this.viewportA__;case 14:return this.viewportB__}return null},getParamFloatValue:function(A){return 0==A?this.zValue__:0},__class__:Nt});var Yt=function(){var A,t,e,s;this.specularColor__=new dA,this.specularAmount__=0,this.specularPower__=0,this.color__=new dA,at.call(this),null==(s=1)&&(s=0),null==(e=1)&&(e=0),null==(t=1)&&(t=0),(A=this.color__).x=t,A.y=e,A.z=s,A.w=1,null==(s=1)&&(s=0),null==(e=1)&&(e=0),null==(t=1)&&(t=0),(A=this.specularColor__).x=t,A.y=e,A.z=s,A.w=1,this.specularPower__=50,this.specularAmount__=1};e["h3d.shader.BaseMesh"]=Yt,Yt.__name__="h3d.shader.BaseMesh",Yt.__super__=at,Yt.prototype=r(at.prototype,{updateConstants:function(A){this.constBits=0,this.updateConstantsFinal(A)},getParamValue:function(A){switch(A){case 0:return this.color__;case 1:return this.specularPower__;case 2:return this.specularAmount__;case 3:return this.specularColor__}return null},getParamFloatValue:function(A){switch(A){case 1:return this.specularPower__;case 2:return this.specularAmount__}return 0},__class__:Yt});var Xt=function(){this.cubeDir__=new _A,this.fixedColor__=new dA,this.pixel__=new dA,this.offsets__=[],this.values__=[],this.Quality__=0,this.cameraInverseViewProj__=new _A,ht.call(this)};e["h3d.shader.Blur"]=Xt,Xt.__name__="h3d.shader.Blur",Xt.__super__=ht,Xt.prototype=r(ht.prototype,{updateConstants:function(A){this.constBits=0;var t=this.Quality__;if(t>>>8!=0)throw de.thrown("Quality is out of range "+t+">255");this.constBits|=t,this.isDepth__&&(this.constBits|=256),this.hasFixedColor__&&(this.constBits|=512),this.smoothFixedColor__&&(this.constBits|=1024),this.isDepthDependant__&&(this.constBits|=2048),this.hasNormal__&&(this.constBits|=4096),this.isCube__&&(this.constBits|=8192),this.updateConstantsFinal(A)},getParamValue:function(A){switch(A){case 0:return this.flipY__;case 1:return this.cameraInverseViewProj__;case 2:return this.texture__;case 3:return this.depthTexture__;case 4:return this.Quality__;case 5:return this.isDepth__;case 6:return this.values__;case 7:return this.offsets__;case 8:return this.pixel__;case 9:return this.hasFixedColor__;case 10:return this.smoothFixedColor__;case 11:return this.fixedColor__;case 12:return this.isDepthDependant__;case 13:return this.hasNormal__;case 14:return this.normalTexture__;case 15:return this.isCube__;case 16:return this.cubeTexture__;case 17:return this.cubeDir__}return null},getParamFloatValue:function(A){return 0==A?this.flipY__:0},__class__:Xt});var Wt=function(A){this.globals=new Float32Array(A.globalsSize<<2),this.params=new Float32Array(A.paramsSize<<2);var t,e=new Array(A.texturesCount);(this.tex=e,A.bufferCount>0)?t=e=new Array(A.bufferCount):t=null;this.buffers=t};e["h3d.shader.ShaderBuffers"]=Wt,Wt.__name__="h3d.shader.ShaderBuffers",Wt.prototype={grow:function(A){var t=A.globalsSize<<2,e=A.paramsSize<<2,s=A.texturesCount,i=A.bufferCount;if(this.globals.length<t&&(this.globals=new Float32Array(t)),this.params.length<e&&(this.params=new Float32Array(e)),this.tex.length<s){var r=new Array(s);this.tex=r}if(i>0&&(null==this.buffers||this.buffers.length<i)){r=new Array(i);this.buffers=r}},__class__:Wt};var Zt=function(A){this.vertex=new Wt(A.vertex),this.fragment=new Wt(A.fragment)};e["h3d.shader.Buffers"]=Zt,Zt.__name__="h3d.shader.Buffers",Zt.prototype={__class__:Zt};var Ht=function(A){null==A&&(A=0),this.color__=new dA,at.call(this);var t=this.color__;t.x=(A>>16&255)/255,t.y=(A>>8&255)/255,t.z=(255&A)/255,t.w=(A>>>24)/255};e["h3d.shader.ColorAdd"]=Ht,Ht.__name__="h3d.shader.ColorAdd",Ht.__super__=at,Ht.prototype=r(at.prototype,{updateConstants:function(A){this.constBits=0,this.updateConstantsFinal(A)},getParamValue:function(A){return 0==A?this.color__:null},getParamFloatValue:function(A){return 0},__class__:Ht});var Kt=function(A){null==A&&(A=0),this.colorKey__=new dA,at.call(this);var t=this.colorKey__;t.x=(A>>16&255)/255,t.y=(A>>8&255)/255,t.z=(255&A)/255,t.w=(A>>>24)/255};e["h3d.shader.ColorKey"]=Kt,Kt.__name__="h3d.shader.ColorKey",Kt.__super__=at,Kt.prototype=r(at.prototype,{updateConstants:function(A){this.constBits=0,this.updateConstantsFinal(A)},getParamValue:function(A){return 0==A?this.colorKey__:null},getParamFloatValue:function(A){return 0},__class__:Kt});var Jt=function(A){this.matrix__=new _A,at.call(this),null!=A?this.matrix__.loadValues(A):this.matrix__.identity()};e["h3d.shader.ColorMatrix"]=Jt,Jt.__name__="h3d.shader.ColorMatrix",Jt.__super__=at,Jt.prototype=r(at.prototype,{updateConstants:function(A){this.constBits=0,this.updateConstantsFinal(A)},getParamValue:function(A){return 0==A?this.matrix__:null},getParamFloatValue:function(A){return 0},__class__:Jt});var jt=function(){this.poissonDiskVeryHigh__=[],this.poissonDiskHigh__=[],this.poissonDiskLow__=[],this.shadowBias__=0,this.shadowProj__=new _A,this.shadowMapChannel__=ei.Unknown,this.shadowRes__=new dA,this.pcfScale__=0,this.pcfQuality__=0,this.shadowPower__=0,at.call(this),this.poissonDiskLow__=[new dA(-.942,-.399),new dA(.945,-.768),new dA(-.094,-.929),new dA(.344,.293)],this.poissonDiskHigh__=[new dA(-.326,-.406),new dA(-.84,-.074),new dA(-.696,.457),new dA(-.203,.621),new dA(.962,-.195),new dA(.473,-.48),new dA(.519,.767),new dA(.185,-.893),new dA(.507,.064),new dA(.896,.412),new dA(-.322,-.933),new dA(-.792,-.598)],this.poissonDiskVeryHigh__=[new dA(-.613392,.617481),new dA(.170019,-.040254),new dA(-.299417,.791925),new dA(.64568,.49321),new dA(-.651784,.717887),new dA(.421003,.02707),new dA(-.817194,-.271096),new dA(-.705374,-.668203),new dA(.97705,-.108615),new dA(.063326,.142369),new dA(.203528,.214331),new dA(-.667531,.32609),new dA(-.098422,-.295755),new dA(-.885922,.215369),new dA(.566637,.605213),new dA(.039766,-.3961),new dA(.751946,.453352),new dA(.078707,-.715323),new dA(-.075838,-.529344),new dA(.724479,-.580798),new dA(.222999,-.215125),new dA(-.467574,-.405438),new dA(-.248268,-.814753),new dA(.354411,-.88757),new dA(.175817,.382366),new dA(.487472,-.063082),new dA(-.084078,.898312),new dA(.488876,-.783441),new dA(.470016,.217933),new dA(-.69689,-.549791),new dA(-.149693,.605762),new dA(.034211,.97998),new dA(.503098,-.308878),new dA(-.016205,-.872921),new dA(.385784,-.393902),new dA(-.146886,-.859249),new dA(.643361,.164098),new dA(.634388,-.049471),new dA(-.688894,.007843),new dA(.464034,-.188818),new dA(-.44084,.137486),new dA(.364483,.511704),new dA(.034028,.325968),new dA(.099094,-.308023),new dA(.69396,-.366253),new dA(.678884,-.204688),new dA(.001801,.780328),new dA(.145177,-.898984),new dA(.062655,-.611866),new dA(.315226,-.604297),new dA(-.780145,.486251),new dA(-.371868,.882138),new dA(.200476,.49443),new dA(-.494552,-.711051),new dA(.612476,.705252),new dA(-.578845,-.768792),new dA(-.772454,-.090976),new dA(.50444,.372295),new dA(.155736,.065157),new dA(.391522,.849605),new dA(-.620106,-.328104),new dA(.789239,-.419965),new dA(-.545396,.538133),new dA(-.178564,-.596057)]};e["h3d.shader.DirShadow"]=jt,jt.__name__="h3d.shader.DirShadow",jt.__super__=at,jt.prototype=r(at.prototype,{updateConstants:function(A){this.constBits=0,this.enable__&&(this.constBits|=1),this.USE_ESM__&&(this.constBits|=2),this.USE_PCF__&&(this.constBits|=4);var t=this.pcfQuality__;if(t>>>8!=0)throw de.thrown("pcfQuality is out of range "+t+">255");if(this.constBits|=t<<3,null==this.shadowMap__)this.shadowMapChannel__=ei.Unknown;else if(this.shadowMapChannel__==ei.Unknown){if(this.shadowMap__.format!=et.nativeFormat)throw de.thrown("shadowMapChannel is not set");this.shadowMapChannel__=ei.PackedFloat}this.constBits|=(A.allocChannelID(this.shadowMap__)<<3|this.shadowMapChannel__._hx_index)<<11,this.updateConstantsFinal(A)},getParamValue:function(A){switch(A){case 0:return this.enable__;case 1:return this.USE_ESM__;case 2:return this.shadowPower__;case 3:return this.USE_PCF__;case 4:return this.pcfQuality__;case 5:return this.pcfScale__;case 6:return this.shadowRes__;case 7:return this.shadowMap__;case 8:return this.shadowProj__;case 9:return this.shadowBias__;case 10:return this.poissonDiskLow__;case 11:return this.poissonDiskHigh__;case 12:return this.poissonDiskVeryHigh__}return null},getParamFloatValue:function(A){switch(A){case 2:return this.shadowPower__;case 5:return this.pcfScale__;case 9:return this.shadowBias__}return 0},__class__:jt});var qt=function(){this.color__=new dA,this.mode__=0,ht.call(this)};e["h3d.shader.GenTexture"]=qt,qt.__name__="h3d.shader.GenTexture",qt.__super__=ht,qt.prototype=r(ht.prototype,{updateConstants:function(A){this.constBits=0;var t=this.mode__;if(t>>>8!=0)throw de.thrown("mode is out of range "+t+">255");this.constBits|=t,this.updateConstantsFinal(A)},getParamValue:function(A){switch(A){case 0:return this.flipY__;case 1:return this.mode__;case 2:return this.color__}return null},getParamFloatValue:function(A){return 0==A?this.flipY__:0},__class__:qt});var $t=function(A,t){null==t&&(t=1),null==A&&(A=1.5),this.width__=0,this.lengthScale__=0,at.call(this),this.width__=A,this.lengthScale__=t};e["h3d.shader.LineShader"]=$t,$t.__name__="h3d.shader.LineShader",$t.__super__=at,$t.prototype=r(at.prototype,{updateConstants:function(A){this.constBits=0,this.updateConstantsFinal(A)},getParamValue:function(A){switch(A){case 0:return this.lengthScale__;case 1:return this.width__}return null},getParamFloatValue:function(A){switch(A){case 0:return this.lengthScale__;case 1:return this.width__}return 0},__class__:$t});var Ae=function(){ht.call(this)};e["h3d.shader.MinMaxShader"]=Ae,Ae.__name__="h3d.shader.MinMaxShader",Ae.__super__=ht,Ae.prototype=r(ht.prototype,{updateConstants:function(A){this.constBits=0,this.isMax__&&(this.constBits|=1),this.updateConstantsFinal(A)},getParamValue:function(A){switch(A){case 0:return this.flipY__;case 1:return this.texA__;case 2:return this.texB__;case 3:return this.isMax__}return null},getParamFloatValue:function(A){return 0==A?this.flipY__:0},__class__:Ae});var te=function(){this.mat__=new _A,ht.call(this)};e["h3d.shader.CubeMinMaxShader"]=te,te.__name__="h3d.shader.CubeMinMaxShader",te.__super__=ht,te.prototype=r(ht.prototype,{updateConstants:function(A){this.constBits=0,this.isMax__&&(this.constBits|=1),this.updateConstantsFinal(A)},getParamValue:function(A){switch(A){case 0:return this.flipY__;case 1:return this.texA__;case 2:return this.texB__;case 3:return this.isMax__;case 4:return this.mat__}return null},getParamFloatValue:function(A){return 0==A?this.flipY__:0},__class__:te});var ee=function(A){at.call(this),this.texture__=A};e["h3d.shader.NormalMap"]=ee,ee.__name__="h3d.shader.NormalMap",ee.__super__=at,ee.prototype=r(at.prototype,{updateConstants:function(A){this.constBits=0,this.updateConstantsFinal(A)},getParamValue:function(A){return 0==A?this.texture__:null},getParamFloatValue:function(A){return 0},__class__:ee});var se=function(){at.call(this)};e["h3d.shader.Shadow"]=se,se.__name__="h3d.shader.Shadow",se.__super__=at,se.prototype=r(at.prototype,{updateConstants:function(A){this.constBits=0,this.updateConstantsFinal(A)},getParamValue:function(A){return null},getParamFloatValue:function(A){return 0},__class__:se});var ie=function(){this.bonesMatrixes__=[],this.MaxBones__=0,at.call(this),this.constModified=!0,this.MaxBones__=34};e["h3d.shader.SkinBase"]=ie,ie.__name__="h3d.shader.SkinBase",ie.__super__=at,ie.prototype=r(at.prototype,{updateConstants:function(A){this.constBits=0;var t=this.MaxBones__;if(t>>>8!=0)throw de.thrown("MaxBones is out of range "+t+">255");this.constBits|=t,this.updateConstantsFinal(A)},getParamValue:function(A){switch(A){case 0:return this.MaxBones__;case 1:return this.bonesMatrixes__}return null},getParamFloatValue:function(A){return 0},__class__:ie});var re=function(){ie.call(this)};e["h3d.shader.Skin"]=re,re.__name__="h3d.shader.Skin",re.__super__=ie,re.prototype=r(ie.prototype,{updateConstants:function(A){this.constBits=0;var t=this.MaxBones__;if(t>>>8!=0)throw de.thrown("MaxBones is out of range "+t+">255");this.constBits|=t,this.updateConstantsFinal(A)},getParamValue:function(A){switch(A){case 0:return this.MaxBones__;case 1:return this.bonesMatrixes__}return null},getParamFloatValue:function(A){return 0},__class__:re});var ne=function(){ie.call(this)};e["h3d.shader.SkinTangent"]=ne,ne.__name__="h3d.shader.SkinTangent",ne.__super__=ie,ne.prototype=r(ie.prototype,{updateConstants:function(A){this.constBits=0;var t=this.MaxBones__;if(t>>>8!=0)throw de.thrown("MaxBones is out of range "+t+">255");this.constBits|=t,this.updateConstantsFinal(A)},getParamValue:function(A){switch(A){case 0:return this.MaxBones__;case 1:return this.bonesMatrixes__}return null},getParamFloatValue:function(A){return 0},__class__:ne});var ae=function(A){at.call(this),this.texture__=A};e["h3d.shader.SpecularTexture"]=ae,ae.__name__="h3d.shader.SpecularTexture",ae.__super__=at,ae.prototype=r(at.prototype,{updateConstants:function(A){this.constBits=0,this.updateConstantsFinal(A)},getParamValue:function(A){return 0==A?this.texture__:null},getParamFloatValue:function(A){return 0},__class__:ae});var he=function(A){this.killAlphaThreshold__=0,at.call(this),this.texture__=A,this.killAlphaThreshold__=ZA.defaultKillAlphaThreshold};e["h3d.shader.Texture"]=he,he.__name__="h3d.shader.Texture",he.__super__=at,he.prototype=r(at.prototype,{updateConstants:function(A){this.constBits=0,this.additive__&&(this.constBits|=1),this.killAlpha__&&(this.constBits|=2),this.specularAlpha__&&(this.constBits|=4),this.updateConstantsFinal(A)},getParamValue:function(A){switch(A){case 0:return this.additive__;case 1:return this.killAlpha__;case 2:return this.specularAlpha__;case 3:return this.killAlphaThreshold__;case 4:return this.texture__}return null},getParamFloatValue:function(A){return 3==A?this.killAlphaThreshold__:0},__class__:he});var le=function(A,t,e,s){var i,r,n;null==s&&(s=1),null==e&&(e=1),null==t&&(t=0),null==A&&(A=0),this.uvScale__=new dA,this.uvDelta__=new dA,at.call(this),null==(n=t)&&(n=0),null==(r=A)&&(r=0),(i=this.uvDelta__).x=r,i.y=n,i.z=0,i.w=1,null==(n=s)&&(n=0),null==(r=e)&&(r=0),(i=this.uvScale__).x=r,i.y=n,i.z=0,i.w=1};e["h3d.shader.UVDelta"]=le,le.__name__="h3d.shader.UVDelta",le.__super__=at,le.prototype=r(at.prototype,{updateConstants:function(A){this.constBits=0,this.updateConstantsFinal(A)},getParamValue:function(A){switch(A){case 0:return this.uvDelta__;case 1:return this.uvScale__}return null},getParamFloatValue:function(A){return 0},__class__:le});var oe=function(){at.call(this)};e["h3d.shader.VertexColorAlpha"]=oe,oe.__name__="h3d.shader.VertexColorAlpha",oe.__super__=at,oe.prototype=r(at.prototype,{updateConstants:function(A){this.constBits=0,this.additive__&&(this.constBits|=1),this.updateConstantsFinal(A)},getParamValue:function(A){return 0==A?this.additive__:null},getParamFloatValue:function(A){return 0},__class__:oe});var ue=function(A,t){var e,s,i,r;this.isCentered__=!0,this.tangent__=new dA,this.normal__=new dA,this.scale__=new dA,at.call(this),null==(e=1)&&(e=0),null==(r=0)&&(r=0),null==(i=0)&&(i=0),(s=this.normal__).x=i,s.y=r,s.z=e,s.w=1,null==(e=0)&&(e=0),null==(r=0)&&(r=0),null==(i=1)&&(i=0),(s=this.tangent__).x=i,s.y=r,s.z=e,s.w=1,null==(r=1/t)&&(r=0),null==(i=1/A)&&(i=0),(s=this.scale__).x=i,s.y=r,s.z=0,s.w=1};e["h3d.shader.VolumeDecal"]=ue,ue.__name__="h3d.shader.VolumeDecal",ue.__super__=at,ue.prototype=r(at.prototype,{updateConstants:function(A){this.constBits=0,this.isCentered__&&(this.constBits|=64),this.updateConstantsFinal(A)},getParamValue:function(A){switch(A){case 0:return this.scale__;case 1:return this.normal__;case 2:return this.tangent__;case 3:return this.isCentered__}return null},getParamFloatValue:function(A){return 0},__class__:ue});var _e=function(){};e["haxe.IMap"]=_e,_e.__name__="haxe.IMap",_e.__isInterface__=!0;var ce=function(){};e["haxe.EntryPoint"]=ce,ce.__name__="haxe.EntryPoint",ce.processEvents=function(){for(;;){var A=ce.pending.shift();if(null==A)break;A()}var t=xe.tick();return xe.hasEvents()||0!=ce.threadCount?t:-1},ce.run=function(){var A=ce.processEvents();if("undefined"!=typeof window){var t=window,e=t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame;null!=e?e(ce.run):A>=0&&setTimeout(ce.run,1e3*A)}else A>=0&&setTimeout(ce.run,1e3*A)};var de=function(A,t,e){Error.call(this,A),this.message=A,this.__previousException=t,this.__nativeException=null!=e?e:this};e["haxe.Exception"]=de,de.__name__="haxe.Exception",de.caught=function(A){return A instanceof de?A:A instanceof Error?new de(A.message,null,A):new we(A,null,A)},de.thrown=function(A){return A instanceof de?A.get_native():A instanceof Error?A:new we(A)},de.__super__=Error,de.prototype=r(Error.prototype,{unwrap:function(){return this.__nativeException},toString:function(){return this.get_message()},get_message:function(){return this.message},get_native:function(){return this.__nativeException},__class__:de});var pe=function(){};e["haxe.Log"]=pe,pe.__name__="haxe.Log",pe.formatOutput=function(A,t){var e=f.string(A);if(null==t)return e;var s=t.fileName+":"+t.lineNumber;if(null!=t.customParams)for(var i=0,r=t.customParams;i<r.length;){A=r[i];++i,e+=", "+f.string(A)}return s+": "+e},pe.trace=function(A,t){var e=pe.formatOutput(A,t);"undefined"!=typeof console&&null!=console.log&&console.log(e)};var fe=function(A,t){this.isBlocking=!0,this.f=A,this.priority=t,this.nextRun=-1/0};e["haxe.MainEvent"]=fe,fe.__name__="haxe.MainEvent",fe.prototype={__class__:fe};var xe=function(){};e["haxe.MainLoop"]=xe,xe.__name__="haxe.MainLoop",xe.hasEvents=function(){for(var A=xe.pending;null!=A;){if(A.isBlocking)return!0;A=A.next}return!1},xe.add=function(A,t){if(null==t&&(t=0),null==A)throw de.thrown("Event function is null");var e=new fe(A,t),s=xe.pending;return null!=s&&(s.prev=e),e.next=s,xe.pending=e,xe.injectIntoEventLoop(0),e},xe.injectIntoEventLoop=function(A){},xe.sortEvents=function(){var A=xe.pending;if(null!=A){for(var t,e,s,i,r,n=1,a=0,h=0;;){for(e=A,A=null,r=null,t=0;null!=e;){++t,s=e,a=0;for(var l=0,o=n;l<o;){l++;if(++a,null==(s=s.next))break}for(h=n;a>0||h>0&&null!=s;)0==a?(i=s,s=s.next,--h):0==h||null==s||e.priority>s.priority||e.priority==s.priority&&e.nextRun<=s.nextRun?(i=e,e=e.next,--a):(i=s,s=s.next,--h),null!=r?r.next=i:A=i,i.prev=r,r=i;e=s}if(r.next=null,t<=1)break;n*=2}A.prev=null,xe.pending=A}},xe.tick=function(){xe.sortEvents();for(var A=xe.pending,t=o.now()/1e3,e=1e9;null!=A;){var s=A.next,i=A.nextRun-t;i<=0?(e=0,null!=A.f&&A.f()):e>i&&(e=i),A=s}return e};var ge=function(){};e["haxe.Resource"]=ge,ge.__name__="haxe.Resource",ge.getBytes=function(A){for(var t=0,e=ge.content;t<e.length;){var s=e[t];if(++t,s.name==A)return null!=s.str?Be.ofString(s.str):ke.decode(s.data)}return null};var be=function(A){var t=this;this.id=setInterval((function(){t.run()}),A)};e["haxe.Timer"]=be,be.__name__="haxe.Timer",be.delay=function(A,t){var e=new be(t);return e.run=function(){e.stop(),A()},e},be.prototype={stop:function(){null!=this.id&&(clearInterval(this.id),this.id=null)},run:function(){},__class__:be};var me=function(){};e["haxe._Unserializer.DefaultResolver"]=me,me.__name__="haxe._Unserializer.DefaultResolver",me.prototype={resolveClass:function(A){return e[A]},resolveEnum:function(A){return i[A]},__class__:me};var ve=function(A){this.buf=A,this.length=this.buf.length,this.pos=0,this.scache=[],this.cache=[];var t=ve.DEFAULT_RESOLVER;null==t&&(t=new me,ve.DEFAULT_RESOLVER=t),this.resolver=t};e["haxe.Unserializer"]=ve,ve.__name__="haxe.Unserializer",ve.initCodes=function(){for(var A=[],t=0,e=ve.BASE64.length;t<e;){var s=t++;A[ve.BASE64.charCodeAt(s)]=s}return A},ve.run=function(A){return new ve(A).unserialize()},ve.prototype={readDigits:function(){for(var A=0,t=!1,e=this.pos;;){var s=this.buf.charCodeAt(this.pos);if(s!=s)break;if(45!=s){if(s<48||s>57)break;A=10*A+(s-48),this.pos++}else{if(this.pos!=e)break;t=!0,this.pos++}}return t&&(A*=-1),A},readFloat:function(){for(var A=this.pos;;){var t=this.buf.charCodeAt(this.pos);if(t!=t)break;if(!(t>=43&&t<58||101==t||69==t))break;this.pos++}return parseFloat(o.substr(this.buf,A,this.pos-A))},unserializeObject:function(A){for(;;){if(this.pos>=this.length)throw de.thrown("Invalid object");if(103==this.buf.charCodeAt(this.pos))break;var t=this.unserialize();if("string"!=typeof t)throw de.thrown("Invalid object key");var e=this.unserialize();A[t]=e}this.pos++},unserializeEnum:function(A,t){if(58!=this.buf.charCodeAt(this.pos++))throw de.thrown("Invalid enum format");var e=this.readDigits();if(0==e)return b.createEnum(A,t);for(var s=[];e-- >0;)s.push(this.unserialize());return b.createEnum(A,t,s)},unserialize:function(){switch(this.buf.charCodeAt(this.pos++)){case 65:var A=this.unserialize();if(null==(h=this.resolver.resolveClass(A)))throw de.thrown("Class not found "+A);return h;case 66:A=this.unserialize();if(null==(f=this.resolver.resolveEnum(A)))throw de.thrown("Enum not found "+A);return f;case 67:A=this.unserialize();if(null==(h=this.resolver.resolveClass(A)))throw de.thrown("Class not found "+A);var t=Object.create(h.prototype);if(this.cache.push(t),t.hxUnserialize(this),103!=this.buf.charCodeAt(this.pos++))throw de.thrown("Invalid custom data");return t;case 77:var e=new Re;this.cache.push(e);for(var s=this.buf;104!=this.buf.charCodeAt(this.pos);){var i=this.unserialize();e.set(i,this.unserialize())}return this.pos++,e;case 82:if((n=this.readDigits())<0||n>=this.scache.length)throw de.thrown("Invalid string reference");return this.scache[n];case 97:s=this.buf;var r=[];for(this.cache.push(r);;){if(104==(g=this.buf.charCodeAt(this.pos))){this.pos++;break}if(117==g){this.pos++;var n=this.readDigits();r[r.length+n-1]=null}else r.push(this.unserialize())}return r;case 98:e=new Ue;this.cache.push(e);for(s=this.buf;104!=this.buf.charCodeAt(this.pos);){i=this.unserialize();var a=this.unserialize();e.h[i]=a}return this.pos++,e;case 99:var h;A=this.unserialize();if(null==(h=this.resolver.resolveClass(A)))throw de.thrown("Class not found "+A);t=Object.create(h.prototype);return this.cache.push(t),this.unserializeObject(t),t;case 100:return this.readFloat();case 102:return!1;case 105:return this.readDigits();case 106:A=this.unserialize();if(null==(E=this.resolver.resolveEnum(A)))throw de.thrown("Enum not found "+A);this.pos++;for(var l=this.readDigits(),u=E.__constructs__,_=new Array(u.length),c=0,d=u.length;c<d;){_[b=c++]=u[b]._hx_name}var p=_[l];if(null==p)throw de.thrown("Unknown enum index "+A+"@"+l);var f=this.unserializeEnum(E,p);return this.cache.push(f),f;case 107:return NaN;case 108:var x=new Qe;this.cache.push(x);for(s=this.buf;104!=this.buf.charCodeAt(this.pos);)x.add(this.unserialize());return this.pos++,x;case 109:return-1/0;case 110:return null;case 111:t={};return this.cache.push(t),this.unserializeObject(t),t;case 112:return 1/0;case 113:e=new De;this.cache.push(e);s=this.buf;for(var g=this.buf.charCodeAt(this.pos++);58==g;){var b=this.readDigits();a=this.unserialize();e.h[b]=a,g=this.buf.charCodeAt(this.pos++)}if(104!=g)throw de.thrown("Invalid IntMap format");return e;case 114:if((n=this.readDigits())<0||n>=this.cache.length)throw de.thrown("Invalid reference");return this.cache[n];case 115:var m=this.readDigits();s=this.buf;if(58!=this.buf.charCodeAt(this.pos++)||this.length-this.pos<m)throw de.thrown("Invalid bytes length");var v=ve.CODES;null==v&&(v=ve.initCodes(),ve.CODES=v);for(var w=3&m,y=(b=this.pos)+(m-w),B=new Be(new ArrayBuffer(3*(m>>2)+(w>=2?w-1:0))),C=0;b<y;){var k=v[s.charCodeAt(b++)],M=v[s.charCodeAt(b++)];B.b[C++]=k<<2|M>>4;var S=v[s.charCodeAt(b++)];B.b[C++]=M<<4|S>>2;var T=v[s.charCodeAt(b++)];B.b[C++]=S<<6|T}if(w>=2){k=v[s.charCodeAt(b++)],M=v[s.charCodeAt(b++)];if(B.b[C++]=k<<2|M>>4,3==w){S=v[s.charCodeAt(b++)];B.b[C++]=M<<4|S>>2}}return this.pos+=m,this.cache.push(B),B;case 116:return!0;case 118:var F;return this.buf.charCodeAt(this.pos)>=48&&this.buf.charCodeAt(this.pos)<=57&&this.buf.charCodeAt(this.pos+1)>=48&&this.buf.charCodeAt(this.pos+1)<=57&&this.buf.charCodeAt(this.pos+2)>=48&&this.buf.charCodeAt(this.pos+2)<=57&&this.buf.charCodeAt(this.pos+3)>=48&&this.buf.charCodeAt(this.pos+3)<=57&&45==this.buf.charCodeAt(this.pos+4)?(F=o.strDate(o.substr(this.buf,this.pos,19)),this.pos+=19):F=new Date(this.readFloat()),this.cache.push(F),F;case 119:var E;A=this.unserialize();if(null==(E=this.resolver.resolveEnum(A)))throw de.thrown("Enum not found "+A);f=this.unserializeEnum(E,this.unserialize());return this.cache.push(f),f;case 120:throw de.thrown(this.unserialize());case 121:m=this.readDigits();if(58!=this.buf.charCodeAt(this.pos++)||this.length-this.pos<m)throw de.thrown("Invalid string length");i=o.substr(this.buf,this.pos,m);return this.pos+=m,i=decodeURIComponent(i.split("+").join(" ")),this.scache.push(i),i;case 122:return 0}throw this.pos--,de.thrown("Invalid char "+this.buf.charAt(this.pos)+" at position "+this.pos)},__class__:ve};var we=function(A,t,e){de.call(this,String(A),t,e),this.value=A};e["haxe.ValueException"]=we,we.__name__="haxe.ValueException",we.__super__=de,we.prototype=r(de.prototype,{unwrap:function(){return this.value},__class__:we});var ye=function(){this.a1=1,this.a2=0};e["haxe.crypto.Adler32"]=ye,ye.__name__="haxe.crypto.Adler32",ye.read=function(A){var t=new ye,e=A.readByte(),s=A.readByte(),i=A.readByte(),r=A.readByte();return t.a1=i<<8|r,t.a2=e<<8|s,t},ye.prototype={update:function(A,t,e){for(var s=this.a1,i=this.a2,r=t,n=t+e;r<n;){var a=r++;i=(i+(s=(s+A.b[a])%65521))%65521}this.a1=s,this.a2=i},equals:function(A){return A.a1==this.a1&&A.a2==this.a2},__class__:ye};var Be=function(A){this.length=A.byteLength,this.b=new Uint8Array(A),this.b.bufferValue=A,A.hxBytes=this,A.bytes=this.b};e["haxe.io.Bytes"]=Be,Be.__name__="haxe.io.Bytes",Be.ofString=function(A,t){if(t==Ce.RawNative){for(var e=new Uint8Array(A.length<<1),s=0,i=A.length;s<i;){var r=s++,n=A.charCodeAt(r);e[r<<1]=255&n,e[r<<1|1]=n>>8}return new Be(e.buffer)}var a=[];for(r=0;r<A.length;){55296<=(n=A.charCodeAt(r++))&&n<=56319&&(n=n-55232<<10|1023&A.charCodeAt(r++)),n<=127?a.push(n):n<=2047?(a.push(192|n>>6),a.push(128|63&n)):n<=65535?(a.push(224|n>>12),a.push(128|n>>6&63),a.push(128|63&n)):(a.push(240|n>>18),a.push(128|n>>12&63),a.push(128|n>>6&63),a.push(128|63&n))}return new Be(new Uint8Array(a).buffer)},Be.ofData=function(A){var t=A.hxBytes;return null!=t?t:new Be(A)},Be.prototype={blit:function(A,t,e,s){if(A<0||e<0||s<0||A+s>this.length||e+s>t.length)throw de.thrown(We.OutsideBounds);0==e&&s==t.b.byteLength?this.b.set(t.b,A):this.b.set(t.b.subarray(e,e+s),A)},fill:function(A,t,e){for(var s=0,i=t;s<i;){s++;this.b[A++]=e}},getFloat:function(A){return null==this.data&&(this.data=new DataView(this.b.buffer,this.b.byteOffset,this.b.byteLength)),this.data.getFloat32(A,!0)},setFloat:function(A,t){null==this.data&&(this.data=new DataView(this.b.buffer,this.b.byteOffset,this.b.byteLength)),this.data.setFloat32(A,t,!0)},getUInt16:function(A){return null==this.data&&(this.data=new DataView(this.b.buffer,this.b.byteOffset,this.b.byteLength)),this.data.getUint16(A,!0)},getInt32:function(A){return null==this.data&&(this.data=new DataView(this.b.buffer,this.b.byteOffset,this.b.byteLength)),this.data.getInt32(A,!0)},setInt32:function(A,t){null==this.data&&(this.data=new DataView(this.b.buffer,this.b.byteOffset,this.b.byteLength)),this.data.setInt32(A,t,!0)},getString:function(A,t,e){if(A<0||t<0||A+t>this.length)throw de.thrown(We.OutsideBounds);null==e&&(e=Ce.UTF8);var s="",i=this.b,r=A,n=A+t;switch(e._hx_index){case 0:for(;r<n;){if((o=i[r++])<128){if(0==o)break;s+=String.fromCodePoint(o)}else if(o<224){var a=(63&o)<<6|127&i[r++];s+=String.fromCodePoint(a)}else if(o<240){var h=(31&o)<<12|(127&i[r++])<<6|127&i[r++];s+=String.fromCodePoint(h)}else{var l=(15&o)<<18|(127&i[r++])<<12|(127&i[r++])<<6|127&i[r++];s+=String.fromCodePoint(l)}}break;case 1:for(;r<n;){var o=i[r++]|i[r++]<<8;s+=String.fromCodePoint(o)}}return s},toString:function(){return this.getString(0,this.length)},__class__:Be};var Ce=i["haxe.io.Encoding"]={__ename__:!0,__constructs__:null,UTF8:{_hx_name:"UTF8",_hx_index:0,__enum__:"haxe.io.Encoding",toString:s},RawNative:{_hx_name:"RawNative",_hx_index:1,__enum__:"haxe.io.Encoding",toString:s}};Ce.__constructs__=[Ce.UTF8,Ce.RawNative],Ce.__empty_constructs__=[Ce.UTF8,Ce.RawNative];var ke=function(){};e["haxe.crypto.Base64"]=ke,ke.__name__="haxe.crypto.Base64",ke.decode=function(A,t){if(null==t&&(t=!0),t)for(;61==o.cca(A,A.length-1);)A=o.substr(A,0,-1);return new Me(ke.BYTES).decodeBytes(Be.ofString(A))};var Me=function(A){for(var t=A.length,e=1;t>1<<e;)++e;if(e>8||t!=1<<e)throw de.thrown("BaseCode : base length must be a power of two.");this.base=A,this.nbits=e};e["haxe.crypto.BaseCode"]=Me,Me.__name__="haxe.crypto.BaseCode",Me.prototype={initTable:function(){for(var A=[],t=0;t<256;){A[s=t++]=-1}t=0;for(var e=this.base.length;t<e;){var s=t++;A[this.base.b[s]]=s}this.tbl=A},decodeBytes:function(A){var t=this.nbits;this.base;null==this.tbl&&this.initTable();for(var e=this.tbl,s=A.length*t>>3,i=new Be(new ArrayBuffer(s)),r=0,n=0,a=0,h=0;h<s;){for(;n<8;){n+=t,r<<=t;var l=e[A.b[a++]];if(-1==l)throw de.thrown("BaseCode : invalid encoded char");r|=l}n-=8,i.b[h++]=r>>n&255}return i},__class__:Me};var Se=function(){};e["haxe.crypto.Md5"]=Se,Se.__name__="haxe.crypto.Md5",Se.encode=function(A){var t=new Se,e=t.doEncode(Se.str2blks(A));return t.hex(e)},Se.str2blks=function(A){for(var t=Be.ofString(A),e=1+(t.length+8>>6),s=[],i=0,r=16*e;i<r;){s[n=i++]=0}for(var n=0,a=t.length,h=8*a;n<a;)s[n>>2]|=t.b[n]<<(h+n)%4*8,++n;s[n>>2]|=128<<(h+n)%4*8;var l=16*e-2;return s[l]=255&h,s[l]|=(h>>>8&255)<<8,s[l]|=(h>>>16&255)<<16,s[l]|=(h>>>24&255)<<24,s},Se.prototype={bitOR:function(A,t){return(A>>>1|t>>>1)<<1|(1&A|1&t)},bitXOR:function(A,t){return(A>>>1^t>>>1)<<1|1&A^1&t},bitAND:function(A,t){return(A>>>1&t>>>1)<<1|1&A&t},addme:function(A,t){var e=(65535&A)+(65535&t);return(A>>16)+(t>>16)+(e>>16)<<16|65535&e},hex:function(A){for(var t="",e="0123456789abcdef",s=0;s<A.length;){var i=A[s];++s,t+=e.charAt(i>>4&15)+e.charAt(15&i),t+=e.charAt(i>>12&15)+e.charAt(i>>8&15),t+=e.charAt(i>>20&15)+e.charAt(i>>16&15),t+=e.charAt(i>>28&15)+e.charAt(i>>24&15)}return t},rol:function(A,t){return A<<t|A>>>32-t},cmn:function(A,t,e,s,i,r){return this.addme(this.rol(this.addme(this.addme(t,A),this.addme(s,r)),i),e)},ff:function(A,t,e,s,i,r,n){return this.cmn(this.bitOR(this.bitAND(t,e),this.bitAND(~t,s)),A,t,i,r,n)},gg:function(A,t,e,s,i,r,n){return this.cmn(this.bitOR(this.bitAND(t,s),this.bitAND(e,~s)),A,t,i,r,n)},hh:function(A,t,e,s,i,r,n){return this.cmn(this.bitXOR(this.bitXOR(t,e),s),A,t,i,r,n)},ii:function(A,t,e,s,i,r,n){return this.cmn(this.bitXOR(e,this.bitOR(t,~s)),A,t,i,r,n)},doEncode:function(A){for(var t=1732584193,e=-271733879,s=-1732584194,i=271733878,r=0;r<A.length;){var n=t,a=e,h=s,l=i;0,t=this.ff(t,e,s,i,A[r],7,-680876936),i=this.ff(i,t,e,s,A[r+1],12,-389564586),s=this.ff(s,i,t,e,A[r+2],17,606105819),e=this.ff(e,s,i,t,A[r+3],22,-1044525330),t=this.ff(t,e,s,i,A[r+4],7,-176418897),i=this.ff(i,t,e,s,A[r+5],12,1200080426),s=this.ff(s,i,t,e,A[r+6],17,-1473231341),e=this.ff(e,s,i,t,A[r+7],22,-45705983),t=this.ff(t,e,s,i,A[r+8],7,1770035416),i=this.ff(i,t,e,s,A[r+9],12,-1958414417),s=this.ff(s,i,t,e,A[r+10],17,-42063),e=this.ff(e,s,i,t,A[r+11],22,-1990404162),t=this.ff(t,e,s,i,A[r+12],7,1804603682),i=this.ff(i,t,e,s,A[r+13],12,-40341101),s=this.ff(s,i,t,e,A[r+14],17,-1502002290),e=this.ff(e,s,i,t,A[r+15],22,1236535329),t=this.gg(t,e,s,i,A[r+1],5,-165796510),i=this.gg(i,t,e,s,A[r+6],9,-1069501632),s=this.gg(s,i,t,e,A[r+11],14,643717713),e=this.gg(e,s,i,t,A[r],20,-373897302),t=this.gg(t,e,s,i,A[r+5],5,-701558691),i=this.gg(i,t,e,s,A[r+10],9,38016083),s=this.gg(s,i,t,e,A[r+15],14,-660478335),e=this.gg(e,s,i,t,A[r+4],20,-405537848),t=this.gg(t,e,s,i,A[r+9],5,568446438),i=this.gg(i,t,e,s,A[r+14],9,-1019803690),s=this.gg(s,i,t,e,A[r+3],14,-187363961),e=this.gg(e,s,i,t,A[r+8],20,1163531501),t=this.gg(t,e,s,i,A[r+13],5,-1444681467),i=this.gg(i,t,e,s,A[r+2],9,-51403784),s=this.gg(s,i,t,e,A[r+7],14,1735328473),e=this.gg(e,s,i,t,A[r+12],20,-1926607734),t=this.hh(t,e,s,i,A[r+5],4,-378558),i=this.hh(i,t,e,s,A[r+8],11,-2022574463),s=this.hh(s,i,t,e,A[r+11],16,1839030562),e=this.hh(e,s,i,t,A[r+14],23,-35309556),t=this.hh(t,e,s,i,A[r+1],4,-1530992060),i=this.hh(i,t,e,s,A[r+4],11,1272893353),s=this.hh(s,i,t,e,A[r+7],16,-155497632),e=this.hh(e,s,i,t,A[r+10],23,-1094730640),t=this.hh(t,e,s,i,A[r+13],4,681279174),i=this.hh(i,t,e,s,A[r],11,-358537222),s=this.hh(s,i,t,e,A[r+3],16,-722521979),e=this.hh(e,s,i,t,A[r+6],23,76029189),t=this.hh(t,e,s,i,A[r+9],4,-640364487),i=this.hh(i,t,e,s,A[r+12],11,-421815835),s=this.hh(s,i,t,e,A[r+15],16,530742520),e=this.hh(e,s,i,t,A[r+2],23,-995338651),t=this.ii(t,e,s,i,A[r],6,-198630844),i=this.ii(i,t,e,s,A[r+7],10,1126891415),s=this.ii(s,i,t,e,A[r+14],15,-1416354905),e=this.ii(e,s,i,t,A[r+5],21,-57434055),t=this.ii(t,e,s,i,A[r+12],6,1700485571),i=this.ii(i,t,e,s,A[r+3],10,-1894986606),s=this.ii(s,i,t,e,A[r+10],15,-1051523),e=this.ii(e,s,i,t,A[r+1],21,-2054922799),t=this.ii(t,e,s,i,A[r+8],6,1873313359),i=this.ii(i,t,e,s,A[r+15],10,-30611744),s=this.ii(s,i,t,e,A[r+6],15,-1560198380),e=this.ii(e,s,i,t,A[r+13],21,1309151649),t=this.ii(t,e,s,i,A[r+4],6,-145523070),i=this.ii(i,t,e,s,A[r+11],10,-1120210379),s=this.ii(s,i,t,e,A[r+2],15,718787259),e=this.ii(e,s,i,t,A[r+9],21,-343485551),t=this.addme(t,n),e=this.addme(e,a),s=this.addme(s,h),i=this.addme(i,l),r+=16}return[t,e,s,i]},__class__:Se};var Te=function(){};e["haxe.ds.ArraySort"]=Te,Te.__name__="haxe.ds.ArraySort",Te.sort=function(A,t){Te.rec(A,t,0,A.length)},Te.rec=function(A,t,e,s){var i=e+s>>1;if(s-e<12){if(s<=e)return;for(var r=e+1,n=s;r<n;)for(var a=r++;a>e&&t(A[a],A[a-1])<0;)Te.swap(A,a-1,a),--a}else Te.rec(A,t,e,i),Te.rec(A,t,i,s),Te.doMerge(A,t,e,i,s,i-e,s-i)},Te.doMerge=function(A,t,e,s,i,r,n){var a,h,l,o;if(0!=r&&0!=n)if(r+n!=2){r>n?o=(h=Te.lower(A,t,s,i,a=e+(l=r>>1)))-s:l=(a=Te.upper(A,t,e,s,h=s+(o=n>>1)))-e,Te.rotate(A,t,a,s,h);var u=a+o;Te.doMerge(A,t,e,a,u,l,o),Te.doMerge(A,t,u,h,i,r-l,n-o)}else t(A[s],A[e])<0&&Te.swap(A,s,e)},Te.rotate=function(A,t,e,s,i){if(e!=s&&s!=i)for(var r=Te.gcd(i-e,s-e);0!=r--;){for(var n=A[e+r],a=s-e,h=e+r,l=e+r+a;l!=e+r;)A[h]=A[l],h=l,i-l>a?l+=a:l=e+(a-(i-l));A[h]=n}},Te.gcd=function(A,t){for(;0!=t;){var e=A%t;A=t,t=e}return A},Te.upper=function(A,t,e,s,i){for(var r,n,a=s-e;a>0;)n=e+(r=a>>1),t(A[i],A[n])<0?a=r:(e=n+1,a=a-r-1);return e},Te.lower=function(A,t,e,s,i){for(var r,n,a=s-e;a>0;)t(A[n=e+(r=a>>1)],A[i])<0?(e=n+1,a=a-r-1):a=r;return e},Te.swap=function(A,t,e){var s=A[t];A[t]=A[e],A[e]=s};var Fe=function(){};e["haxe.ds.BalancedTree"]=Fe,Fe.__name__="haxe.ds.BalancedTree",Fe.__interfaces__=[_e],Fe.iteratorLoop=function(A,t){null!=A&&(Fe.iteratorLoop(A.left,t),t.push(A.value),Fe.iteratorLoop(A.right,t))},Fe.prototype={set:function(A,t){this.root=this.setLoop(A,t,this.root)},get:function(A){for(var t=this.root;null!=t;){var e=this.compare(A,t.key);if(0==e)return t.value;t=e<0?t.left:t.right}return null},iterator:function(){var A=[];return Fe.iteratorLoop(this.root,A),new He(A)},setLoop:function(A,t,e){if(null==e)return new Ee(null,A,t,null);var s=this.compare(A,e.key);if(0==s)return new Ee(e.left,A,t,e.right,null==e?0:e._height);if(s<0){var i=this.setLoop(A,t,e.left);return this.balance(i,e.key,e.value,e.right)}var r=this.setLoop(A,t,e.right);return this.balance(e.left,e.key,e.value,r)},balance:function(A,t,e,s){var i=null==A?0:A._height,r=null==s?0:s._height;if(i>r+2){var n=A.left,a=A.right;return(null==n?0:n._height)>=(null==a?0:a._height)?new Ee(A.left,A.key,A.value,new Ee(A.right,t,e,s)):new Ee(new Ee(A.left,A.key,A.value,A.right.left),A.right.key,A.right.value,new Ee(A.right.right,t,e,s))}if(r>i+2){n=s.right,a=s.left;return(null==n?0:n._height)>(null==a?0:a._height)?new Ee(new Ee(A,t,e,s.left),s.key,s.value,s.right):new Ee(new Ee(A,t,e,s.left.left),s.left.key,s.left.value,new Ee(s.left.right,s.key,s.value,s.right))}return new Ee(A,t,e,s,(i>r?i:r)+1)},compare:function(A,t){return p.compare(A,t)},__class__:Fe};var Ee=function(A,t,e,s,i){if(null==i&&(i=-1),this.left=A,this.key=t,this.value=e,this.right=s,-1==i){var r,n=this.left,a=this.right;if((null==n?0:n._height)>(null==a?0:a._height))r=null==(n=this.left)?0:n._height;else r=null==(n=this.right)?0:n._height;this._height=r+1}else this._height=i};e["haxe.ds.TreeNode"]=Ee,Ee.__name__="haxe.ds.TreeNode",Ee.prototype={__class__:Ee};var Ie=function(){Fe.call(this)};e["haxe.ds.EnumValueMap"]=Ie,Ie.__name__="haxe.ds.EnumValueMap",Ie.__interfaces__=[_e],Ie.__super__=Fe,Ie.prototype=r(Fe.prototype,{compare:function(A,t){var e=A._hx_index-t._hx_index;if(0!=e)return e;var s=b.enumParameters(A),i=b.enumParameters(t);return 0==s.length&&0==i.length?0:this.compareArgs(s,i)},compareArgs:function(A,t){var e=A.length-t.length;if(0!=e)return e;for(var s=0,i=A.length;s<i;){var r=s++,n=this.compareArg(A[r],t[r]);if(0!=n)return n}return 0},compareArg:function(A,t){return p.isEnumValue(A)&&p.isEnumValue(t)?this.compare(A,t):A instanceof Array&&t instanceof Array?this.compareArgs(A,t):p.compare(A,t)},__class__:Ie});var De=function(){this.h={}};e["haxe.ds.IntMap"]=De,De.__name__="haxe.ds.IntMap",De.__interfaces__=[_e],De.prototype={remove:function(A){return!!this.h.hasOwnProperty(A)&&(delete this.h[A],!0)},keys:function(){var A=[];for(var t in this.h)this.h.hasOwnProperty(t)&&A.push(+t);return new He(A)},iterator:function(){return{ref:this.h,it:this.keys(),hasNext:function(){return this.it.hasNext()},next:function(){var A=this.it.next();return this.ref[A]}}},__class__:De};var Qe=function(){this.length=0};e["haxe.ds.List"]=Qe,Qe.__name__="haxe.ds.List",Qe.prototype={add:function(A){var t=new Ve(A,null);null==this.h?this.h=t:this.q.next=t,this.q=t,this.length++},push:function(A){var t=new Ve(A,this.h);this.h=t,null==this.q&&(this.q=t),this.length++},remove:function(A){for(var t=null,e=this.h;null!=e;){if(e.item==A)return null==t?this.h=e.next:t.next=e.next,this.q==e&&(this.q=t),this.length--,!0;t=e,e=e.next}return!1},__class__:Qe};var Ve=function(A,t){this.item=A,this.next=t};e["haxe.ds._List.ListNode"]=Ve,Ve.__name__="haxe.ds._List.ListNode",Ve.prototype={__class__:Ve};var Re=function(){this.h={__keys__:{}}};e["haxe.ds.ObjectMap"]=Re,Re.__name__="haxe.ds.ObjectMap",Re.__interfaces__=[_e],Re.prototype={set:function(t,e){var s=t.__id__;null==s&&(s=t.__id__=A.$haxeUID++),this.h[s]=e,this.h.__keys__[s]=t},remove:function(A){var t=A.__id__;return null!=this.h.__keys__[t]&&(delete this.h[t],delete this.h.__keys__[t],!0)},keys:function(){var A=[];for(var t in this.h.__keys__)this.h.hasOwnProperty(t)&&A.push(this.h.__keys__[t]);return new He(A)},__class__:Re};var Ue=function(){this.h=Object.create(null)};e["haxe.ds.StringMap"]=Ue,Ue.__name__="haxe.ds.StringMap",Ue.__interfaces__=[_e],Ue.prototype={__class__:Ue};var Ge=function(A,t,e){de.call(this,A,t),this.posInfos=null==e?{fileName:"(unknown)",lineNumber:0,className:"(unknown)",methodName:"(unknown)"}:e};e["haxe.exceptions.PosException"]=Ge,Ge.__name__="haxe.exceptions.PosException",Ge.__super__=de,Ge.prototype=r(de.prototype,{toString:function(){return de.prototype.toString.call(this)+" in "+this.posInfos.className+"."+this.posInfos.methodName+" at "+this.posInfos.fileName+":"+this.posInfos.lineNumber},__class__:Ge});var ze=function(A,t,e){null==A&&(A="Not implemented"),Ge.call(this,A,t,e)};e["haxe.exceptions.NotImplementedException"]=ze,ze.__name__="haxe.exceptions.NotImplementedException",ze.__super__=Ge,ze.prototype=r(Ge.prototype,{__class__:ze});var Pe=function(){this.pos=0,this.size=0};e["haxe.io.BytesBuffer"]=Pe,Pe.__name__="haxe.io.BytesBuffer",Pe.prototype={addByte:function(A){this.pos==this.size&&this.grow(1),this.view.setUint8(this.pos++,A)},add:function(A){if(this.pos+A.length>this.size&&this.grow(A.length),0!=this.size){var t=new Uint8Array(A.b.buffer,A.b.byteOffset,A.length);this.u8.set(t,this.pos),this.pos+=A.length}},addBytes:function(A,t,e){if(t<0||e<0||t+e>A.length)throw de.thrown(We.OutsideBounds);if(this.pos+e>this.size&&this.grow(e),0!=this.size){var s=new Uint8Array(A.b.buffer,A.b.byteOffset+t,e);this.u8.set(s,this.pos),this.pos+=e}},grow:function(A){for(var t=this.pos+A,e=0==this.size?16:this.size;e<t;)e=3*e>>1;var s=new ArrayBuffer(e),i=new Uint8Array(s);this.size>0&&i.set(this.u8),this.size=e,this.buffer=s,this.u8=i,this.view=new DataView(this.buffer)},getBytes:function(){if(0==this.size)return new Be(new ArrayBuffer(0));var A=new Be(this.buffer);return A.length=this.pos,A},__class__:Pe};var Oe=function(){};e["haxe.io.Input"]=Oe,Oe.__name__="haxe.io.Input",Oe.prototype={readByte:function(){throw new ze(null,null,{fileName:"haxe/io/Input.hx",lineNumber:53,className:"haxe.io.Input",methodName:"readByte"})},readBytes:function(A,t,e){var s=e,i=A.b;if(t<0||e<0||t+e>A.length)throw de.thrown(We.OutsideBounds);try{for(;s>0;)i[t]=this.readByte(),++t,--s}catch(A){if(!(de.caught(A).unwrap()instanceof Xe))throw A}return e-s},set_bigEndian:function(A){return this.bigEndian=A,A},readFullBytes:function(A,t,e){for(;e>0;){var s=this.readBytes(A,t,e);if(0==s)throw de.thrown(We.Blocked);t+=s,e-=s}},read:function(A){for(var t=new Be(new ArrayBuffer(A)),e=0;A>0;){var s=this.readBytes(t,e,A);if(0==s)throw de.thrown(We.Blocked);e+=s,A-=s}return t},readLine:function(){var A,t,e=new Pe;try{for(;10!=(A=this.readByte());)e.addByte(A);t=e.getBytes().toString(),13==o.cca(t,t.length-1)&&(t=o.substr(t,0,-1))}catch(A){var s=de.caught(A).unwrap();if(!(s instanceof Xe))throw A;var i=s;if(0==(t=e.getBytes().toString()).length)throw de.thrown(i)}return t},readDouble:function(){var A=this.readInt32(),t=this.readInt32();return this.bigEndian?Ze.i64ToDouble(t,A):Ze.i64ToDouble(A,t)},readInt16:function(){var A=this.readByte(),t=this.readByte(),e=this.bigEndian?t|A<<8:A|t<<8;return 0!=(32768&e)?e-65536:e},readUInt16:function(){var A=this.readByte(),t=this.readByte();return this.bigEndian?t|A<<8:A|t<<8},readUInt24:function(){var A=this.readByte(),t=this.readByte(),e=this.readByte();return this.bigEndian?e|t<<8|A<<16:A|t<<8|e<<16},readInt32:function(){var A=this.readByte(),t=this.readByte(),e=this.readByte(),s=this.readByte();return this.bigEndian?s|e<<8|t<<16|A<<24:A|t<<8|e<<16|s<<24},readString:function(A,t){var e=new Be(new ArrayBuffer(A));return this.readFullBytes(e,0,A),e.getString(0,A,t)},__class__:Oe};var Le=function(A,t,e){if(null==t&&(t=0),null==e&&(e=A.length-t),t<0||e<0||t+e>A.length)throw de.thrown(We.OutsideBounds);this.b=A.b,this.pos=t,this.len=e,this.totlen=e};e["haxe.io.BytesInput"]=Le,Le.__name__="haxe.io.BytesInput",Le.__super__=Oe,Le.prototype=r(Oe.prototype,{readByte:function(){if(0==this.len)throw de.thrown(new Xe);return this.len--,this.b[this.pos++]},readBytes:function(A,t,e){if(t<0||e<0||t+e>A.length)throw de.thrown(We.OutsideBounds);if(0==this.len&&e>0)throw de.thrown(new Xe);this.len<e&&(e=this.len);for(var s=this.b,i=A.b,r=0,n=e;r<n;){var a=r++;i[t+a]=s[this.pos+a]}return this.pos+=e,this.len-=e,e},__class__:Le});var Ne=function(){};e["haxe.io.Output"]=Ne,Ne.__name__="haxe.io.Output",Ne.prototype={flush:function(){},close:function(){},__class__:Ne};var Ye=function(){this.b=new Pe};e["haxe.io.BytesOutput"]=Ye,Ye.__name__="haxe.io.BytesOutput",Ye.__super__=Ne,Ye.prototype=r(Ne.prototype,{writeBytes:function(A,t,e){return this.b.addBytes(A,t,e),e},getBytes:function(){return this.b.getBytes()},__class__:Ye});var Xe=function(){};e["haxe.io.Eof"]=Xe,Xe.__name__="haxe.io.Eof",Xe.prototype={toString:function(){return"Eof"},__class__:Xe};var We=i["haxe.io.Error"]={__ename__:!0,__constructs__:null,Blocked:{_hx_name:"Blocked",_hx_index:0,__enum__:"haxe.io.Error",toString:s},Overflow:{_hx_name:"Overflow",_hx_index:1,__enum__:"haxe.io.Error",toString:s},OutsideBounds:{_hx_name:"OutsideBounds",_hx_index:2,__enum__:"haxe.io.Error",toString:s},Custom:(t=function(A){return{_hx_index:3,e:A,__enum__:"haxe.io.Error",toString:s}},t._hx_name="Custom",t.__params__=["e"],t)};We.__constructs__=[We.Blocked,We.Overflow,We.OutsideBounds,We.Custom],We.__empty_constructs__=[We.Blocked,We.Overflow,We.OutsideBounds];var Ze=function(){};e["haxe.io.FPHelper"]=Ze,Ze.__name__="haxe.io.FPHelper",Ze.i64ToDouble=function(A,t){return Ze.helper.setInt32(0,A,!0),Ze.helper.setInt32(4,t,!0),Ze.helper.getFloat64(0,!0)};var He=function(A){this.current=0,this.array=A};e["haxe.iterators.ArrayIterator"]=He,He.__name__="haxe.iterators.ArrayIterator",He.prototype={hasNext:function(){return this.current<this.array.length},next:function(){return this.array[this.current++]},__class__:He};var Ke=i["haxe.macro.Binop"]={__ename__:!0,__constructs__:null,OpAdd:{_hx_name:"OpAdd",_hx_index:0,__enum__:"haxe.macro.Binop",toString:s},OpMult:{_hx_name:"OpMult",_hx_index:1,__enum__:"haxe.macro.Binop",toString:s},OpDiv:{_hx_name:"OpDiv",_hx_index:2,__enum__:"haxe.macro.Binop",toString:s},OpSub:{_hx_name:"OpSub",_hx_index:3,__enum__:"haxe.macro.Binop",toString:s},OpAssign:{_hx_name:"OpAssign",_hx_index:4,__enum__:"haxe.macro.Binop",toString:s},OpEq:{_hx_name:"OpEq",_hx_index:5,__enum__:"haxe.macro.Binop",toString:s},OpNotEq:{_hx_name:"OpNotEq",_hx_index:6,__enum__:"haxe.macro.Binop",toString:s},OpGt:{_hx_name:"OpGt",_hx_index:7,__enum__:"haxe.macro.Binop",toString:s},OpGte:{_hx_name:"OpGte",_hx_index:8,__enum__:"haxe.macro.Binop",toString:s},OpLt:{_hx_name:"OpLt",_hx_index:9,__enum__:"haxe.macro.Binop",toString:s},OpLte:{_hx_name:"OpLte",_hx_index:10,__enum__:"haxe.macro.Binop",toString:s},OpAnd:{_hx_name:"OpAnd",_hx_index:11,__enum__:"haxe.macro.Binop",toString:s},OpOr:{_hx_name:"OpOr",_hx_index:12,__enum__:"haxe.macro.Binop",toString:s},OpXor:{_hx_name:"OpXor",_hx_index:13,__enum__:"haxe.macro.Binop",toString:s},OpBoolAnd:{_hx_name:"OpBoolAnd",_hx_index:14,__enum__:"haxe.macro.Binop",toString:s},OpBoolOr:{_hx_name:"OpBoolOr",_hx_index:15,__enum__:"haxe.macro.Binop",toString:s},OpShl:{_hx_name:"OpShl",_hx_index:16,__enum__:"haxe.macro.Binop",toString:s},OpShr:{_hx_name:"OpShr",_hx_index:17,__enum__:"haxe.macro.Binop",toString:s},OpUShr:{_hx_name:"OpUShr",_hx_index:18,__enum__:"haxe.macro.Binop",toString:s},OpMod:{_hx_name:"OpMod",_hx_index:19,__enum__:"haxe.macro.Binop",toString:s},OpAssignOp:(t=function(A){return{_hx_index:20,op:A,__enum__:"haxe.macro.Binop",toString:s}},t._hx_name="OpAssignOp",t.__params__=["op"],t),OpInterval:{_hx_name:"OpInterval",_hx_index:21,__enum__:"haxe.macro.Binop",toString:s},OpArrow:{_hx_name:"OpArrow",_hx_index:22,__enum__:"haxe.macro.Binop",toString:s},OpIn:{_hx_name:"OpIn",_hx_index:23,__enum__:"haxe.macro.Binop",toString:s}};Ke.__constructs__=[Ke.OpAdd,Ke.OpMult,Ke.OpDiv,Ke.OpSub,Ke.OpAssign,Ke.OpEq,Ke.OpNotEq,Ke.OpGt,Ke.OpGte,Ke.OpLt,Ke.OpLte,Ke.OpAnd,Ke.OpOr,Ke.OpXor,Ke.OpBoolAnd,Ke.OpBoolOr,Ke.OpShl,Ke.OpShr,Ke.OpUShr,Ke.OpMod,Ke.OpAssignOp,Ke.OpInterval,Ke.OpArrow,Ke.OpIn],Ke.__empty_constructs__=[Ke.OpAdd,Ke.OpMult,Ke.OpDiv,Ke.OpSub,Ke.OpAssign,Ke.OpEq,Ke.OpNotEq,Ke.OpGt,Ke.OpGte,Ke.OpLt,Ke.OpLte,Ke.OpAnd,Ke.OpOr,Ke.OpXor,Ke.OpBoolAnd,Ke.OpBoolOr,Ke.OpShl,Ke.OpShr,Ke.OpUShr,Ke.OpMod,Ke.OpInterval,Ke.OpArrow,Ke.OpIn];var Je=i["haxe.macro.Unop"]={__ename__:!0,__constructs__:null,OpIncrement:{_hx_name:"OpIncrement",_hx_index:0,__enum__:"haxe.macro.Unop",toString:s},OpDecrement:{_hx_name:"OpDecrement",_hx_index:1,__enum__:"haxe.macro.Unop",toString:s},OpNot:{_hx_name:"OpNot",_hx_index:2,__enum__:"haxe.macro.Unop",toString:s},OpNeg:{_hx_name:"OpNeg",_hx_index:3,__enum__:"haxe.macro.Unop",toString:s},OpNegBits:{_hx_name:"OpNegBits",_hx_index:4,__enum__:"haxe.macro.Unop",toString:s},OpSpread:{_hx_name:"OpSpread",_hx_index:5,__enum__:"haxe.macro.Unop",toString:s}};Je.__constructs__=[Je.OpIncrement,Je.OpDecrement,Je.OpNot,Je.OpNeg,Je.OpNegBits,Je.OpSpread],Je.__empty_constructs__=[Je.OpIncrement,Je.OpDecrement,Je.OpNot,Je.OpNeg,Je.OpNegBits,Je.OpSpread];var je=i["haxe.zip.Huffman"]={__ename__:!0,__constructs__:null,Found:(t=function(A){return{_hx_index:0,i:A,__enum__:"haxe.zip.Huffman",toString:s}},t._hx_name="Found",t.__params__=["i"],t),NeedBit:(t=function(A,t){return{_hx_index:1,left:A,right:t,__enum__:"haxe.zip.Huffman",toString:s}},t._hx_name="NeedBit",t.__params__=["left","right"],t),NeedBits:(t=function(A,t){return{_hx_index:2,n:A,table:t,__enum__:"haxe.zip.Huffman",toString:s}},t._hx_name="NeedBits",t.__params__=["n","table"],t)};je.__constructs__=[je.Found,je.NeedBit,je.NeedBits],je.__empty_constructs__=[];var qe=function(){};e["haxe.zip.HuffTools"]=qe,qe.__name__="haxe.zip.HuffTools",qe.prototype={treeDepth:function(A){switch(A._hx_index){case 0:A.i;return 0;case 1:var t=A.left,e=A.right,s=this.treeDepth(t),i=this.treeDepth(e);return 1+(s<i?s:i);case 2:A.n,A.table;throw de.thrown("assert")}},treeCompress:function(A){var t=this.treeDepth(A);if(0==t)return A;if(1==t){if(1==A._hx_index){var e=A.left,s=A.right;return je.NeedBit(this.treeCompress(e),this.treeCompress(s))}throw de.thrown("assert")}for(var i=[],r=0,n=1<<t;r<n;){r++;i.push(je.Found(-1))}return this.treeWalk(i,0,0,t,A),je.NeedBits(t,i)},treeWalk:function(A,t,e,s,i){if(1==i._hx_index){var r=i.left,n=i.right;s>0?(this.treeWalk(A,t,e+1,s-1,r),this.treeWalk(A,t|1<<e,e+1,s-1,n)):A[t]=this.treeCompress(i)}else A[t]=this.treeCompress(i)},treeMake:function(A,t,e,s){if(s>t)throw de.thrown("Invalid huffman");var i=e<<5|s;return A.h.hasOwnProperty(i)?je.Found(A.h[i]):(e<<=1,++s,je.NeedBit(this.treeMake(A,t,e,s),this.treeMake(A,t,1|e,s)))},make:function(A,t,e,s){if(1==e)return je.NeedBit(je.Found(0),je.Found(0));var i=[],r=[];if(s>32)throw de.thrown("Invalid huffman");for(var n=0,a=s;n<a;){var h=n++;i.push(0),r.push(0)}for(n=0,a=e;n<a;){var l=A[(h=n++)+t];if(l>=s)throw de.thrown("Invalid huffman");i[l]++}var o=0;for(n=1,a=s-1;n<a;){o=o+i[h=n++]<<1,r[h]=o}var u=new De;for(n=0,a=e;n<a;){var _=A[(h=n++)+t];if(0!=_){var c=r[_-1];r[_-1]=c+1,u.h[c<<5|_]=h}}return this.treeCompress(je.NeedBit(this.treeMake(u,s,0,1),this.treeMake(u,s,1,1)))},__class__:qe};var $e=function(A){this.buffer=new Be(new ArrayBuffer(65536)),this.pos=0,A&&(this.crc=new ye)};e["haxe.zip._InflateImpl.Window"]=$e,$e.__name__="haxe.zip._InflateImpl.Window",$e.prototype={slide:function(){null!=this.crc&&this.crc.update(this.buffer,0,32768);var A=new Be(new ArrayBuffer(65536));this.pos-=32768,A.blit(0,this.buffer,32768,this.pos),this.buffer=A},addBytes:function(A,t,e){this.pos+e>65536&&this.slide(),this.buffer.blit(this.pos,A,t,e),this.pos+=e},addByte:function(A){65536==this.pos&&this.slide(),this.buffer.b[this.pos]=A,this.pos++},getLastChar:function(){return this.buffer.b[this.pos-1]},available:function(){return this.pos},checksum:function(){return null!=this.crc&&this.crc.update(this.buffer,0,this.pos),this.crc},__class__:$e};var As=i["haxe.zip._InflateImpl.State"]={__ename__:!0,__constructs__:null,Head:{_hx_name:"Head",_hx_index:0,__enum__:"haxe.zip._InflateImpl.State",toString:s},Block:{_hx_name:"Block",_hx_index:1,__enum__:"haxe.zip._InflateImpl.State",toString:s},CData:{_hx_name:"CData",_hx_index:2,__enum__:"haxe.zip._InflateImpl.State",toString:s},Flat:{_hx_name:"Flat",_hx_index:3,__enum__:"haxe.zip._InflateImpl.State",toString:s},Crc:{_hx_name:"Crc",_hx_index:4,__enum__:"haxe.zip._InflateImpl.State",toString:s},Dist:{_hx_name:"Dist",_hx_index:5,__enum__:"haxe.zip._InflateImpl.State",toString:s},DistOne:{_hx_name:"DistOne",_hx_index:6,__enum__:"haxe.zip._InflateImpl.State",toString:s},Done:{_hx_name:"Done",_hx_index:7,__enum__:"haxe.zip._InflateImpl.State",toString:s}};As.__constructs__=[As.Head,As.Block,As.CData,As.Flat,As.Crc,As.Dist,As.DistOne,As.Done],As.__empty_constructs__=[As.Head,As.Block,As.CData,As.Flat,As.Crc,As.Dist,As.DistOne,As.Done];var ts=function(A,t,e){null==e&&(e=!0),null==t&&(t=!0),this.isFinal=!1,this.htools=new qe,this.huffman=this.buildFixedHuffman(),this.huffdist=null,this.len=0,this.dist=0,this.state=t?As.Head:As.Block,this.input=A,this.bits=0,this.nbits=0,this.needed=0,this.output=null,this.outpos=0,this.lengths=[],this.lengths.push(-1),this.lengths.push(-1),this.lengths.push(-1),this.lengths.push(-1),this.lengths.push(-1),this.lengths.push(-1),this.lengths.push(-1),this.lengths.push(-1),this.lengths.push(-1),this.lengths.push(-1),this.lengths.push(-1),this.lengths.push(-1),this.lengths.push(-1),this.lengths.push(-1),this.lengths.push(-1),this.lengths.push(-1),this.lengths.push(-1),this.lengths.push(-1),this.lengths.push(-1),this.window=new $e(e)};e["haxe.zip.InflateImpl"]=ts,ts.__name__="haxe.zip.InflateImpl",ts.run=function(A,t){null==t&&(t=65536);for(var e=new Be(new ArrayBuffer(t)),s=new Pe,i=new ts(A);;){var r=i.readBytes(e,0,t);if(s.addBytes(e,0,r),r<t)break}return s.getBytes()},ts.prototype={buildFixedHuffman:function(){if(null!=ts.FIXED_HUFFMAN)return ts.FIXED_HUFFMAN;for(var A=[],t=0;t<288;){var e=t++;A.push(e<=143?8:e<=255?9:e<=279?7:8)}return ts.FIXED_HUFFMAN=this.htools.make(A,0,288,10)},readBytes:function(A,t,e){if(this.needed=e,this.outpos=t,this.output=A,e>0)for(;this.inflateLoop(););return e-this.needed},getBits:function(A){for(;this.nbits<A;)this.bits|=this.input.readByte()<<this.nbits,this.nbits+=8;var t=this.bits&(1<<A)-1;return this.nbits-=A,this.bits>>=A,t},getBit:function(){0==this.nbits&&(this.nbits=8,this.bits=this.input.readByte());var A=1==(1&this.bits);return this.nbits--,this.bits>>=1,A},getRevBits:function(A){return 0==A?0:this.getBit()?1<<A-1|this.getRevBits(A-1):this.getRevBits(A-1)},resetBits:function(){this.bits=0,this.nbits=0},addBytes:function(A,t,e){this.window.addBytes(A,t,e),this.output.blit(this.outpos,A,t,e),this.needed-=e,this.outpos+=e},addByte:function(A){this.window.addByte(A),this.output.b[this.outpos]=A,this.needed--,this.outpos++},addDistOne:function(A){for(var t=this.window.getLastChar(),e=0,s=A;e<s;){e++;this.addByte(t)}},addDist:function(A,t){this.addBytes(this.window.buffer,this.window.pos-A,t)},applyHuffman:function(A){switch(A._hx_index){case 0:return s=A.i;case 1:var t=A.left,e=A.right;return this.applyHuffman(this.getBit()?e:t);case 2:var s=A.n,i=A.table;return this.applyHuffman(i[this.getBits(s)])}},inflateLengths:function(A,t){for(var e=0,s=0;e<t;){var i=this.applyHuffman(this.huffman);switch(i){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 12:case 13:case 14:case 15:s=i,A[e]=i,++e;break;case 16:var r=e+3+this.getBits(2);if(r>t)throw de.thrown("Invalid data");for(;e<r;)A[e]=s,++e;break;case 17:if((e+=3+this.getBits(3))>t)throw de.thrown("Invalid data");break;case 18:if((e+=11+this.getBits(7))>t)throw de.thrown("Invalid data");break;default:throw de.thrown("Invalid data")}}},inflateLoop:function(){switch(this.state._hx_index){case 0:var A=this.input.readByte();if(8!=(15&A))throw de.thrown("Invalid data");var t=this.input.readByte(),e=0!=(32&t);if(((A<<8)+t)%31!=0)throw de.thrown("Invalid data");if(e)throw de.thrown("Unsupported dictionary");return this.state=As.Block,!0;case 1:switch(this.isFinal=this.getBit(),this.getBits(2)){case 0:if(this.len=this.input.readUInt16(),this.input.readUInt16()!=65535-this.len)throw de.thrown("Invalid data");this.state=As.Flat;var s=this.inflateLoop();return this.resetBits(),s;case 1:return this.huffman=this.buildFixedHuffman(),this.huffdist=null,this.state=As.CData,!0;case 2:for(var i=this.getBits(5)+257,r=this.getBits(5)+1,n=this.getBits(4)+4,a=0,h=n;a<h;){var l=a++;this.lengths[ts.CODE_LENGTHS_POS[l]]=this.getBits(3)}for(a=n,h=19;a<h;){l=a++;this.lengths[ts.CODE_LENGTHS_POS[l]]=0}this.huffman=this.htools.make(this.lengths,0,19,8);var o=[];for(a=0,h=i+r;a<h;){l=a++;o.push(0)}return this.inflateLengths(o,i+r),this.huffdist=this.htools.make(o,i,r,16),this.huffman=this.htools.make(o,0,i,16),this.state=As.CData,!0;default:throw de.thrown("Invalid data")}break;case 2:var u=this.applyHuffman(this.huffman);if(u<256)return this.addByte(u),this.needed>0;if(256==u)return this.state=this.isFinal?As.Crc:As.Block,!0;var _=ts.LEN_EXTRA_BITS_TBL[u-=257];if(-1==_)throw de.thrown("Invalid data");this.len=ts.LEN_BASE_VAL_TBL[u]+this.getBits(_);var c=null==this.huffdist?this.getRevBits(5):this.applyHuffman(this.huffdist);if(-1==(_=ts.DIST_EXTRA_BITS_TBL[c]))throw de.thrown("Invalid data");if(this.dist=ts.DIST_BASE_VAL_TBL[c]+this.getBits(_),this.dist>this.window.available())throw de.thrown("Invalid data");return this.state=1==this.dist?As.DistOne:As.Dist,!0;case 3:var d=this.len<this.needed?this.len:this.needed,p=this.input.read(d);return this.len-=d,this.addBytes(p,0,d),0==this.len&&(this.state=this.isFinal?As.Crc:As.Block),this.needed>0;case 4:var f=this.window.checksum();if(null==f)return this.state=As.Done,!0;var x=ye.read(this.input);if(!f.equals(x))throw de.thrown("Invalid CRC");return this.state=As.Done,!0;case 5:for(;this.len>0&&this.needed>0;){var g=this.len<this.dist?this.len:this.dist;d=this.needed<g?this.needed:g;this.addDist(this.dist,d),this.len-=d}return 0==this.len&&(this.state=As.CData),this.needed>0;case 6:d=this.len<this.needed?this.len:this.needed;return this.addDistOne(d),this.len-=d,0==this.len&&(this.state=As.CData),this.needed>0;case 7:return!1}},__class__:ts};var es=function(){};e["haxe.zip.Uncompress"]=es,es.__name__="haxe.zip.Uncompress",es.run=function(A,t){return ts.run(new Le(A),t)};var ss=function(A,t){if(-101!=A||-102!=t){var e=window.document.createElement("canvas");e.width=A,e.height=t,this.ctx=e.getContext("2d",null)}};e["hxd.BitmapData"]=ss,ss.__name__="hxd.BitmapData",ss.prototype={getPixels:function(){var A=this.ctx.canvas.width,t=this.ctx.canvas.height,e=this.ctx.getImageData(0,0,A,t).data.buffer;return new _s(A,t,Be.ofData(e),tt.RGBA)},__class__:ss};var is=i["hxd.Cursor"]={__ename__:!0,__constructs__:null,Default:{_hx_name:"Default",_hx_index:0,__enum__:"hxd.Cursor",toString:s},Button:{_hx_name:"Button",_hx_index:1,__enum__:"hxd.Cursor",toString:s},Move:{_hx_name:"Move",_hx_index:2,__enum__:"hxd.Cursor",toString:s},TextInput:{_hx_name:"TextInput",_hx_index:3,__enum__:"hxd.Cursor",toString:s},Hide:{_hx_name:"Hide",_hx_index:4,__enum__:"hxd.Cursor",toString:s},Custom:(t=function(A){return{_hx_index:5,custom:A,__enum__:"hxd.Cursor",toString:s}},t._hx_name="Custom",t.__params__=["custom"],t),Callback:(t=function(A){return{_hx_index:6,f:A,__enum__:"hxd.Cursor",toString:s}},t._hx_name="Callback",t.__params__=["f"],t)};is.__constructs__=[is.Default,is.Button,is.Move,is.TextInput,is.Hide,is.Custom,is.Callback],is.__empty_constructs__=[is.Default,is.Button,is.Move,is.TextInput,is.Hide];var rs=function(A,t,e,s){this.frames=A,this.speed=t,this.offsetX=e,this.offsetY=s,this.frameDelay=1/t,this.frameTime=0,this.frameIndex=0};e["hxd.CustomCursor"]=rs,rs.__name__="hxd.CustomCursor",rs.prototype={reset:function(){this.frameTime=0,this.frameIndex=0},update:function(A){for(var t=this.frameTime+A,e=this.frameDelay,s=this.frameIndex;t>=e;)t-=e,++s;return this.frameTime=t,s>=this.frames.length&&(s%=this.frames.length),s!=this.frameIndex?(this.frameIndex=s,s):-1},__class__:rs};var ns=i["hxd.EventKind"]={__ename__:!0,__constructs__:null,EPush:{_hx_name:"EPush",_hx_index:0,__enum__:"hxd.EventKind",toString:s},ERelease:{_hx_name:"ERelease",_hx_index:1,__enum__:"hxd.EventKind",toString:s},EMove:{_hx_name:"EMove",_hx_index:2,__enum__:"hxd.EventKind",toString:s},EOver:{_hx_name:"EOver",_hx_index:3,__enum__:"hxd.EventKind",toString:s},EOut:{_hx_name:"EOut",_hx_index:4,__enum__:"hxd.EventKind",toString:s},EWheel:{_hx_name:"EWheel",_hx_index:5,__enum__:"hxd.EventKind",toString:s},EFocus:{_hx_name:"EFocus",_hx_index:6,__enum__:"hxd.EventKind",toString:s},EFocusLost:{_hx_name:"EFocusLost",_hx_index:7,__enum__:"hxd.EventKind",toString:s},EKeyDown:{_hx_name:"EKeyDown",_hx_index:8,__enum__:"hxd.EventKind",toString:s},EKeyUp:{_hx_name:"EKeyUp",_hx_index:9,__enum__:"hxd.EventKind",toString:s},EReleaseOutside:{_hx_name:"EReleaseOutside",_hx_index:10,__enum__:"hxd.EventKind",toString:s},ETextInput:{_hx_name:"ETextInput",_hx_index:11,__enum__:"hxd.EventKind",toString:s},ECheck:{_hx_name:"ECheck",_hx_index:12,__enum__:"hxd.EventKind",toString:s}};ns.__constructs__=[ns.EPush,ns.ERelease,ns.EMove,ns.EOver,ns.EOut,ns.EWheel,ns.EFocus,ns.EFocusLost,ns.EKeyDown,ns.EKeyUp,ns.EReleaseOutside,ns.ETextInput,ns.ECheck],ns.__empty_constructs__=[ns.EPush,ns.ERelease,ns.EMove,ns.EOver,ns.EOut,ns.EWheel,ns.EFocus,ns.EFocusLost,ns.EKeyDown,ns.EKeyUp,ns.EReleaseOutside,ns.ETextInput,ns.ECheck];var as=function(A,t,e){null==e&&(e=0),null==t&&(t=0),this.button=0,this.kind=A,this.relX=t,this.relY=e};e["hxd.Event"]=as,as.__name__="hxd.Event",as.prototype={__class__:as};var hs={_new:function(A){return{pos:A,array:new Float32Array(new ArrayBuffer(A<<2))}}},ls=function(){};e["hxd.Key"]=ls,ls.__name__="hxd.Key",ls.initialize=function(){ls.initDone&&ls.dispose(),ls.initDone=!0,ls.keyPressed=[],gs.getInstance().addEventTarget(ls.onEvent)},ls.dispose=function(){ls.initDone&&(gs.getInstance().removeEventTarget(ls.onEvent),ls.initDone=!1,ls.keyPressed=[])},ls.onEvent=function(A){switch(A.kind._hx_index){case 0:A.button<5&&(ls.keyPressed[A.button]=xs.frameCount+1);break;case 1:A.button<5&&(ls.keyPressed[A.button]=-(xs.frameCount+1));break;case 5:ls.keyPressed[A.wheelDelta>0?6:5]=xs.frameCount+1;break;case 8:if(!ls.ALLOW_KEY_REPEAT&&ls.keyPressed[A.keyCode]>0)return;ls.keyPressed[A.keyCode]=xs.frameCount+1;break;case 9:ls.keyPressed[A.keyCode]=-(xs.frameCount+1)}};var os=i["hxd.Flags"]={__ename__:!0,__constructs__:null,ReadOnly:{_hx_name:"ReadOnly",_hx_index:0,__enum__:"hxd.Flags",toString:s},AlphaPremultiplied:{_hx_name:"AlphaPremultiplied",_hx_index:1,__enum__:"hxd.Flags",toString:s},FlipY:{_hx_name:"FlipY",_hx_index:2,__enum__:"hxd.Flags",toString:s}};os.__constructs__=[os.ReadOnly,os.AlphaPremultiplied,os.FlipY],os.__empty_constructs__=[os.ReadOnly,os.AlphaPremultiplied,os.FlipY];var us={fromPixels:function(A){return A.convert(tt.ARGB),A.setFlip(!1),A}},_s=function(A,t,e,s,i){null==i&&(i=0),this.width=A,this.height=t,this.bytes=e,this.set_innerFormat(s),this.offset=i;var r=0;null==r&&(r=0);var n=r;this.flags=n};e["hxd.Pixels"]=_s,_s.__name__="hxd.Pixels",_s.calcDataSize=function(A,t,e){if(21==e._hx_index){e.v;return(t+3>>2<<2)*_s.calcStride(A,e)}return t*_s.calcStride(A,e)},_s.calcStride=function(A,t){var e;switch(t._hx_index){case 3:case 20:case 10:e=8;break;case 4:e=16;break;case 5:e=1;break;case 7:case 9:case 0:case 1:case 2:case 14:case 15:case 16:case 17:e=4;break;case 8:case 6:case 18:e=2;break;case 11:e=3;break;case 12:case 19:e=6;break;case 13:e=12;break;case 21:var s=t.v,i=A+3>>2;return 1==s||4==s?i<<1:i<<2}return A*e},_s.alloc=function(A,t,e){return new _s(A,t,new Be(new ArrayBuffer(_s.calcDataSize(A,t,e))),e)},_s.prototype={set_innerFormat:function(A){return this.innerFormat=A,this.stride=_s.calcStride(this.width,A),this.dataSize=_s.calcDataSize(this.width,this.height,A),this.bytesPerPixel=_s.calcStride(1,A),A},invalidFormat:function(){throw de.thrown("Unsupported format for this operation : "+f.string(this.innerFormat))},copyInner:function(){var A=this.bytes;this.bytes=new Be(new ArrayBuffer(this.dataSize)),this.bytes.blit(0,A,this.offset,this.dataSize),this.offset=0,this.flags&=-1-(1<<os.ReadOnly._hx_index)},setFlip:function(A){if(null==A&&(A=!1),0!=(this.flags&1<<os.FlipY._hx_index)!=A){0!=(this.flags&1<<os.ReadOnly._hx_index)&&this.copyInner(),A?this.flags|=1<<os.FlipY._hx_index:this.flags&=-1-(1<<os.FlipY._hx_index),this.stride%4!=0&&this.invalidFormat();for(var t=0,e=this.height>>1;t<e;)for(var s=t++,i=s*this.stride+this.offset,r=(this.height-1-s)*this.stride+this.offset,n=0,a=this.stride>>2;n<a;){n++;var h=this.bytes.getInt32(i);A=this.bytes.getInt32(r);this.bytes.setInt32(i,A),this.bytes.setInt32(r,h),i+=4,r+=4}}},convert:function(A){if(this.innerFormat!=A&&!b.enumEq(this.innerFormat,A)){0!=(this.flags&1<<os.ReadOnly._hx_index)&&this.copyInner();var t=this.bytes.b,e=this.innerFormat;switch(e._hx_index){case 0:switch(A._hx_index){case 1:for(var s=0,i=this.width*this.height;s<i;){var r=t[p=((c=s++)<<2)+this.offset],n=t[p+1],a=t[p+2],h=t[p+3];t[p++]=h,t[p++]=a,t[p++]=n,t[p]=r}break;case 2:for(s=0,i=this.width*this.height;s<i;){r=t[p=((c=s++)<<2)+this.offset];var l=t[p+1];t[p]=l;var o=t[p+2];t[p+1]=o;var u=t[p+3];t[p+2]=u,t[p+3]=r}break;default:throw de.thrown("Cannot convert from "+f.string(this.innerFormat)+" to "+f.string(A))}break;case 1:switch(A._hx_index){case 0:for(s=0,i=this.width*this.height;s<i;){r=t[p=((c=s++)<<2)+this.offset],n=t[p+1],a=t[p+2],h=t[p+3];t[p++]=h,t[p++]=a,t[p++]=n,t[p]=r}break;case 2:for(s=0,i=this.width*this.height;s<i;){h=t[p=((c=s++)<<2)+this.offset],n=t[p+2];t[p]=n,t[p+2]=h}break;default:throw de.thrown("Cannot convert from "+f.string(this.innerFormat)+" to "+f.string(A))}break;case 2:switch(A._hx_index){case 0:for(s=0,i=this.width*this.height;s<i;){r=t[(p=((c=s++)<<2)+this.offset)+3],l=t[p+2];t[p+3]=l;o=t[p+1];t[p+2]=o;u=t[p];t[p+1]=u,t[p]=r}break;case 1:for(s=0,i=this.width*this.height;s<i;){h=t[p=((c=s++)<<2)+this.offset],n=t[p+2];t[p]=n,t[p+2]=h}break;case 5:var _=(x=new Be(new ArrayBuffer(this.width*this.height))).b;for(s=0,i=this.width*this.height;s<i;){l=t[(c=s++)<<2];_[c]=l}this.bytes=x;break;default:throw de.thrown("Cannot convert from "+f.string(this.innerFormat)+" to "+f.string(A))}break;case 4:if(7!=A._hx_index)throw de.thrown("Cannot convert from "+f.string(this.innerFormat)+" to "+f.string(A));for(_=(x=new Be(new ArrayBuffer(this.height*this.width*4))).b,s=0,i=this.width*this.height;s<i;){var c=s++;x.setFloat(c<<2,this.bytes.getFloat(c<<4))}this.bytes=x;break;case 7:switch(A._hx_index){case 1:case 2:var d=this.bytes,p=0;for(s=0,i=this.width*this.height;s<i;){c=s++;(l=255*d.getFloat(p)|0)<0?l=0:l>255&&(l=255),t[p++]=l,t[p++]=l,t[p++]=l,t[p++]=255}break;default:throw de.thrown("Cannot convert from "+f.string(this.innerFormat)+" to "+f.string(A))}break;case 18:if(7!=A._hx_index)throw de.thrown("Cannot convert from "+f.string(this.innerFormat)+" to "+f.string(A));var x=new Be(new ArrayBuffer(this.width*this.height*4));for(d=this.bytes,s=0,i=this.width*this.height;s<i;){c=s++;var g=d.getUInt16(c<<1);x.setFloat(c<<2,g/65535)}this.bytes=x;break;case 21:if(21!=A._hx_index)throw de.thrown("Cannot convert from "+f.string(this.innerFormat)+" to "+f.string(A));h=A.v;if((r=e.v)!=h)throw de.thrown("Cannot convert from "+f.string(this.innerFormat)+" to "+f.string(A));break;default:throw de.thrown("Cannot convert from "+f.string(this.innerFormat)+" to "+f.string(A))}this.set_innerFormat(A)}},dispose:function(){this.bytes=null},toString:function(){return"Pixels("+this.width+"x"+this.height+" "+f.string(this.innerFormat)+")"},__class__:_s};var cs=function(){};e["hxd.Res"]=cs,cs.__name__="hxd.Res",cs.load=function(A){return cs.get_loader().load(A)},cs.get_loader=function(){var A=Vs.currentInstance;if(null==A)throw de.thrown("Resource loader not initialized: call to hxd.Res.initXXX() required");return A},cs.set_loader=function(A){return Vs.currentInstance=A};var ds=function(A){this.defaultCursor=is.Default,this.mouseCheckMove=!0,this.enablePhysicalMouse=!0,this.isOut=!1,this.onOver=new as(ns.EOver),this.onOut=new as(ns.EOut),this.checkPos=new as(ns.ECheck),this.focusLost=new as(ns.EFocusLost),this.lastTouch=0,this.mouseY=-1,this.mouseX=-1,this.overIndex=-1,this.scenes=[],this.pendingEvents=[],this.pushList=[],this.overList=[],this.overCandidates=[],null==A&&(A=gs.getInstance()),this.window=A,A.addEventTarget(Di(this,this.onEvent))};e["hxd.SceneEvents"]=ds,ds.__name__="hxd.SceneEvents",ds.prototype={onRemove:function(A){if(A==this.currentFocus&&(this.currentFocus=null),this.overIndex>=0){var t=this.overList.indexOf(A);t>=0&&(o.remove(this.overList,A),t<this.overIndex&&this.overIndex--)}else o.remove(this.overList,A),this.selectCursor();o.remove(this.pushList,A)},addScene:function(A,t){A.setEvents(this),null==t?this.scenes.push(A):this.scenes.splice(t,0,A)},blur:function(){null!=this.currentFocus&&(this.focusLost.cancel=!1,this.currentFocus.handleEvent(this.focusLost),this.focusLost.cancel||(this.currentFocus=null))},checkFocus:function(){if(null!=this.currentFocus){var A=this.currentFocus.getInteractiveScene();null!=A?A.isInteractiveVisible(this.currentFocus)||this.blur():this.currentFocus=null}},emitEvent:function(A){var t=A.relX,e=A.relY,s=0,i=!1,r=!1,n=!1,a=!1,h=!1,l=!1;switch(this.overIndex=0,A.kind._hx_index){case 0:h=!0,a=!0;break;case 1:a=!0;break;case 2:case 12:r=!0,n=!0;break;case 5:case 8:case 9:case 11:if(null!=this.currentFocus&&(A.relX=A.relY=0,this.currentFocus.handleEvent(A),A.relX=t,A.relY=e,!A.propagate))return}for(var u=0,_=this.scenes;u<_.length;){var c=_[u];++u;for(var d=null;;){if(null==(f=c.handleEvent(A,d))){A.relX=t,A.relY=e;break}if(r){if(n){var p=this.overList.indexOf(f);if(-1==p){if(this.overCandidates.length==s)this.overCandidates[s]={i:f,s:c,x:A.relX,y:A.relY,z:A.relZ};else(g=this.overCandidates[s]).i=f,g.s=c,g.x=A.relX,g.y=A.relY,g.z=A.relZ;++s,this.overList.splice(this.overIndex++,0,f),l=!0}else{if(p<this.overIndex){for(;this.overList[p]=this.overList[p+1],++p<this.overIndex;);this.overList[this.overIndex]=f,l=!0}else if(p>this.overIndex){for(;this.overList[p]=this.overList[p-1],--p>this.overIndex;);this.overList[this.overIndex]=f,l=!0}this.overIndex++}n=A.propagate}}else a&&(A.kind==ns.EPush?this.pushList.push(f):o.remove(this.pushList,f)),h&&f==this.currentFocus&&(h=!1);if(A.relX=t,A.relY=e,!A.propagate){i=!0;break}d=f,A.propagate=!1}if(i)break}if(h&&null!=this.currentFocus&&this.blur(),r){if(this.overIndex<this.overList.length){for(;this.overIndex<this.overList.length;){this.overList.pop().handleEvent(this.onOut)}l=!0}if(0!=s)for(var f=0,x=this.onOver;;){var g=this.overCandidates[f++];if(x.relX=g.x,x.relY=g.y,x.relZ=g.z,g.s.isInteractiveVisible(g.i)?g.i.handleEvent(x):o.remove(this.overList,g.i),g.i=null,g.s=null,!(f<s))break}}if(this.overIndex=-1,l&&this.selectCursor(),i||A==this.checkPos||(A.kind==ns.EPush?this.pushList.push(null):A.kind==ns.ERelease&&o.remove(this.pushList,null),this.dispatchListeners(A)),A.kind==ns.ERelease&&this.pushList.length>0){for(u=0,_=this.pushList;u<_.length;){f=_[u];if(++u,null==f)A.kind=ns.EReleaseOutside,this.dispatchListeners(A),A.kind=ns.ERelease;else{if(null==(c=f.getInteractiveScene()))continue;A.kind=ns.EReleaseOutside,c.dispatchEvent(A,f),A.kind=ns.ERelease,A.relX=t,A.relY=e}}this.pushList=[]}},checkEvents:function(){var A=this.pendingEvents,t=!this.mouseCheckMove,e=null==this.currentFocus;if(A.length>0){this.pendingEvents=[];for(var s=0;s<A.length;){var i=A[s];++s;var r=i.relX,n=i.relY;switch(i.kind._hx_index){case 0:case 1:this.mouseX=i.relX,this.mouseY=i.relY,this.lastTouch=i.touchId;break;case 2:t=!0,this.mouseX=i.relX,this.mouseY=i.relY,this.lastTouch=i.touchId;break;case 3:this.isOut=!1,this.selectCursor();continue;case 4:if(this.isOut=!0,this.overList.length>0){for(var a=this.overList.length-1;a>=0;)this.onOut.cancel=!1,this.overList[a].handleEvent(this.onOut),o.remove(this.overList,this.overList[a]),--a;this.selectCursor()}continue;case 5:case 8:case 9:case 11:e||(e=!0,this.checkFocus())}(null==this.currentDrag||null!=this.currentDrag.ref&&this.currentDrag.ref!=i.touchId||(i.propagate=!0,i.cancel=!1,this.currentDrag.f(i),i.relX=r,i.relY=n,i.propagate))&&this.emitEvent(i)}}e||this.checkFocus(),t||this.isOut||null!=this.currentDrag||(this.checkPos.relX=this.mouseX,this.checkPos.relY=this.mouseY,this.checkPos.touchId=this.lastTouch,this.checkPos.cancel=!1,this.checkPos.propagate=!1,this.emitEvent(this.checkPos))},updateCursor:function(A){-1!=this.overList.indexOf(A)&&this.selectCursor()},selectCursor:function(){for(var A=this.defaultCursor,t=0,e=this.overList;t<e.length;){var s=e[t];if(++t,null!=s.cursor){A=s.cursor;break}}6==A._hx_index?(0,A.f)():bs.setCursor(A)},onEvent:function(A){(this.enablePhysicalMouse||A.kind!=ns.EMove)&&this.pendingEvents.push(A)},dispatchListeners:function(A){var t=A.relX,e=A.relY;A.propagate=!0;for(var s=0,i=this.scenes;s<i.length;){var r=i[s];if(++s,A.cancel=!1,r.dispatchListeners(A),A.relX=t,A.relY=e,!A.propagate)break}},__class__:ds};var ps=i["hxd.Platform"]={__ename__:!0,__constructs__:null,IOS:{_hx_name:"IOS",_hx_index:0,__enum__:"hxd.Platform",toString:s},Android:{_hx_name:"Android",_hx_index:1,__enum__:"hxd.Platform",toString:s},WebGL:{_hx_name:"WebGL",_hx_index:2,__enum__:"hxd.Platform",toString:s},PC:{_hx_name:"PC",_hx_index:3,__enum__:"hxd.Platform",toString:s},Console:{_hx_name:"Console",_hx_index:4,__enum__:"hxd.Platform",toString:s},FlashPlayer:{_hx_name:"FlashPlayer",_hx_index:5,__enum__:"hxd.Platform",toString:s}};ps.__constructs__=[ps.IOS,ps.Android,ps.WebGL,ps.PC,ps.Console,ps.FlashPlayer],ps.__empty_constructs__=[ps.IOS,ps.Android,ps.WebGL,ps.PC,ps.Console,ps.FlashPlayer];var fs=i["hxd.SystemValue"]={__ename__:!0,__constructs__:null,IsTouch:{_hx_name:"IsTouch",_hx_index:0,__enum__:"hxd.SystemValue",toString:s},IsWindowed:{_hx_name:"IsWindowed",_hx_index:1,__enum__:"hxd.SystemValue",toString:s},IsMobile:{_hx_name:"IsMobile",_hx_index:2,__enum__:"hxd.SystemValue",toString:s}};fs.__constructs__=[fs.IsTouch,fs.IsWindowed,fs.IsMobile],fs.__empty_constructs__=[fs.IsTouch,fs.IsWindowed,fs.IsMobile];var xs=function(){};e["hxd.Timer"]=xs,xs.__name__="hxd.Timer",xs.update=function(){xs.frameCount++;var A=o.now()/1e3;if(xs.elapsedTime=A-xs.lastTimeStamp,xs.lastTimeStamp=A,xs.elapsedTime<xs.maxDeltaTime){var t=xs.elapsedTime;xs.currentDT=t+xs.smoothFactor*(xs.currentDT-t)}else xs.elapsedTime=1/xs.wantedFPS;xs.dt=xs.currentDT},xs.skip=function(){xs.lastTimeStamp=o.now()/1e3};var gs=function(A,t){this.useScreenPixels=!0,this.curMouseY=0,this.curMouseX=0;var e=this,s=null!=A;if(this.eventTargets=new Qe,this.resizeEvents=new Qe,null==A){if(null==(A=window.document.getElementById("webgl")))throw de.thrown("Missing canvas #webgl");"1"==A.getAttribute("globalEvents")&&(t=!0)}this.canvas=A,this.propagateKeyEvents=t;var i=A.getAttribute("propagateKeyEvents");null!=i&&(this.propagateKeyEvents="0"!=i&&"false"!=i),this.focused=t,this.element=t?window:A,this.canvasPos=A.getBoundingClientRect(),s?A.addEventListener("mousemove",Di(this,this.onMouseMove)):window.addEventListener("mousemove",Di(this,this.onMouseMove)),this.element.addEventListener("mousedown",Di(this,this.onMouseDown)),this.element.addEventListener("mouseup",Di(this,this.onMouseUp)),this.element.addEventListener("wheel",Di(this,this.onMouseWheel)),this.element.addEventListener("touchstart",Di(this,this.onTouchStart)),this.element.addEventListener("touchmove",Di(this,this.onTouchMove)),this.element.addEventListener("touchend",Di(this,this.onTouchEnd)),this.element.addEventListener("keydown",Di(this,this.onKeyDown)),this.element.addEventListener("keyup",Di(this,this.onKeyUp)),this.element.addEventListener("keypress",Di(this,this.onKeyPress));var r=Di(this,this.onFocus),n=function(){r(false)};this.element.addEventListener("blur",n);var a=Di(this,this.onFocus);n=function(){a(true)};this.element.addEventListener("focus",n),A.oncontextmenu=function(A){return A.stopPropagation(),A.preventDefault(),!1},t?(A.addEventListener("mousedown",(function(A){e.onMouseDown(A),A.stopPropagation(),A.preventDefault()})),this.element.addEventListener("contextmenu",(function(A){return A.stopPropagation(),A.preventDefault(),!1}))):(null==A.getAttribute("tabindex")&&A.setAttribute("tabindex","1"),A.style.outline="none"),this.curW=this.get_width(),this.curH=this.get_height(),this.timer=new be(100),this.timer.run=Di(this,this.checkResize)};e["hxd.Window"]=gs,gs.__name__="hxd.Window",gs.getInstance=function(){return null==gs.inst&&(gs.inst=new gs),gs.inst},gs.prototype={checkResize:function(){this.canvasPos=this.canvas.getBoundingClientRect();var A=this.get_width(),t=this.get_height();this.curW==A&&this.curH==t||(this.curW=A,this.curH=t,this.onResize(null))},event:function(A){for(var t=this.eventTargets.h;null!=t;){var e=t.item;t=t.next,e(A)}},addEventTarget:function(A){this.eventTargets.add(A)},removeEventTarget:function(A){for(var t=this.eventTargets.h;null!=t;){var e=t.item;t=t.next;var s=e;if(p.compareMethods(s,A)){this.eventTargets.remove(s);break}}},addResizeEvent:function(A){this.resizeEvents.push(A)},removeResizeEvent:function(A){for(var t=this.resizeEvents.h;null!=t;){var e=t.item;if(t=t.next,p.compareMethods(e,A)){this.resizeEvents.remove(A);break}}},onResize:function(A){for(var t=this.resizeEvents.h;null!=t;){var e=t.item;t=t.next,e()}},getPixelRatio:function(){return this.useScreenPixels?window.devicePixelRatio:1},get_width:function(){return Math.round(this.canvasPos.width*this.getPixelRatio())},get_height:function(){return Math.round(this.canvasPos.height*this.getPixelRatio())},get_mouseX:function(){return Math.round((this.curMouseX-this.canvasPos.left)*this.getPixelRatio())},get_mouseY:function(){return Math.round((this.curMouseY-this.canvasPos.top)*this.getPixelRatio())},onMouseDown:function(A){A.clientX==this.curMouseX&&A.clientY==this.curMouseY||this.onMouseMove(A);var t,e=new as(ns.EPush,this.get_mouseX(),this.get_mouseY()),s=A.button;switch(s){case 1:t=2;break;case 2:t=1;break;default:t=s}e.button=t,this.event(e)},onMouseUp:function(A){A.clientX==this.curMouseX&&A.clientY==this.curMouseY||this.onMouseMove(A);var t,e=new as(ns.ERelease,this.get_mouseX(),this.get_mouseY()),s=A.button;switch(s){case 1:t=2;break;case 2:t=1;break;default:t=s}e.button=t,this.event(e)},onMouseMove:function(A){this.curMouseX=A.clientX,this.curMouseY=A.clientY,this.event(new as(ns.EMove,this.get_mouseX(),this.get_mouseY()))},onMouseWheel:function(A){A.preventDefault();var t=new as(ns.EWheel,this.get_mouseX(),this.get_mouseY());t.wheelDelta=A.deltaY/120,this.event(t)},onTouchStart:function(A){var t,e,s;A.preventDefault();for(var i=0,r=A.changedTouches;i<r.length;){var n=r[i];++i,t=Math.round((n.clientX-this.canvasPos.left)*this.getPixelRatio()),e=Math.round((n.clientY-this.canvasPos.top)*this.getPixelRatio()),(s=new as(ns.EPush,t,e)).touchId=n.identifier,this.event(s)}},onTouchMove:function(A){var t,e,s;A.preventDefault();for(var i=0,r=A.changedTouches;i<r.length;){var n=r[i];++i,t=Math.round((n.clientX-this.canvasPos.left)*this.getPixelRatio()),e=Math.round((n.clientY-this.canvasPos.top)*this.getPixelRatio()),(s=new as(ns.EMove,t,e)).touchId=n.identifier,this.event(s)}},onTouchEnd:function(A){var t,e,s;A.preventDefault();for(var i=0,r=A.changedTouches;i<r.length;){var n=r[i];++i,t=Math.round((n.clientX-this.canvasPos.left)*this.getPixelRatio()),e=Math.round((n.clientY-this.canvasPos.top)*this.getPixelRatio()),(s=new as(ns.ERelease,t,e)).touchId=n.identifier,this.event(s)}},onKeyUp:function(A){var t=new as(ns.EKeyUp,this.get_mouseX(),this.get_mouseY());t.keyCode=A.keyCode,this.event(t),this.propagateKeyEvents||(A.preventDefault(),A.stopPropagation())},onKeyDown:function(A){var t=new as(ns.EKeyDown,this.get_mouseX(),this.get_mouseY());if(t.keyCode=A.keyCode,this.event(t),!this.propagateKeyEvents){switch(t.keyCode){case 8:case 9:case 16:case 17:case 33:case 34:case 35:case 36:case 37:case 38:case 39:case 40:A.preventDefault()}A.stopPropagation()}},onKeyPress:function(A){var t=new as(ns.ETextInput,this.get_mouseX(),this.get_mouseY());t.charCode=A.charCode,this.event(t),this.propagateKeyEvents||(A.preventDefault(),A.stopPropagation())},onFocus:function(A){this.event(new as(A?ns.EFocus:ns.EFocusLost)),this.focused=A},set_displayMode:function(A){var t=window.document,e=t.documentElement,s=A!=ms.Windowed;return t.fullscreenElement==e==s?ms.Windowed:(A!=ms.Windowed?e.requestFullscreen():t.exitFullscreen(),A)},__class__:gs};var bs=function(){};e["hxd.System"]=bs,bs.__name__="hxd.System",bs.setLoop=function(A){bs.loopInit||(bs.loopInit=!0,bs.browserLoop()),bs.loopFunc=A},bs.browserLoop=function(){var A=window,t=A.requestAnimationFrame||A.webkitRequestAnimationFrame||A.mozRequestAnimationFrame;bs.fpsLimit>0?window.setTimeout((function(){return t(bs.browserLoop)}),1e3/bs.fpsLimit):t(bs.browserLoop),null!=bs.loopFunc&&bs.loopFunc()},bs.start=function(A){A()},bs.setNativeCursor=function(A){if(null==bs.currentNativeCursor||!b.enumEq(A,bs.currentNativeCursor)){bs.currentNativeCursor=A,bs.currentCustomCursor=null;var t=gs.getInstance().canvas;if(null!=t){var e;switch(A._hx_index){case 0:e="default";break;case 1:e="pointer";break;case 2:e="move";break;case 3:e="text";break;case 4:e="none";break;case 5:var s=A.custom;if(null==s.alloc){s.alloc=[];for(var i=0,r=s.frames;i<r.length;){var n=r[i];++i,s.alloc.push('url("'+n.ctx.canvas.toDataURL("image/png")+'") '+s.offsetX+" "+s.offsetY+", default")}}s.frames.length>1&&(bs.currentCustomCursor=s,s.reset()),e=s.alloc[s.frameIndex];break;case 6:i=A.f;throw de.thrown("assert")}t.style.cursor=e}}},bs.getDefaultFrameRate=function(){return 60},bs.getValue=function(A){switch(A._hx_index){case 0:case 2:return bs.get_platform()==ps.Android||bs.get_platform()==ps.IOS;case 1:return!0}},bs.updateCursor=function(){if(null!=bs.currentCustomCursor){var A=bs.currentCustomCursor.update(xs.elapsedTime);if(-1!=A){var t=gs.getInstance().canvas;null!=t&&(t.style.cursor=bs.currentCustomCursor.alloc[A])}}},bs.get_platform=function(){var t=A.navigator.userAgent.toLowerCase();return t.indexOf("android")>=0?ps.Android:t.indexOf("ipad")>=0||t.indexOf("iphone")>=0||t.indexOf("ipod")>=0?ps.IOS:ps.PC};var ms=i["hxd.DisplayMode"]={__ename__:!0,__constructs__:null,Windowed:{_hx_name:"Windowed",_hx_index:0,__enum__:"hxd.DisplayMode",toString:s},Borderless:{_hx_name:"Borderless",_hx_index:1,__enum__:"hxd.DisplayMode",toString:s},Fullscreen:{_hx_name:"Fullscreen",_hx_index:2,__enum__:"hxd.DisplayMode",toString:s},FullscreenResize:{_hx_name:"FullscreenResize",_hx_index:3,__enum__:"hxd.DisplayMode",toString:s}};ms.__constructs__=[ms.Windowed,ms.Borderless,ms.Fullscreen,ms.FullscreenResize],ms.__empty_constructs__=[ms.Windowed,ms.Borderless,ms.Fullscreen,ms.FullscreenResize];var vs=function(){};e["hxd.fmt.hdr.Reader"]=vs,vs.__name__="hxd.fmt.hdr.Reader",vs.decode=function(A,t){for(var e,s,i=new Le(A),r=Object.create(null);;){var n=i.readLine();if(""==n)break;if(35!=o.cca(n,0)){var a=n.split("=");a.length>1&&(r[a.shift()]=a.join("="))}}var h=i.readLine().split(" ");s=f.parseInt(h[1]),e=f.parseInt(h[3]);var l="1"==r.GAMMA,u=new Be(new ArrayBuffer(e*s*4*4)),_=1,c=r.EXPOSURE;if(null!=c){var d=parseFloat(c);(d<1e-12||d<1e12)&&(_=d)}for(var p=t?1:.45454545454545453,x=[],g=0;g<256;){var b=g++;x.push(Math.pow(b,p))}var m=x;for(x=[],g=0;g<256;){b=g++;x.push(Math.pow(Math.pow(2,b-128)/(256*_),p))}var v=x;if(null==(x=r.FORMAT)){var w=x;throw de.thrown("Unsupported HDR format "+w)}if("32-bit_rle_rgbe"!=x){w=x;throw de.thrown("Unsupported HDR format "+w)}for(var y=i.pos,B=new Be(new ArrayBuffer(4*e)),C=e>>8|(255&e)<<8,k=(g=0,s);g<k;){var M=g++,S=A.getInt32(y);if(514!=(65535&S)||S>>>16!=C)B.blit(0,A,y,4*e),y+=4*e;else{y+=4;for(var T=0,F=4*e;T<F;){var E=A.b[y++];E>128?(E-=128,B.fill(T,E,A.b[y++])):(B.blit(T,A,y,E),y+=E),T+=E}}for(var I=M*e*16,D=0,Q=e;D<Q;){var V=D++;b=v[B.b[V+3*e]];u.setFloat(I,m[B.b[V]]*b),I+=4,u.setFloat(I,m[B.b[V+e]]*b),I+=4,u.setFloat(I,m[B.b[V+(e<<1)]]*b),I+=4,u.setFloat(I,1),I+=4}}return{width:e,height:s,bytes:u,gamma:l}};var ws=function(){};e["hxd.fs.FileEntry"]=ws,ws.__name__="hxd.fs.FileEntry",ws.prototype={getBytes:function(){return null},open:function(){},skip:function(A){},readByte:function(){return 0},read:function(A,t,e){},close:function(){},load:function(A){if(!this.get_isAvailable())throw de.thrown("load() not implemented");null!=A&&A()},loadBitmap:function(A){throw de.thrown("loadBitmap() not implemented")},watch:function(A){},get_isAvailable:function(){return!0},get_size:function(){return 0},get_path:function(){throw de.thrown("path() not implemented")},get_extension:function(){var A=this.name.lastIndexOf(".");return A<0?"":o.substr(this.name,A+1,null).toLowerCase()},__class__:ws};var ys=function(){};e["hxd.fs.FileSystem"]=ys,ys.__name__="hxd.fs.FileSystem",ys.__isInterface__=!0,ys.prototype={__class__:ys};var Bs=function(A,t,e,s){this.fs=A,this.name=t,this.relPath=e,this.data=s};e["hxd.fs._EmbedFileSystem.EmbedEntry"]=Bs,Bs.__name__="hxd.fs._EmbedFileSystem.EmbedEntry",Bs.__super__=ws,Bs.prototype=r(ws.prototype,{getBytes:function(){return null==this.bytes&&this.open(),this.bytes},open:function(){if(null==this.bytes&&(this.bytes=ge.getBytes(this.data),null==this.bytes))throw de.thrown("Missing resource "+this.data);this.readPos=0},skip:function(A){this.readPos+=A},readByte:function(){return this.bytes.b[this.readPos++]},read:function(A,t,e){A.blit(t,this.bytes,this.readPos,e),this.readPos+=e},close:function(){this.bytes=null,this.readPos=0},load:function(A){null!=A&&be.delay(A,1)},loadBitmap:function(A){for(var t=null,e=0,s=ge.content;e<s.length;){var i=s[e];if(++e,i.name==this.data){t=i.data;break}}if(null==t)throw de.thrown("Missing resource "+this.data);var r=new Image;r.onload=function(t){A(r)};var n="";for(e=0,s=(3-4*(6*t.length>>3)%3)%3;e<s;){e++;n+="="}var a="data:image/"+this.get_extension()+";base64,"+t;r.src=a+n},get_path:function(){return"."==this.relPath?"<root>":this.relPath},get_size:function(){return this.open(),this.bytes.length},__class__:Bs});var Cs=function(A){this.root=A};e["hxd.fs.EmbedFileSystem"]=Cs,Cs.__name__="hxd.fs.EmbedFileSystem",Cs.__interfaces__=[ys],Cs.resolve=function(A){return"R_"+A.replace(Cs.invalidChars.r,"_")},Cs.prototype={splitPath:function(A){return"."==A?[]:A.split("/")},exists:function(A){for(var t=this.root,e=0,s=this.splitPath(A);e<s.length;){var i=s[e];if(++e,null==(t=p.field(t,i)))return!1}return!0},get:function(A){if(!this.exists(A))throw de.thrown(new Ss(A));var t=Cs.resolve(A);return new Bs(this,A.split("/").pop(),A,t)},__class__:Cs};var ks=function(A){this.f=A,A.open()};e["hxd.fs.FileInput"]=ks,ks.__name__="hxd.fs.FileInput",ks.__super__=Oe,ks.prototype=r(Oe.prototype,{skip:function(A){this.f.skip(A)},readByte:function(){return this.f.readByte()},readBytes:function(A,t,e){return this.f.read(A,t,e),e},close:function(){this.f.close()},__class__:ks});var Ms={toBitmap:function(A){var t=new ss(A.width,A.height);return t.ctx.drawImage(A,0,0),t}},Ss=function(A){this.path=A};e["hxd.fs.NotFound"]=Ss,Ss.__name__="hxd.fs.NotFound",Ss.prototype={toString:function(){return"Resource file not found '"+this.path+"'"},__class__:Ss};var Ts=function(){};e["hxd.impl.Allocator"]=Ts,Ts.__name__="hxd.impl.Allocator",Ts.get=function(){return null==Ts.inst&&(Ts.inst=new Ts),Ts.inst},Ts.prototype={allocBuffer:function(A,t,e){var s;switch(e){case 0:s=[nA.Dynamic];break;case 1:s=[nA.UniformBuffer,nA.Dynamic];break;case 2:s=[nA.RawFormat];break;case 3:s=[nA.Quads,nA.RawFormat]}return new aA(A,t,s)},ofFloats:function(A,t,e){var s=A.pos/t|0,i=this.allocBuffer(s,t,e);return i.uploadVector(A,0,s),i},disposeBuffer:function(A){A.dispose()},onContextLost:function(){},__class__:Ts};var Fs=function(A){this.entry=A};e["hxd.res.Resource"]=Fs,Fs.__name__="hxd.res.Resource",Fs.prototype={toString:function(){return this.entry.get_path()},watch:function(A){Fs.LIVE_UPDATE&&this.entry.watch(A)},__class__:Fs};var Es=function(A,t){Fs.call(this,t),this.loader=A};e["hxd.res.Any"]=Es,Es.__name__="hxd.res.Any",Es.__super__=Fs,Es.prototype=r(Fs.prototype,{toTile:function(){return this.toImage().toTile()},toImage:function(){return this.loader.loadCache(this.entry.get_path(),Qs)},__class__:Es});var Is=i["hxd.res.ImageInfoFlag"]={__ename__:!0,__constructs__:null,IsCube:{_hx_name:"IsCube",_hx_index:0,__enum__:"hxd.res.ImageInfoFlag",toString:s},Dxt10Header:{_hx_name:"Dxt10Header",_hx_index:1,__enum__:"hxd.res.ImageInfoFlag",toString:s}};Is.__constructs__=[Is.IsCube,Is.Dxt10Header],Is.__empty_constructs__=[Is.IsCube,Is.Dxt10Header];var Ds=function(){this.mipLevels=1,this.height=0,this.width=0;this.flags=0};e["hxd.res.ImageInfo"]=Ds,Ds.__name__="hxd.res.ImageInfo",Ds.prototype={__class__:Ds};var Qs=function(A){Fs.call(this,A)};e["hxd.res.Image"]=Qs,Qs.__name__="hxd.res.Image",Qs.setupTextureFlags=function(A){},Qs.__super__=Fs,Qs.prototype=r(Fs.prototype,{getInfo:function(){if(null!=this.inf)return this.inf;this.inf=new Ds;var A,t=new ks(this.entry);try{A=t.readUInt16()}catch(t){if(!(de.caught(t).unwrap()instanceof Xe))throw t;A=0}switch(A){case 16163:for(this.inf.dataFormat=6;""!=t.readLine(););var e=t.readLine().split(" ");this.inf.pixelFormat=tt.RGBA32F,this.inf.height=f.parseInt(e[1]),this.inf.width=f.parseInt(e[3]);break;case 17476:this.inf.dataFormat=4,t.skip(10),this.inf.height=t.readInt32(),this.inf.width=t.readInt32(),t.skip(8),this.inf.mipLevels=t.readInt32(),t.skip(48);var s=t.readInt32(),i=t.readInt32(),r=t.readInt32(),n=t.readInt32(),a=t.readInt32(),h=t.readInt32(),l=t.readInt32();t.readInt32();switch(65024==(65024&t.readInt32())&&(this.inf.flags|=1<<Is.IsCube._hx_index),16777215&i){case 0:if(808540228==i){switch(t.skip(12),this.inf.flags|=1<<Is.Dxt10Header._hx_index,o=t.readInt32()){case 95:c=tt.S3TC(6);break;case 98:c=tt.S3TC(7);break;default:throw de.thrown(this.entry.get_path()+" has unsupported DXGI format "+o)}this.inf.pixelFormat=c}else if(0!=(64&s)){if(32!=r)throw de.thrown("Unsupported RGB DDS "+r+"bits "+g.hex(n)+"/"+g.hex(a)+"/"+g.hex(h)+"/"+g.hex(l));switch(n){case 255:if(65280!=a)throw de.thrown("Unsupported RGB DDS "+r+"bits "+g.hex(n)+"/"+g.hex(a)+"/"+g.hex(h)+"/"+g.hex(l));if(16711680!=h)throw de.thrown("Unsupported RGB DDS "+r+"bits "+g.hex(n)+"/"+g.hex(a)+"/"+g.hex(h)+"/"+g.hex(l));if(-16777216!=l)throw de.thrown("Unsupported RGB DDS "+r+"bits "+g.hex(n)+"/"+g.hex(a)+"/"+g.hex(h)+"/"+g.hex(l));this.inf.pixelFormat=tt.RGBA;break;case 16711680:if(65280!=a)throw de.thrown("Unsupported RGB DDS "+r+"bits "+g.hex(n)+"/"+g.hex(a)+"/"+g.hex(h)+"/"+g.hex(l));if(255!=h)throw de.thrown("Unsupported RGB DDS "+r+"bits "+g.hex(n)+"/"+g.hex(a)+"/"+g.hex(h)+"/"+g.hex(l));if(-16777216!=l)throw de.thrown("Unsupported RGB DDS "+r+"bits "+g.hex(n)+"/"+g.hex(a)+"/"+g.hex(h)+"/"+g.hex(l));this.inf.pixelFormat=tt.BGRA;break;default:throw de.thrown("Unsupported RGB DDS "+r+"bits "+g.hex(n)+"/"+g.hex(a)+"/"+g.hex(h)+"/"+g.hex(l))}}break;case 111:if(808540228==i){switch(t.skip(12),this.inf.flags|=1<<Is.Dxt10Header._hx_index,o=t.readInt32()){case 95:c=tt.S3TC(6);break;case 98:c=tt.S3TC(7);break;default:throw de.thrown(this.entry.get_path()+" has unsupported DXGI format "+o)}this.inf.pixelFormat=c}else this.inf.pixelFormat=tt.R16F;break;case 112:if(808540228==i){switch(t.skip(12),this.inf.flags|=1<<Is.Dxt10Header._hx_index,o=t.readInt32()){case 95:c=tt.S3TC(6);break;case 98:c=tt.S3TC(7);break;default:throw de.thrown(this.entry.get_path()+" has unsupported DXGI format "+o)}this.inf.pixelFormat=c}else this.inf.pixelFormat=tt.RG16F;break;case 113:if(808540228==i){switch(t.skip(12),this.inf.flags|=1<<Is.Dxt10Header._hx_index,o=t.readInt32()){case 95:c=tt.S3TC(6);break;case 98:c=tt.S3TC(7);break;default:throw de.thrown(this.entry.get_path()+" has unsupported DXGI format "+o)}this.inf.pixelFormat=c}else this.inf.pixelFormat=tt.RGBA16F;break;case 114:if(808540228==i){switch(t.skip(12),this.inf.flags|=1<<Is.Dxt10Header._hx_index,o=t.readInt32()){case 95:c=tt.S3TC(6);break;case 98:c=tt.S3TC(7);break;default:throw de.thrown(this.entry.get_path()+" has unsupported DXGI format "+o)}this.inf.pixelFormat=c}else this.inf.pixelFormat=tt.R32F;break;case 115:if(808540228==i){switch(t.skip(12),this.inf.flags|=1<<Is.Dxt10Header._hx_index,o=t.readInt32()){case 95:c=tt.S3TC(6);break;case 98:c=tt.S3TC(7);break;default:throw de.thrown(this.entry.get_path()+" has unsupported DXGI format "+o)}this.inf.pixelFormat=c}else this.inf.pixelFormat=tt.RG32F;break;case 116:if(808540228==i){switch(t.skip(12),this.inf.flags|=1<<Is.Dxt10Header._hx_index,o=t.readInt32()){case 95:c=tt.S3TC(6);break;case 98:c=tt.S3TC(7);break;default:throw de.thrown(this.entry.get_path()+" has unsupported DXGI format "+o)}this.inf.pixelFormat=c}else this.inf.pixelFormat=tt.RGBA32F;break;case 4805697:switch((i>>>24)-48){case 1:c=tt.S3TC(4);break;case 2:c=tt.S3TC(5);break;default:c=null}this.inf.pixelFormat=c;break;case 5527620:switch((i>>>24)-48){case 1:c=tt.S3TC(1);break;case 2:case 3:c=tt.S3TC(2);break;case 4:case 5:c=tt.S3TC(3);break;default:c=null}this.inf.pixelFormat=c;break;default:if(808540228==i){var o;switch(t.skip(12),this.inf.flags|=1<<Is.Dxt10Header._hx_index,o=t.readInt32()){case 95:c=tt.S3TC(6);break;case 98:c=tt.S3TC(7);break;default:throw de.thrown(this.entry.get_path()+" has unsupported DXGI format "+o)}this.inf.pixelFormat=c}}if(null==this.inf.pixelFormat){var u=String.fromCodePoint(255&i)+String.fromCodePoint(i>>8&255)+String.fromCodePoint(i>>16&255)+String.fromCodePoint(i>>>24);throw(255&i)==i&&(u="0x"+i),de.thrown(this.entry.get_path()+" has unsupported 4CC "+u)}break;case 18759:this.inf.dataFormat=2,this.inf.pixelFormat=tt.BGRA,t.readInt32(),this.inf.width=t.readUInt16(),this.inf.height=t.readUInt16();break;case 20617:for(this.inf.dataFormat=1,t.set_bigEndian(!0),t.skip(6);;){var _=t.readInt32();if(1229472850==t.readInt32()){this.inf.width=t.readInt32(),this.inf.height=t.readInt32();var c,d=t.readByte();switch(d){case 8:c=tt.BGRA;break;case 16:c=tt.R16U;break;case 48:c=tt.RGB16U;break;case 64:c=tt.RGBA16U;break;default:throw de.thrown("Unsupported png format "+d+"("+this.entry.get_path()+")")}this.inf.pixelFormat=c;break}t.skip(_+4)}break;case 55551:this.inf.dataFormat=0,this.inf.pixelFormat=tt.BGRA,t.set_bigEndian(!0);A:for(;;)switch(t.readUInt16()){case 65472:case 65473:case 65474:t.readUInt16(),t.readByte();this.inf.height=t.readUInt16(),this.inf.width=t.readUInt16();break A;default:t.skip(t.readUInt16()-2)}break;default:if("tga"==this.entry.get_extension())this.inf.dataFormat=3,this.inf.pixelFormat=tt.ARGB,t.skip(10),this.inf.width=t.readUInt16(),this.inf.height=t.readUInt16();else{if("raw"!=this.entry.get_extension())throw de.thrown("Unsupported texture format "+this.entry.get_path());this.inf.dataFormat=5,this.inf.pixelFormat=tt.R32F;var p=0|Math.sqrt(this.entry.get_size()>>2);if(this.entry.get_size()!=p*p*4){var x=0|Math.sqrt(this.entry.get_size()>>1);if(this.entry.get_size()!=x*x*2)throw de.thrown("RAW format does not match 32 bit per components on "+p+"x"+p);this.inf.pixelFormat=tt.R16F,p=x}this.inf.width=this.inf.height=p}}if(t.close(),null==this.inf.pixelFormat)throw de.thrown("Unsupported internal format ("+this.entry.get_path()+")");return this.inf},getPixels:function(A,t,e){var s;switch(null==e&&(e=0),this.getInfo().dataFormat){case 0:var i=this.entry.getBytes();if(this.inf.pixelFormat!=tt.BGRA)throw de.thrown("No support to decode "+f.string(this.inf.pixelFormat)+" on this platform ("+this.entry.get_path()+")");try{c=Gs.decode(i)}catch(d){var r=de.caught(d).unwrap();throw de.thrown("Failed to decode JPG "+this.entry.get_path()+" ("+f.string(r)+")")}s=new _s(c.width,c.height,c.pixels,tt.BGRA);break;case 1:i=this.entry.getBytes();if(this.inf.pixelFormat!=tt.BGRA)throw de.thrown("No support to decode "+f.string(this.inf.pixelFormat)+" on this platform ("+this.entry.get_path()+")");var n=new T(new Le(i));n.checkCRC=!1,s=_s.alloc(this.inf.width,this.inf.height,tt.BGRA);var a=n.read();F.extract32(a,s.bytes,t),t&&(s.flags|=1<<os.FlipY._hx_index);break;case 2:i=this.entry.getBytes();var h=new C(new Le(i)).read();s=A==tt.RGBA?new _s(this.inf.width,this.inf.height,k.extractFullRGBA(h,0),tt.RGBA):new _s(this.inf.width,this.inf.height,k.extractFullBGRA(h,0),tt.BGRA);break;case 3:i=this.entry.getBytes();var l=new D(new Le(i)).read();if(l.header.imageType!=I.UncompressedTrueColor||32!=l.header.bitsPerPixel)throw de.thrown("Not supported TGA "+f.string(l.header.imageType)+"/"+l.header.bitsPerPixel);var o=l.header.width,u=l.header.height;s=_s.alloc(o,u,tt.ARGB);for(var _=us.fromPixels(s),c=0,d=0,p=u;d<p;)for(var x=d++,g=0,b=o;g<b;){var m=g++,v=l.imageData[m+x*o];_.bytes.setInt32((m+x*_.width<<2)+_.offset,v>>>24|v>>8&65280|v<<8&16711680|v<<24)}switch(l.header.imageOrigin._hx_index){case 0:s.flags|=1<<os.FlipY._hx_index;break;case 2:break;default:throw de.thrown("Not supported "+f.string(l.header.imageOrigin))}break;case 4:var w=128,y=0;if(0!=(this.inf.flags&1<<Is.Dxt10Header._hx_index)&&(w+=20),e>0){_s.calcStride(1,this.inf.pixelFormat);var B=e/this.inf.mipLevels|0;y=e%this.inf.mipLevels;var M=0;for(d=0,p=this.inf.mipLevels;d<p;){var S=d++;if(0==(o=this.inf.width>>S)&&(o=1),0==(u=this.inf.height>>S)&&(u=1),M+=E=_s.calcDataSize(o,u,this.inf.pixelFormat),S<y)w+=E;else if(0==B)break}w+=M*B}if(0==(o=this.inf.width>>y)&&(o=1),0==(u=this.inf.height>>y)&&(u=1),1==this.inf.mipLevels&&0==(this.inf.flags&1<<Is.IsCube._hx_index))i=this.entry.getBytes();else{var E=_s.calcDataSize(o,u,this.inf.pixelFormat);this.entry.open(),this.entry.skip(w),i=new Be(new ArrayBuffer(E)),this.entry.read(i,0,E),this.entry.close(),w=0}s=new _s(o,u,i,this.inf.pixelFormat,w);break;case 5:i=this.entry.getBytes();s=new _s(this.inf.width,this.inf.height,i,this.inf.pixelFormat);break;case 6:var Q=vs.decode(this.entry.getBytes(),!1);s=new _s(Q.width,Q.height,Q.bytes,this.inf.pixelFormat)}return null!=A&&s.convert(A),null!=t&&s.setFlip(t),s},watchCallb:function(){var A=this.inf.width,t=this.inf.height;this.inf=null;var e=this.getInfo();A==e.width&&t==e.height||this.tex.resize(e.width,e.height),this.tex.realloc=null,this.loadTexture()},loadTexture:function(){var A=this;if(0==this.getInfo().dataFormat||Qs.DEFAULT_ASYNC)this.tex.flags|=1<<WA.Loading._hx_index,this.entry.loadBitmap((function(t){var e=Ms.toBitmap(t);if(A.tex.alloc(),A.tex.uploadBitmap(e),e.ctx=null,e.pixel=null,A.tex.realloc=Di(A,A.loadTexture),A.tex.flags&=-1-(1<<WA.Loading._hx_index),null!=A.tex.waitLoads){var s=A.tex.waitLoads;A.tex.waitLoads=null;for(var i=0;i<s.length;){var r=s[i];++i,r()}}Qs.ENABLE_AUTO_WATCH&&A.watch(Di(A,A.watchCallb))}));else{var t=function(){A.tex.alloc();for(var t=0,e=A.tex.get_layerCount();t<e;)for(var s=t++,i=0,r=A.inf.mipLevels;i<r;){var n=i++,a=A.getPixels(A.tex.format,null,s*A.inf.mipLevels+n);A.tex.uploadPixels(a,n,s),a.dispose()}A.tex.realloc=Di(A,A.loadTexture),Qs.ENABLE_AUTO_WATCH&&A.watch(Di(A,A.watchCallb))};this.entry.get_isAvailable()?t():this.entry.load(t)}},toTexture:function(){if(null!=this.tex)return this.tex;this.getInfo();var A=[WA.NoAlloc],t=this.inf.pixelFormat;if(t!=tt.BGRA&&t!=tt.ARGB&&t!=tt.RGBA||(t=et.nativeFormat),0!=(this.inf.flags&1<<Is.IsCube._hx_index)&&A.push(WA.Cube),this.inf.mipLevels>1&&(A.push(WA.MipMapped),A.push(WA.ManualMipMapGen)),t==tt.R16U)throw de.thrown("Unsupported texture format "+f.string(t)+" for "+this.entry.get_path());return this.tex=new et(this.inf.width,this.inf.height,A,t),Qs.DEFAULT_FILTER!=NA.Linear&&this.tex.set_filter(Qs.DEFAULT_FILTER),this.tex.setName(this.entry.get_path()),Qs.setupTextureFlags(this.tex),this.loadTexture(),this.tex},toTile:function(){return this.getInfo(),K.fromTexture(this.toTexture()).sub(0,0,this.inf.width,this.inf.height)},__class__:Qs});var Vs=function(A){this.fs=A,this.cache=new Ue};e["hxd.res.Loader"]=Vs,Vs.__name__="hxd.res.Loader",Vs.prototype={load:function(A){return new Es(this,this.fs.get(A))},loadCache:function(A,t){var e=this.cache.h[A];if(null==e){var s=this.fs.get(A),i=Vs.currentInstance;Vs.currentInstance=this,e=b.createInstance(t,[s]),Vs.currentInstance=i,this.cache.h[A]=e}else if(null==(ui.__downcastCheck(e,t)?e:null))throw de.thrown(A+" has been reintrepreted from "+f.string(ui.getClass(e))+" to "+f.string(t));return e},__class__:Vs};var Rs=i["hxd.res.Filter"]={__ename__:!0,__constructs__:null,Fast:{_hx_name:"Fast",_hx_index:0,__enum__:"hxd.res.Filter",toString:s},Chromatic:{_hx_name:"Chromatic",_hx_index:1,__enum__:"hxd.res.Filter",toString:s}};Rs.__constructs__=[Rs.Fast,Rs.Chromatic],Rs.__empty_constructs__=[Rs.Fast,Rs.Chromatic];var Us=function(){};e["hxd.res._NanoJpeg.Component"]=Us,Us.__name__="hxd.res._NanoJpeg.Component",Us.prototype={__class__:Us};var Gs=function(){this.comps=[new Us,new Us,new Us].slice(0);var A=new Array(64),t=new Array(64),e=new Array(64),s=new Array(64);this.qtab=[A,t,e,s].slice(0);A=new Array(16);this.counts=A;A=new Array(64);this.block=A,this.njZZ=[0,1,8,16,9,2,3,10,17,24,32,25,18,11,4,5,12,19,26,33,40,48,41,34,27,20,13,6,7,14,21,28,35,42,49,56,57,50,43,36,29,22,15,23,30,37,44,51,58,59,52,45,38,31,39,46,53,60,61,54,47,55,62,63].slice(0),this.vlctab=[null,null,null,null,null,null,null,null].slice(0)};e["hxd.res.NanoJpeg"]=Gs,Gs.__name__="hxd.res.NanoJpeg",Gs.decode=function(A,t,e,s){return null==s&&(s=-1),null==e&&(e=0),null==Gs.inst&&(Gs.inst=new Gs),Gs.inst.njInit(A,e,s,t),Gs.inst.njDecode()},Gs.prototype={njInit:function(A,t,e,s){this.bytes=A,this.pos=t,this.filter=null==s?Rs.Chromatic:s,e<0&&(e=A.length-t),null==this.vlctab[0]&&(this.vlctab[0]=new Be(new ArrayBuffer(131072))),null==this.vlctab[1]&&(this.vlctab[1]=new Be(new ArrayBuffer(131072))),null==this.vlctab[2]&&(this.vlctab[2]=new Be(new ArrayBuffer(131072))),null==this.vlctab[3]&&(this.vlctab[3]=new Be(new ArrayBuffer(131072))),this.size=e,this.qtused=0,this.qtavail=0,this.rstinterval=0,this.length=0,this.buf=0,this.bufbits=0,this.progressive=!1,this.comps[0].dcpred=0,this.comps[1].dcpred=0,this.comps[2].dcpred=0},cleanup:function(){this.bytes=null;for(var A=0,t=this.comps;A<t.length;){var e=t[A];++A,null!=e.pixels&&(e.pixels=null)}null!=this.vlctab[0]&&(this.vlctab[0]=null),null!=this.vlctab[1]&&(this.vlctab[1]=null),null!=this.vlctab[2]&&(this.vlctab[2]=null),null!=this.vlctab[3]&&(this.vlctab[3]=null),null!=this.vlctab[4]&&(this.vlctab[4]=null),null!=this.vlctab[5]&&(this.vlctab[5]=null),null!=this.vlctab[6]&&(this.vlctab[6]=null),null!=this.vlctab[7]&&(this.vlctab[7]=null)},njShowBits:function(A){if(0==A)return 0;for(;this.bufbits<A;)if(this.size<=0)this.buf=this.buf<<8|255,this.bufbits+=8;else{var t=this.bytes.b[this.pos];if(this.pos++,this.size--,this.bufbits+=8,this.buf=this.buf<<8|t,255==t){var e=this.bytes.b[this.pos];switch(this.pos++,this.size--,e){case 217:this.size=0;break;case 0:case 255:break;default:this.buf=this.buf<<8|e,this.bufbits+=8}}}return this.buf>>this.bufbits-A&(1<<A)-1},njDecodeSOF:function(){switch(this.length=this.bytes.b[this.pos]<<8|this.bytes.b[this.pos+1],this.pos+=2,this.size-=2,this.length-=2,8!=this.bytes.b[this.pos]&&this.notSupported(),this.height=this.bytes.b[this.pos+1]<<8|this.bytes.b[this.pos+2],this.width=this.bytes.b[this.pos+3]<<8|this.bytes.b[this.pos+4],this.ncomp=this.bytes.b[this.pos+5],this.pos+=6,this.size-=6,this.length-=6,this.ncomp){case 1:case 3:break;default:this.notSupported()}for(var A=0,t=0,e=0,s=this.ncomp;e<s;){var i=e++;(r=this.comps[i]).cid=this.bytes.b[this.pos],r.ssx=this.bytes.b[this.pos+1]>>4,0!=(r.ssx&r.ssx-1)&&this.notSupported(),r.ssy=15&this.bytes.b[this.pos+1],0!=(r.ssy&r.ssy-1)&&this.notSupported(),r.qtsel=this.bytes.b[this.pos+2],this.pos+=3,this.size-=3,this.length-=3,this.qtused|=1<<r.qtsel,r.ssx>A&&(A=r.ssx),r.ssy>t&&(t=r.ssy)}1==this.ncomp&&(A=t=1,(r=this.comps[0]).ssx=r.ssy=A);this.mbsizex=A<<3,this.mbsizey=t<<3,this.mbwidth=(this.width+this.mbsizex-1)/this.mbsizex|0,this.mbheight=(this.height+this.mbsizey-1)/this.mbsizey|0;for(e=0,s=this.ncomp;e<s;){var r;i=e++;(r=this.comps[i]).width=(this.width*r.ssx+A-1)/A|0,r.stride=r.width+7&2147483640,r.height=(this.height*r.ssy+t-1)/t|0,r.stride=this.mbwidth*this.mbsizex*r.ssx/A|0,(r.width<3&&r.ssx!=A||r.height<3&&r.ssy!=t)&&this.notSupported(),r.pixels=new Be(new ArrayBuffer(r.stride*(this.mbheight*this.mbsizey*r.ssy/t|0)))}var n=this.length;this.pos+=n,this.size-=n,this.length-=n},njDecodeDQT:function(){for(this.length=this.bytes.b[this.pos]<<8|this.bytes.b[this.pos+1],this.pos+=2,this.size-=2,this.length-=2;this.length>=65;){var A=this.bytes.b[this.pos];this.qtavail|=1<<A;for(var t=this.qtab[A],e=0;e<64;){var s=e++;t[s]=this.bytes.b[this.pos+(s+1)]}this.pos+=65,this.size-=65,this.length-=65}},njDecodeDHT:function(){for(this.length=this.bytes.b[this.pos]<<8|this.bytes.b[this.pos+1],this.pos+=2,this.size-=2,this.length-=2;this.length>=17;){var A=this.bytes.b[this.pos];A=A>>4&1|(3&A)<<1,this.counts[0]=this.bytes.b[this.pos+1],this.counts[1]=this.bytes.b[this.pos+2],this.counts[2]=this.bytes.b[this.pos+3],this.counts[3]=this.bytes.b[this.pos+4],this.counts[4]=this.bytes.b[this.pos+5],this.counts[5]=this.bytes.b[this.pos+6],this.counts[6]=this.bytes.b[this.pos+7],this.counts[7]=this.bytes.b[this.pos+8],this.counts[8]=this.bytes.b[this.pos+9],this.counts[9]=this.bytes.b[this.pos+10],this.counts[10]=this.bytes.b[this.pos+11],this.counts[11]=this.bytes.b[this.pos+12],this.counts[12]=this.bytes.b[this.pos+13],this.counts[13]=this.bytes.b[this.pos+14],this.counts[14]=this.bytes.b[this.pos+15],this.counts[15]=this.bytes.b[this.pos+16],this.pos+=17,this.size-=17,this.length-=17;for(var t=this.vlctab[A],e=0,s=65536,i=65536,r=1;r<17;){var n=r++;i>>=1;var a=this.counts[n-1];if(0!=a){s-=a<<16-n;for(var h=0,l=a;h<l;)for(var o=h++,u=this.bytes.b[this.pos+o],_=0,c=i;_<c;){_++;t.b[e++]=n,t.b[e++]=u}this.pos+=a,this.size-=a,this.length-=a}}for(;0!=s--;)t.b[e]=0,e+=2}},njDecodeDRI:function(){this.length=this.bytes.b[this.pos]<<8|this.bytes.b[this.pos+1],this.pos+=2,this.size-=2,this.length-=2,this.rstinterval=this.bytes.b[this.pos]<<8|this.bytes.b[this.pos+1];var A=this.length;this.pos+=A,this.size-=A,this.length-=A},njDecodeBlock:function(A,t){for(var e,s=A.pixels,i=0,r=0;r<64;){var n=r++;this.block[n]=0}var a,h=A,l=h.dcpred,o=this.vlctab[A.dctabsel],u=this.njShowBits(16),_=o.b[u<<1];if(this.bufbits<_&&this.njShowBits(_),this.bufbits-=_,u=o.b[u<<1|1],this.vlcCode=u,0==(_=15&u))a=0;else{var c=this.njShowBits(_);this.bufbits-=_,(u=c)<1<<_-1&&(u+=1+(-1<<_)),a=u}h.dcpred=l+a;var d=this.qtab[A.qtsel],p=this.vlctab[A.actabsel];for(this.block[0]=A.dcpred*d[0];;){u=this.njShowBits(16),_=p.b[u<<1];if(this.bufbits<_&&this.njShowBits(_),this.bufbits-=_,u=p.b[u<<1|1],this.vlcCode=u,0==(_=15&u))e=0;else{c=this.njShowBits(_);this.bufbits-=_,(u=c)<1<<_-1&&(u+=1+(-1<<_)),e=u}if(0==this.vlcCode)break;if(i+=1+(this.vlcCode>>4),this.block[this.njZZ[i]]=e*d[i],!(i<63))break}var f=0;if(0==((B=this.block[f+4]<<11)|(C=this.block[f+6])|(k=this.block[f+2])|(M=this.block[f+1])|(S=this.block[f+7])|(T=this.block[f+5])|(F=this.block[f+3]))){var x=this.block[f+7]=this.block[f]<<3,g=this.block[f+6]=x;x=this.block[f+5]=g,g=this.block[f+4]=x,x=this.block[f+3]=g,g=this.block[f+2]=x,x=this.block[f+1]=g;this.block[f]=x}else M=(y=565*(M+S))+2276*M,S=y-3406*S,T=(y=2408*(T+F))-799*T,F=y-4017*F,y=(w=128+(this.block[f]<<11))+B,w-=B,C=(B=1108*(k+C))-3784*C,k=B+1568*k,B=M+T,M-=T,T=S+F,S-=F,F=y+k,y-=k,k=w+C,w-=C,C=181*(M+S)+128>>8,M=181*(M-S)+128>>8,this.block[f]=F+B>>8,this.block[f+1]=k+C>>8,this.block[f+2]=w+M>>8,this.block[f+3]=y+T>>8,this.block[f+4]=y-T>>8,this.block[f+5]=w-M>>8,this.block[f+6]=k-C>>8,this.block[f+7]=F-B>>8;f=8;if(0==((B=this.block[f+4]<<11)|(C=this.block[f+6])|(k=this.block[f+2])|(M=this.block[f+1])|(S=this.block[f+7])|(T=this.block[f+5])|(F=this.block[f+3]))){x=this.block[f+7]=this.block[f]<<3,g=this.block[f+6]=x,x=this.block[f+5]=g,g=this.block[f+4]=x,x=this.block[f+3]=g,g=this.block[f+2]=x,x=this.block[f+1]=g;this.block[f]=x}else M=(y=565*(M+S))+2276*M,S=y-3406*S,T=(y=2408*(T+F))-799*T,F=y-4017*F,y=(w=128+(this.block[f]<<11))+B,w-=B,C=(B=1108*(k+C))-3784*C,k=B+1568*k,B=M+T,M-=T,T=S+F,S-=F,F=y+k,y-=k,k=w+C,w-=C,C=181*(M+S)+128>>8,M=181*(M-S)+128>>8,this.block[f]=F+B>>8,this.block[f+1]=k+C>>8,this.block[f+2]=w+M>>8,this.block[f+3]=y+T>>8,this.block[f+4]=y-T>>8,this.block[f+5]=w-M>>8,this.block[f+6]=k-C>>8,this.block[f+7]=F-B>>8;f=16;if(0==((B=this.block[f+4]<<11)|(C=this.block[f+6])|(k=this.block[f+2])|(M=this.block[f+1])|(S=this.block[f+7])|(T=this.block[f+5])|(F=this.block[f+3]))){x=this.block[f+7]=this.block[f]<<3,g=this.block[f+6]=x,x=this.block[f+5]=g,g=this.block[f+4]=x,x=this.block[f+3]=g,g=this.block[f+2]=x,x=this.block[f+1]=g;this.block[f]=x}else M=(y=565*(M+S))+2276*M,S=y-3406*S,T=(y=2408*(T+F))-799*T,F=y-4017*F,y=(w=128+(this.block[f]<<11))+B,w-=B,C=(B=1108*(k+C))-3784*C,k=B+1568*k,B=M+T,M-=T,T=S+F,S-=F,F=y+k,y-=k,k=w+C,w-=C,C=181*(M+S)+128>>8,M=181*(M-S)+128>>8,this.block[f]=F+B>>8,this.block[f+1]=k+C>>8,this.block[f+2]=w+M>>8,this.block[f+3]=y+T>>8,this.block[f+4]=y-T>>8,this.block[f+5]=w-M>>8,this.block[f+6]=k-C>>8,this.block[f+7]=F-B>>8;f=24;if(0==((B=this.block[f+4]<<11)|(C=this.block[f+6])|(k=this.block[f+2])|(M=this.block[f+1])|(S=this.block[f+7])|(T=this.block[f+5])|(F=this.block[f+3]))){x=this.block[f+7]=this.block[f]<<3,g=this.block[f+6]=x,x=this.block[f+5]=g,g=this.block[f+4]=x,x=this.block[f+3]=g,g=this.block[f+2]=x,x=this.block[f+1]=g;this.block[f]=x}else M=(y=565*(M+S))+2276*M,S=y-3406*S,T=(y=2408*(T+F))-799*T,F=y-4017*F,y=(w=128+(this.block[f]<<11))+B,w-=B,C=(B=1108*(k+C))-3784*C,k=B+1568*k,B=M+T,M-=T,T=S+F,S-=F,F=y+k,y-=k,k=w+C,w-=C,C=181*(M+S)+128>>8,M=181*(M-S)+128>>8,this.block[f]=F+B>>8,this.block[f+1]=k+C>>8,this.block[f+2]=w+M>>8,this.block[f+3]=y+T>>8,this.block[f+4]=y-T>>8,this.block[f+5]=w-M>>8,this.block[f+6]=k-C>>8,this.block[f+7]=F-B>>8;f=32;if(0==((B=this.block[f+4]<<11)|(C=this.block[f+6])|(k=this.block[f+2])|(M=this.block[f+1])|(S=this.block[f+7])|(T=this.block[f+5])|(F=this.block[f+3]))){x=this.block[f+7]=this.block[f]<<3,g=this.block[f+6]=x,x=this.block[f+5]=g,g=this.block[f+4]=x,x=this.block[f+3]=g,g=this.block[f+2]=x,x=this.block[f+1]=g;this.block[f]=x}else M=(y=565*(M+S))+2276*M,S=y-3406*S,T=(y=2408*(T+F))-799*T,F=y-4017*F,y=(w=128+(this.block[f]<<11))+B,w-=B,C=(B=1108*(k+C))-3784*C,k=B+1568*k,B=M+T,M-=T,T=S+F,S-=F,F=y+k,y-=k,k=w+C,w-=C,C=181*(M+S)+128>>8,M=181*(M-S)+128>>8,this.block[f]=F+B>>8,this.block[f+1]=k+C>>8,this.block[f+2]=w+M>>8,this.block[f+3]=y+T>>8,this.block[f+4]=y-T>>8,this.block[f+5]=w-M>>8,this.block[f+6]=k-C>>8,this.block[f+7]=F-B>>8;f=40;if(0==((B=this.block[f+4]<<11)|(C=this.block[f+6])|(k=this.block[f+2])|(M=this.block[f+1])|(S=this.block[f+7])|(T=this.block[f+5])|(F=this.block[f+3]))){x=this.block[f+7]=this.block[f]<<3,g=this.block[f+6]=x,x=this.block[f+5]=g,g=this.block[f+4]=x,x=this.block[f+3]=g,g=this.block[f+2]=x,x=this.block[f+1]=g;this.block[f]=x}else M=(y=565*(M+S))+2276*M,S=y-3406*S,T=(y=2408*(T+F))-799*T,F=y-4017*F,y=(w=128+(this.block[f]<<11))+B,w-=B,C=(B=1108*(k+C))-3784*C,k=B+1568*k,B=M+T,M-=T,T=S+F,S-=F,F=y+k,y-=k,k=w+C,w-=C,C=181*(M+S)+128>>8,M=181*(M-S)+128>>8,this.block[f]=F+B>>8,this.block[f+1]=k+C>>8,this.block[f+2]=w+M>>8,this.block[f+3]=y+T>>8,this.block[f+4]=y-T>>8,this.block[f+5]=w-M>>8,this.block[f+6]=k-C>>8,this.block[f+7]=F-B>>8;f=48;if(0==((B=this.block[f+4]<<11)|(C=this.block[f+6])|(k=this.block[f+2])|(M=this.block[f+1])|(S=this.block[f+7])|(T=this.block[f+5])|(F=this.block[f+3]))){x=this.block[f+7]=this.block[f]<<3,g=this.block[f+6]=x,x=this.block[f+5]=g,g=this.block[f+4]=x,x=this.block[f+3]=g,g=this.block[f+2]=x,x=this.block[f+1]=g;this.block[f]=x}else M=(y=565*(M+S))+2276*M,S=y-3406*S,T=(y=2408*(T+F))-799*T,F=y-4017*F,y=(w=128+(this.block[f]<<11))+B,w-=B,C=(B=1108*(k+C))-3784*C,k=B+1568*k,B=M+T,M-=T,T=S+F,S-=F,F=y+k,y-=k,k=w+C,w-=C,C=181*(M+S)+128>>8,M=181*(M-S)+128>>8,this.block[f]=F+B>>8,this.block[f+1]=k+C>>8,this.block[f+2]=w+M>>8,this.block[f+3]=y+T>>8,this.block[f+4]=y-T>>8,this.block[f+5]=w-M>>8,this.block[f+6]=k-C>>8,this.block[f+7]=F-B>>8;f=56;if(0==((B=this.block[f+4]<<11)|(C=this.block[f+6])|(k=this.block[f+2])|(M=this.block[f+1])|(S=this.block[f+7])|(T=this.block[f+5])|(F=this.block[f+3]))){x=this.block[f+7]=this.block[f]<<3,g=this.block[f+6]=x,x=this.block[f+5]=g,g=this.block[f+4]=x,x=this.block[f+3]=g,g=this.block[f+2]=x,x=this.block[f+1]=g;this.block[f]=x}else M=(y=565*(M+S))+2276*M,S=y-3406*S,T=(y=2408*(T+F))-799*T,F=y-4017*F,y=(w=128+(this.block[f]<<11))+B,w-=B,C=(B=1108*(k+C))-3784*C,k=B+1568*k,B=M+T,M-=T,T=S+F,S-=F,F=y+k,y-=k,k=w+C,w-=C,C=181*(M+S)+128>>8,M=181*(M-S)+128>>8,this.block[f]=F+B>>8,this.block[f+1]=k+C>>8,this.block[f+2]=w+M>>8,this.block[f+3]=y+T>>8,this.block[f+4]=y-T>>8,this.block[f+5]=w-M>>8,this.block[f+6]=k-C>>8,this.block[f+7]=F-B>>8;var b=t,m=A.stride;if(0==((B=this.block[32]<<8)|(C=this.block[48])|(k=this.block[16])|(M=this.block[8])|(S=this.block[56])|(T=this.block[40])|(F=this.block[24]))){B=(v=128+(this.block[0]+32>>6))<0?0:v>255?255:v,s.b[b]=B,b+=m,s.b[b]=B,b+=m,s.b[b]=B,b+=m,s.b[b]=B,b+=m,s.b[b]=B,b+=m,s.b[b]=B,b+=m,s.b[b]=B,b+=m,s.b[b]=B,b+=m}else{M=(y=565*(M+S)+4)+2276*M>>3,S=y-3406*S>>3,T=(y=2408*(T+F)+4)-799*T>>3,F=y-4017*F>>3,y=(w=8192+(this.block[0]<<8))+B,w-=B,C=(B=1108*(k+C)+4)-3784*C>>3,k=B+1568*k>>3,B=M+T,M-=T,T=S+F,S-=F,F=y+k,y-=k,k=w+C,w-=C,C=181*(M+S)+128>>8,M=181*(M-S)+128>>8;var v=128+(F+B>>14);s.b[b]=v<0?0:v>255?255:v,b+=m;v=128+(k+C>>14);s.b[b]=v<0?0:v>255?255:v,b+=m;v=128+(w+M>>14);s.b[b]=v<0?0:v>255?255:v,b+=m;v=128+(y+T>>14);s.b[b]=v<0?0:v>255?255:v,b+=m;v=128+(y-T>>14);s.b[b]=v<0?0:v>255?255:v,b+=m;v=128+(w-M>>14);s.b[b]=v<0?0:v>255?255:v,b+=m;v=128+(k-C>>14);s.b[b]=v<0?0:v>255?255:v,b+=m;v=128+(F-B>>14);s.b[b]=v<0?0:v>255?255:v}b=1+t,m=A.stride;if(0==((B=this.block[33]<<8)|(C=this.block[49])|(k=this.block[17])|(M=this.block[9])|(S=this.block[57])|(T=this.block[41])|(F=this.block[25]))){B=(v=128+(this.block[1]+32>>6))<0?0:v>255?255:v,s.b[b]=B,b+=m,s.b[b]=B,b+=m,s.b[b]=B,b+=m,s.b[b]=B,b+=m,s.b[b]=B,b+=m,s.b[b]=B,b+=m,s.b[b]=B,b+=m,s.b[b]=B,b+=m}else{M=(y=565*(M+S)+4)+2276*M>>3,S=y-3406*S>>3,T=(y=2408*(T+F)+4)-799*T>>3,F=y-4017*F>>3,y=(w=8192+(this.block[1]<<8))+B,w-=B,C=(B=1108*(k+C)+4)-3784*C>>3,k=B+1568*k>>3,B=M+T,M-=T,T=S+F,S-=F,F=y+k,y-=k,k=w+C,w-=C,C=181*(M+S)+128>>8,M=181*(M-S)+128>>8;v=128+(F+B>>14);s.b[b]=v<0?0:v>255?255:v,b+=m;v=128+(k+C>>14);s.b[b]=v<0?0:v>255?255:v,b+=m;v=128+(w+M>>14);s.b[b]=v<0?0:v>255?255:v,b+=m;v=128+(y+T>>14);s.b[b]=v<0?0:v>255?255:v,b+=m;v=128+(y-T>>14);s.b[b]=v<0?0:v>255?255:v,b+=m;v=128+(w-M>>14);s.b[b]=v<0?0:v>255?255:v,b+=m;v=128+(k-C>>14);s.b[b]=v<0?0:v>255?255:v,b+=m;v=128+(F-B>>14);s.b[b]=v<0?0:v>255?255:v}b=2+t,m=A.stride;if(0==((B=this.block[34]<<8)|(C=this.block[50])|(k=this.block[18])|(M=this.block[10])|(S=this.block[58])|(T=this.block[42])|(F=this.block[26]))){B=(v=128+(this.block[2]+32>>6))<0?0:v>255?255:v,s.b[b]=B,b+=m,s.b[b]=B,b+=m,s.b[b]=B,b+=m,s.b[b]=B,b+=m,s.b[b]=B,b+=m,s.b[b]=B,b+=m,s.b[b]=B,b+=m,s.b[b]=B,b+=m}else{M=(y=565*(M+S)+4)+2276*M>>3,S=y-3406*S>>3,T=(y=2408*(T+F)+4)-799*T>>3,F=y-4017*F>>3,y=(w=8192+(this.block[2]<<8))+B,w-=B,C=(B=1108*(k+C)+4)-3784*C>>3,k=B+1568*k>>3,B=M+T,M-=T,T=S+F,S-=F,F=y+k,y-=k,k=w+C,w-=C,C=181*(M+S)+128>>8,M=181*(M-S)+128>>8;v=128+(F+B>>14);s.b[b]=v<0?0:v>255?255:v,b+=m;v=128+(k+C>>14);s.b[b]=v<0?0:v>255?255:v,b+=m;v=128+(w+M>>14);s.b[b]=v<0?0:v>255?255:v,b+=m;v=128+(y+T>>14);s.b[b]=v<0?0:v>255?255:v,b+=m;v=128+(y-T>>14);s.b[b]=v<0?0:v>255?255:v,b+=m;v=128+(w-M>>14);s.b[b]=v<0?0:v>255?255:v,b+=m;v=128+(k-C>>14);s.b[b]=v<0?0:v>255?255:v,b+=m;v=128+(F-B>>14);s.b[b]=v<0?0:v>255?255:v}b=3+t,m=A.stride;if(0==((B=this.block[35]<<8)|(C=this.block[51])|(k=this.block[19])|(M=this.block[11])|(S=this.block[59])|(T=this.block[43])|(F=this.block[27]))){B=(v=128+(this.block[3]+32>>6))<0?0:v>255?255:v,s.b[b]=B,b+=m,s.b[b]=B,b+=m,s.b[b]=B,b+=m,s.b[b]=B,b+=m,s.b[b]=B,b+=m,s.b[b]=B,b+=m,s.b[b]=B,b+=m,s.b[b]=B,b+=m}else{M=(y=565*(M+S)+4)+2276*M>>3,S=y-3406*S>>3,T=(y=2408*(T+F)+4)-799*T>>3,F=y-4017*F>>3,y=(w=8192+(this.block[3]<<8))+B,w-=B,C=(B=1108*(k+C)+4)-3784*C>>3,k=B+1568*k>>3,B=M+T,M-=T,T=S+F,S-=F,F=y+k,y-=k,k=w+C,w-=C,C=181*(M+S)+128>>8,M=181*(M-S)+128>>8;v=128+(F+B>>14);s.b[b]=v<0?0:v>255?255:v,b+=m;v=128+(k+C>>14);s.b[b]=v<0?0:v>255?255:v,b+=m;v=128+(w+M>>14);s.b[b]=v<0?0:v>255?255:v,b+=m;v=128+(y+T>>14);s.b[b]=v<0?0:v>255?255:v,b+=m;v=128+(y-T>>14);s.b[b]=v<0?0:v>255?255:v,b+=m;v=128+(w-M>>14);s.b[b]=v<0?0:v>255?255:v,b+=m;v=128+(k-C>>14);s.b[b]=v<0?0:v>255?255:v,b+=m;v=128+(F-B>>14);s.b[b]=v<0?0:v>255?255:v}b=4+t,m=A.stride;if(0==((B=this.block[36]<<8)|(C=this.block[52])|(k=this.block[20])|(M=this.block[12])|(S=this.block[60])|(T=this.block[44])|(F=this.block[28]))){B=(v=128+(this.block[4]+32>>6))<0?0:v>255?255:v,s.b[b]=B,b+=m,s.b[b]=B,b+=m,s.b[b]=B,b+=m,s.b[b]=B,b+=m,s.b[b]=B,b+=m,s.b[b]=B,b+=m,s.b[b]=B,b+=m,s.b[b]=B,b+=m}else{M=(y=565*(M+S)+4)+2276*M>>3,S=y-3406*S>>3,T=(y=2408*(T+F)+4)-799*T>>3,F=y-4017*F>>3,y=(w=8192+(this.block[4]<<8))+B,w-=B,C=(B=1108*(k+C)+4)-3784*C>>3,k=B+1568*k>>3,B=M+T,M-=T,T=S+F,S-=F,F=y+k,y-=k,k=w+C,w-=C,C=181*(M+S)+128>>8,M=181*(M-S)+128>>8;v=128+(F+B>>14);s.b[b]=v<0?0:v>255?255:v,b+=m;v=128+(k+C>>14);s.b[b]=v<0?0:v>255?255:v,b+=m;v=128+(w+M>>14);s.b[b]=v<0?0:v>255?255:v,b+=m;v=128+(y+T>>14);s.b[b]=v<0?0:v>255?255:v,b+=m;v=128+(y-T>>14);s.b[b]=v<0?0:v>255?255:v,b+=m;v=128+(w-M>>14);s.b[b]=v<0?0:v>255?255:v,b+=m;v=128+(k-C>>14);s.b[b]=v<0?0:v>255?255:v,b+=m;v=128+(F-B>>14);s.b[b]=v<0?0:v>255?255:v}b=5+t,m=A.stride;if(0==((B=this.block[37]<<8)|(C=this.block[53])|(k=this.block[21])|(M=this.block[13])|(S=this.block[61])|(T=this.block[45])|(F=this.block[29]))){B=(v=128+(this.block[5]+32>>6))<0?0:v>255?255:v,s.b[b]=B,b+=m,s.b[b]=B,b+=m,s.b[b]=B,b+=m,s.b[b]=B,b+=m,s.b[b]=B,b+=m,s.b[b]=B,b+=m,s.b[b]=B,b+=m,s.b[b]=B,b+=m}else{M=(y=565*(M+S)+4)+2276*M>>3,S=y-3406*S>>3,T=(y=2408*(T+F)+4)-799*T>>3,F=y-4017*F>>3,y=(w=8192+(this.block[5]<<8))+B,w-=B,C=(B=1108*(k+C)+4)-3784*C>>3,k=B+1568*k>>3,B=M+T,M-=T,T=S+F,S-=F,F=y+k,y-=k,k=w+C,w-=C,C=181*(M+S)+128>>8,M=181*(M-S)+128>>8;v=128+(F+B>>14);s.b[b]=v<0?0:v>255?255:v,b+=m;v=128+(k+C>>14);s.b[b]=v<0?0:v>255?255:v,b+=m;v=128+(w+M>>14);s.b[b]=v<0?0:v>255?255:v,b+=m;v=128+(y+T>>14);s.b[b]=v<0?0:v>255?255:v,b+=m;v=128+(y-T>>14);s.b[b]=v<0?0:v>255?255:v,b+=m;v=128+(w-M>>14);s.b[b]=v<0?0:v>255?255:v,b+=m;v=128+(k-C>>14);s.b[b]=v<0?0:v>255?255:v,b+=m;v=128+(F-B>>14);s.b[b]=v<0?0:v>255?255:v}b=6+t,m=A.stride;if(0==((B=this.block[38]<<8)|(C=this.block[54])|(k=this.block[22])|(M=this.block[14])|(S=this.block[62])|(T=this.block[46])|(F=this.block[30]))){B=(v=128+(this.block[6]+32>>6))<0?0:v>255?255:v,s.b[b]=B,b+=m,s.b[b]=B,b+=m,s.b[b]=B,b+=m,s.b[b]=B,b+=m,s.b[b]=B,b+=m,s.b[b]=B,b+=m,s.b[b]=B,b+=m,s.b[b]=B,b+=m}else{M=(y=565*(M+S)+4)+2276*M>>3,S=y-3406*S>>3,T=(y=2408*(T+F)+4)-799*T>>3,F=y-4017*F>>3,y=(w=8192+(this.block[6]<<8))+B,w-=B,C=(B=1108*(k+C)+4)-3784*C>>3,k=B+1568*k>>3,B=M+T,M-=T,T=S+F,S-=F,F=y+k,y-=k,k=w+C,w-=C,C=181*(M+S)+128>>8,M=181*(M-S)+128>>8;v=128+(F+B>>14);s.b[b]=v<0?0:v>255?255:v,b+=m;v=128+(k+C>>14);s.b[b]=v<0?0:v>255?255:v,b+=m;v=128+(w+M>>14);s.b[b]=v<0?0:v>255?255:v,b+=m;v=128+(y+T>>14);s.b[b]=v<0?0:v>255?255:v,b+=m;v=128+(y-T>>14);s.b[b]=v<0?0:v>255?255:v,b+=m;v=128+(w-M>>14);s.b[b]=v<0?0:v>255?255:v,b+=m;v=128+(k-C>>14);s.b[b]=v<0?0:v>255?255:v,b+=m;v=128+(F-B>>14);s.b[b]=v<0?0:v>255?255:v}var w,y,B,C,k,M,S,T,F;b=7+t,m=A.stride;if(0==((B=this.block[39]<<8)|(C=this.block[55])|(k=this.block[23])|(M=this.block[15])|(S=this.block[63])|(T=this.block[47])|(F=this.block[31]))){B=(v=128+(this.block[7]+32>>6))<0?0:v>255?255:v,s.b[b]=B,b+=m,s.b[b]=B,b+=m,s.b[b]=B,b+=m,s.b[b]=B,b+=m,s.b[b]=B,b+=m,s.b[b]=B,b+=m,s.b[b]=B,b+=m,s.b[b]=B,b+=m}else{M=(y=565*(M+S)+4)+2276*M>>3,S=y-3406*S>>3,T=(y=2408*(T+F)+4)-799*T>>3,F=y-4017*F>>3,y=(w=8192+(this.block[7]<<8))+B,w-=B,C=(B=1108*(k+C)+4)-3784*C>>3,k=B+1568*k>>3,B=M+T,M-=T,T=S+F,S-=F,F=y+k,y-=k,k=w+C,w-=C,C=181*(M+S)+128>>8,M=181*(M-S)+128>>8;v=128+(F+B>>14);s.b[b]=v<0?0:v>255?255:v,b+=m;v=128+(k+C>>14);s.b[b]=v<0?0:v>255?255:v,b+=m;v=128+(w+M>>14);s.b[b]=v<0?0:v>255?255:v,b+=m;v=128+(y+T>>14);s.b[b]=v<0?0:v>255?255:v,b+=m;v=128+(y-T>>14);s.b[b]=v<0?0:v>255?255:v,b+=m;v=128+(w-M>>14);s.b[b]=v<0?0:v>255?255:v,b+=m;v=128+(k-C>>14);s.b[b]=v<0?0:v>255?255:v,b+=m;v=128+(F-B>>14);s.b[b]=v<0?0:v>255?255:v}},notSupported:function(){throw de.thrown("This JPG file is not supported")},njDecodeScan:function(){this.length=this.bytes.b[this.pos]<<8|this.bytes.b[this.pos+1],this.pos+=2,this.size-=2,this.length-=2,this.bytes.b[this.pos]!=this.ncomp&&this.notSupported(),this.pos+=1,this.size-=1,this.length-=1;for(var A=0,t=this.ncomp;A<t;){var e=A++;(o=this.comps[e]).dctabsel=this.bytes.b[this.pos+1]>>4<<1,o.actabsel=(3&this.bytes.b[this.pos+1])<<1|1,this.pos+=2,this.size-=2,this.length-=2}var s=this.bytes.b[this.pos],i=this.bytes.b[this.pos+1],r=this.bytes.b[this.pos+2];(!this.progressive&&0!=s||i!=63-s||0!=r)&&this.notSupported();i=this.length;this.pos+=i,this.size-=i,this.length-=i;for(var n=0,a=0,h=this.rstinterval,l=0;;){for(A=0,t=this.ncomp;A<t;){e=A++;for(var o,u=0,_=(o=this.comps[e]).ssy;u<_;)for(var c=u++,d=0,p=o.ssx;d<p;){var f=d++;this.njDecodeBlock(o,(a*o.ssy+c)*o.stride+n*o.ssx+f<<3)}}if(++n>=this.mbwidth&&(n=0,++a>=this.mbheight))break;if(0!=this.rstinterval&&0==--h){this.bufbits&=248;this.njShowBits(16);this.bufbits-=16;l=l+1&7,h=this.rstinterval,this.comps[0].dcpred=0,this.comps[1].dcpred=0,this.comps[2].dcpred=0}}},njUpsampleH:function(A){for(var t=A.width-3,e=new Be(new ArrayBuffer(A.width*A.height<<1)),s=e,i=A.pixels,r=0,n=0,a=0,h=A.height;a<h;){a++;var l=139*i.b[r]+-11*i.b[r+1]+64>>7;s.b[n]=l<0?0:l>255?255:l;var o=104*i.b[r]+27*i.b[r+1]+-3*i.b[r+2]+64>>7;s.b[n+1]=o<0?0:o>255?255:o;var u=28*i.b[r]+109*i.b[r+1]+-9*i.b[r+2]+64>>7;s.b[n+2]=u<0?0:u>255?255:u;for(var _=0,c=t;_<c;){var d=_++,p=-9*i.b[r+d]+111*i.b[r+d+1]+29*i.b[r+d+2]+-3*i.b[r+d+3]+64>>7;s.b[n+(d<<1)+3]=p<0?0:p>255?255:p;var f=-3*i.b[r+d]+29*i.b[r+d+1]+111*i.b[r+d+2]+-9*i.b[r+d+3]+64>>7;s.b[n+(d<<1)+4]=f<0?0:f>255?255:f}r+=A.stride,n+=A.width<<1;var x=28*i.b[r-1]+109*i.b[r-2]+-9*i.b[r-3]+64>>7;s.b[n-3]=x<0?0:x>255?255:x;var g=104*i.b[r-1]+27*i.b[r-2]+-3*i.b[r-3]+64>>7;s.b[n-2]=g<0?0:g>255?255:g;var b=139*i.b[r-1]+-11*i.b[r-2]+64>>7;s.b[n-1]=b<0?0:b>255?255:b}A.width<<=1,A.stride=A.width,A.pixels=e},njUpsampleV:function(A){for(var t=A.width,e=A.stride,s=e+e,i=new Be(new ArrayBuffer(A.width*A.height<<1)),r=0,n=0,a=i,h=A.pixels,l=0,o=t;l<o;){r=n=l++;var u=139*h.b[r]+-11*h.b[r+e]+64>>7;a.b[n]=u<0?0:u>255?255:u,n+=t;var _=104*h.b[r]+27*h.b[r+e]+-3*h.b[r+s]+64>>7;a.b[n]=_<0?0:_>255?255:_,n+=t;var c=28*h.b[r]+109*h.b[r+e]+-9*h.b[r+s]+64>>7;a.b[n]=c<0?0:c>255?255:c,n+=t,r+=e;for(var d=0,p=A.height-2;d<p;){d++;var f=-9*h.b[r-e]+111*h.b[r]+29*h.b[r+e]+-3*h.b[r+s]+64>>7;a.b[n]=f<0?0:f>255?255:f,n+=t;var x=-3*h.b[r-e]+29*h.b[r]+111*h.b[r+e]+-9*h.b[r+s]+64>>7;a.b[n]=x<0?0:x>255?255:x,n+=t,r+=e}r+=e;var g=28*h.b[r]+109*h.b[r-e]+-9*h.b[r-s]+64>>7;a.b[n]=g<0?0:g>255?255:g,n+=t;var b=104*h.b[r]+27*h.b[r-e]+-3*h.b[r-s]+64>>7;a.b[n]=b<0?0:b>255?255:b,n+=t;var m=139*h.b[r]+-11*h.b[r-e]+64>>7;a.b[n]=m<0?0:m>255?255:m}A.height<<=1,A.stride=A.width,A.pixels=i},njUpsample:function(A){for(var t=0,e=0;A.width<this.width;)A.width<<=1,++t;for(;A.height<this.height;)A.height<<=1,++e;for(var s=new Be(new ArrayBuffer(A.width*A.height)),i=A.pixels,r=0,n=s,a=0,h=A.height;a<h;)for(var l=(a++>>e)*A.stride,o=0,u=A.width;o<u;){var _=o++;n.b[r++]=i.b[(_>>t)+l]}A.stride=A.width,A.pixels=s},njConvert:function(){for(var A=0,t=this.ncomp;A<t;){var e=A++,s=this.comps[e];switch(this.filter._hx_index){case 0:(s.width<this.width||s.height<this.height)&&this.njUpsample(s);break;case 1:for(;s.width<this.width||s.height<this.height;)s.width<this.width&&this.njUpsampleH(s),s.height<this.height&&this.njUpsampleV(s)}if(s.width<this.width||s.height<this.height)throw de.thrown("assert")}var i=new Be(new ArrayBuffer(this.width*this.height*4));if(3!=this.ncomp)throw de.thrown("TODO");var r=this.comps[0].pixels,n=this.comps[1].pixels,a=this.comps[2].pixels,h=i,l=0,o=0,u=0,_=0;for(A=0,t=this.height;A<t;){A++;for(var c=0,d=this.width;c<d;){c++;var p=r.b[l++]<<8,f=n.b[o++]-128,x=a.b[u++]-128,g=p+359*x+128>>8,b=g<0?0:g>255?255:g,m=p-88*f-183*x+128>>8,v=m<0?0:m>255?255:m,w=p+454*f+128>>8,y=w<0?0:w>255?255:w;h.b[_++]=y,h.b[_++]=v,h.b[_++]=b,h.b[_++]=255}l+=this.comps[0].stride-this.width,o+=this.comps[1].stride-this.width,u+=this.comps[2].stride-this.width}return i},njDecode:function(){if(this.size<2||255!=this.bytes.b[this.pos]||216!=this.bytes.b[this.pos+1])throw de.thrown("This file is not a JPEG");this.pos+=2,this.size-=2,this.length-=2;A:for(;;)switch(this.pos+=2,this.size-=2,this.length-=2,this.bytes.b[this.pos+-1]){case 192:this.njDecodeSOF();break;case 194:if(this.progressive=!0,this.progressive)throw de.thrown("Unsupported progressive JPG");null==this.vlctab[4]&&(this.vlctab[4]=new Be(new ArrayBuffer(131072))),null==this.vlctab[5]&&(this.vlctab[5]=new Be(new ArrayBuffer(131072))),null==this.vlctab[6]&&(this.vlctab[6]=new Be(new ArrayBuffer(131072))),null==this.vlctab[7]&&(this.vlctab[7]=new Be(new ArrayBuffer(131072))),this.njDecodeSOF();break;case 195:throw de.thrown("Unsupported lossless JPG");case 196:this.njDecodeDHT();break;case 218:this.njDecodeScan();break A;case 219:this.njDecodeDQT();break;case 221:this.njDecodeDRI();break;case 254:this.length=this.bytes.b[this.pos]<<8|this.bytes.b[this.pos+1],this.pos+=2,this.size-=2,this.length-=2;var A=this.length;this.pos+=A,this.size-=A,this.length-=A;break;default:switch(240&this.bytes.b[this.pos+-1]){case 192:throw de.thrown("Unsupported jpeg type "+(15&this.bytes.b[this.pos+-1]));case 224:this.length=this.bytes.b[this.pos]<<8|this.bytes.b[this.pos+1],this.pos+=2,this.size-=2,this.length-=2;var t=this.length;this.pos+=t,this.size-=t,this.length-=t;break;default:throw de.thrown("Unsupported jpeg tag 0x"+g.hex(this.bytes.b[this.pos+-1],2))}}var e=this.njConvert();return this.cleanup(),{pixels:e,width:this.width,height:this.height}},__class__:Gs};var zs=i["hxsl.Type"]={__ename__:!0,__constructs__:null,TVoid:{_hx_name:"TVoid",_hx_index:0,__enum__:"hxsl.Type",toString:s},TInt:{_hx_name:"TInt",_hx_index:1,__enum__:"hxsl.Type",toString:s},TBool:{_hx_name:"TBool",_hx_index:2,__enum__:"hxsl.Type",toString:s},TFloat:{_hx_name:"TFloat",_hx_index:3,__enum__:"hxsl.Type",toString:s},TString:{_hx_name:"TString",_hx_index:4,__enum__:"hxsl.Type",toString:s},TVec:(t=function(A,t){return{_hx_index:5,size:A,t:t,__enum__:"hxsl.Type",toString:s}},t._hx_name="TVec",t.__params__=["size","t"],t),TMat3:{_hx_name:"TMat3",_hx_index:6,__enum__:"hxsl.Type",toString:s},TMat4:{_hx_name:"TMat4",_hx_index:7,__enum__:"hxsl.Type",toString:s},TMat3x4:{_hx_name:"TMat3x4",_hx_index:8,__enum__:"hxsl.Type",toString:s},TBytes:(t=function(A){return{_hx_index:9,size:A,__enum__:"hxsl.Type",toString:s}},t._hx_name="TBytes",t.__params__=["size"],t),TSampler2D:{_hx_name:"TSampler2D",_hx_index:10,__enum__:"hxsl.Type",toString:s},TSampler2DArray:{_hx_name:"TSampler2DArray",_hx_index:11,__enum__:"hxsl.Type",toString:s},TSamplerCube:{_hx_name:"TSamplerCube",_hx_index:12,__enum__:"hxsl.Type",toString:s},TStruct:(t=function(A){return{_hx_index:13,vl:A,__enum__:"hxsl.Type",toString:s}},t._hx_name="TStruct",t.__params__=["vl"],t),TFun:(t=function(A){return{_hx_index:14,variants:A,__enum__:"hxsl.Type",toString:s}},t._hx_name="TFun",t.__params__=["variants"],t),TArray:(t=function(A,t){return{_hx_index:15,t:A,size:t,__enum__:"hxsl.Type",toString:s}},t._hx_name="TArray",t.__params__=["t","size"],t),TBuffer:(t=function(A,t){return{_hx_index:16,t:A,size:t,__enum__:"hxsl.Type",toString:s}},t._hx_name="TBuffer",t.__params__=["t","size"],t),TChannel:(t=function(A){return{_hx_index:17,size:A,__enum__:"hxsl.Type",toString:s}},t._hx_name="TChannel",t.__params__=["size"],t),TMat2:{_hx_name:"TMat2",_hx_index:18,__enum__:"hxsl.Type",toString:s}};zs.__constructs__=[zs.TVoid,zs.TInt,zs.TBool,zs.TFloat,zs.TString,zs.TVec,zs.TMat3,zs.TMat4,zs.TMat3x4,zs.TBytes,zs.TSampler2D,zs.TSampler2DArray,zs.TSamplerCube,zs.TStruct,zs.TFun,zs.TArray,zs.TBuffer,zs.TChannel,zs.TMat2],zs.__empty_constructs__=[zs.TVoid,zs.TInt,zs.TBool,zs.TFloat,zs.TString,zs.TMat3,zs.TMat4,zs.TMat3x4,zs.TSampler2D,zs.TSampler2DArray,zs.TSamplerCube,zs.TMat2];var Ps=i["hxsl.VecType"]={__ename__:!0,__constructs__:null,VInt:{_hx_name:"VInt",_hx_index:0,__enum__:"hxsl.VecType",toString:s},VFloat:{_hx_name:"VFloat",_hx_index:1,__enum__:"hxsl.VecType",toString:s},VBool:{_hx_name:"VBool",_hx_index:2,__enum__:"hxsl.VecType",toString:s}};Ps.__constructs__=[Ps.VInt,Ps.VFloat,Ps.VBool],Ps.__empty_constructs__=[Ps.VInt,Ps.VFloat,Ps.VBool];var Os=i["hxsl.SizeDecl"]={__ename__:!0,__constructs__:null,SConst:(t=function(A){return{_hx_index:0,v:A,__enum__:"hxsl.SizeDecl",toString:s}},t._hx_name="SConst",t.__params__=["v"],t),SVar:(t=function(A){return{_hx_index:1,v:A,__enum__:"hxsl.SizeDecl",toString:s}},t._hx_name="SVar",t.__params__=["v"],t)};Os.__constructs__=[Os.SConst,Os.SVar],Os.__empty_constructs__=[];var Ls=function(A,t){this.msg=A,this.pos=t};e["hxsl.Error"]=Ls,Ls.__name__="hxsl.Error",Ls.t=function(A,t){throw de.thrown(new Ls(A,t))},Ls.prototype={toString:function(){return"Error("+this.msg+")@"+f.string(this.pos)},__class__:Ls};var Ns=i["hxsl.VarKind"]={__ename__:!0,__constructs__:null,Global:{_hx_name:"Global",_hx_index:0,__enum__:"hxsl.VarKind",toString:s},Input:{_hx_name:"Input",_hx_index:1,__enum__:"hxsl.VarKind",toString:s},Param:{_hx_name:"Param",_hx_index:2,__enum__:"hxsl.VarKind",toString:s},Var:{_hx_name:"Var",_hx_index:3,__enum__:"hxsl.VarKind",toString:s},Local:{_hx_name:"Local",_hx_index:4,__enum__:"hxsl.VarKind",toString:s},Output:{_hx_name:"Output",_hx_index:5,__enum__:"hxsl.VarKind",toString:s},Function:{_hx_name:"Function",_hx_index:6,__enum__:"hxsl.VarKind",toString:s}};Ns.__constructs__=[Ns.Global,Ns.Input,Ns.Param,Ns.Var,Ns.Local,Ns.Output,Ns.Function],Ns.__empty_constructs__=[Ns.Global,Ns.Input,Ns.Param,Ns.Var,Ns.Local,Ns.Output,Ns.Function];var Ys=i["hxsl.VarQualifier"]={__ename__:!0,__constructs__:null,Const:(t=function(A){return{_hx_index:0,max:A,__enum__:"hxsl.VarQualifier",toString:s}},t._hx_name="Const",t.__params__=["max"],t),Private:{_hx_name:"Private",_hx_index:1,__enum__:"hxsl.VarQualifier",toString:s},Nullable:{_hx_name:"Nullable",_hx_index:2,__enum__:"hxsl.VarQualifier",toString:s},PerObject:{_hx_name:"PerObject",_hx_index:3,__enum__:"hxsl.VarQualifier",toString:s},Name:(t=function(A){return{_hx_index:4,n:A,__enum__:"hxsl.VarQualifier",toString:s}},t._hx_name="Name",t.__params__=["n"],t),Shared:{_hx_name:"Shared",_hx_index:5,__enum__:"hxsl.VarQualifier",toString:s},Precision:(t=function(A){return{_hx_index:6,p:A,__enum__:"hxsl.VarQualifier",toString:s}},t._hx_name="Precision",t.__params__=["p"],t),Range:(t=function(A,t){return{_hx_index:7,min:A,max:t,__enum__:"hxsl.VarQualifier",toString:s}},t._hx_name="Range",t.__params__=["min","max"],t),Ignore:{_hx_name:"Ignore",_hx_index:8,__enum__:"hxsl.VarQualifier",toString:s},PerInstance:(t=function(A){return{_hx_index:9,v:A,__enum__:"hxsl.VarQualifier",toString:s}},t._hx_name="PerInstance",t.__params__=["v"],t),Doc:(t=function(A){return{_hx_index:10,s:A,__enum__:"hxsl.VarQualifier",toString:s}},t._hx_name="Doc",t.__params__=["s"],t),Borrow:(t=function(A){return{_hx_index:11,source:A,__enum__:"hxsl.VarQualifier",toString:s}},t._hx_name="Borrow",t.__params__=["source"],t),Sampler:(t=function(A){return{_hx_index:12,name:A,__enum__:"hxsl.VarQualifier",toString:s}},t._hx_name="Sampler",t.__params__=["name"],t)};Ys.__constructs__=[Ys.Const,Ys.Private,Ys.Nullable,Ys.PerObject,Ys.Name,Ys.Shared,Ys.Precision,Ys.Range,Ys.Ignore,Ys.PerInstance,Ys.Doc,Ys.Borrow,Ys.Sampler],Ys.__empty_constructs__=[Ys.Private,Ys.Nullable,Ys.PerObject,Ys.Shared,Ys.Ignore];var Xs=i["hxsl.Prec"]={__ename__:!0,__constructs__:null,Low:{_hx_name:"Low",_hx_index:0,__enum__:"hxsl.Prec",toString:s},Medium:{_hx_name:"Medium",_hx_index:1,__enum__:"hxsl.Prec",toString:s},High:{_hx_name:"High",_hx_index:2,__enum__:"hxsl.Prec",toString:s}};Xs.__constructs__=[Xs.Low,Xs.Medium,Xs.High],Xs.__empty_constructs__=[Xs.Low,Xs.Medium,Xs.High];var Ws=i["hxsl.Const"]={__ename__:!0,__constructs__:null,CNull:{_hx_name:"CNull",_hx_index:0,__enum__:"hxsl.Const",toString:s},CBool:(t=function(A){return{_hx_index:1,b:A,__enum__:"hxsl.Const",toString:s}},t._hx_name="CBool",t.__params__=["b"],t),CInt:(t=function(A){return{_hx_index:2,v:A,__enum__:"hxsl.Const",toString:s}},t._hx_name="CInt",t.__params__=["v"],t),CFloat:(t=function(A){return{_hx_index:3,v:A,__enum__:"hxsl.Const",toString:s}},t._hx_name="CFloat",t.__params__=["v"],t),CString:(t=function(A){return{_hx_index:4,v:A,__enum__:"hxsl.Const",toString:s}},t._hx_name="CString",t.__params__=["v"],t)};Ws.__constructs__=[Ws.CNull,Ws.CBool,Ws.CInt,Ws.CFloat,Ws.CString],Ws.__empty_constructs__=[Ws.CNull];var Zs=i["hxsl.FunctionKind"]={__ename__:!0,__constructs__:null,Vertex:{_hx_name:"Vertex",_hx_index:0,__enum__:"hxsl.FunctionKind",toString:s},Fragment:{_hx_name:"Fragment",_hx_index:1,__enum__:"hxsl.FunctionKind",toString:s},Init:{_hx_name:"Init",_hx_index:2,__enum__:"hxsl.FunctionKind",toString:s},Helper:{_hx_name:"Helper",_hx_index:3,__enum__:"hxsl.FunctionKind",toString:s}};Zs.__constructs__=[Zs.Vertex,Zs.Fragment,Zs.Init,Zs.Helper],Zs.__empty_constructs__=[Zs.Vertex,Zs.Fragment,Zs.Init,Zs.Helper];var Hs=i["hxsl.TGlobal"]={__ename__:!0,__constructs__:null,Radians:{_hx_name:"Radians",_hx_index:0,__enum__:"hxsl.TGlobal",toString:s},Degrees:{_hx_name:"Degrees",_hx_index:1,__enum__:"hxsl.TGlobal",toString:s},Sin:{_hx_name:"Sin",_hx_index:2,__enum__:"hxsl.TGlobal",toString:s},Cos:{_hx_name:"Cos",_hx_index:3,__enum__:"hxsl.TGlobal",toString:s},Tan:{_hx_name:"Tan",_hx_index:4,__enum__:"hxsl.TGlobal",toString:s},Asin:{_hx_name:"Asin",_hx_index:5,__enum__:"hxsl.TGlobal",toString:s},Acos:{_hx_name:"Acos",_hx_index:6,__enum__:"hxsl.TGlobal",toString:s},Atan:{_hx_name:"Atan",_hx_index:7,__enum__:"hxsl.TGlobal",toString:s},Pow:{_hx_name:"Pow",_hx_index:8,__enum__:"hxsl.TGlobal",toString:s},Exp:{_hx_name:"Exp",_hx_index:9,__enum__:"hxsl.TGlobal",toString:s},Log:{_hx_name:"Log",_hx_index:10,__enum__:"hxsl.TGlobal",toString:s},Exp2:{_hx_name:"Exp2",_hx_index:11,__enum__:"hxsl.TGlobal",toString:s},Log2:{_hx_name:"Log2",_hx_index:12,__enum__:"hxsl.TGlobal",toString:s},Sqrt:{_hx_name:"Sqrt",_hx_index:13,__enum__:"hxsl.TGlobal",toString:s},Inversesqrt:{_hx_name:"Inversesqrt",_hx_index:14,__enum__:"hxsl.TGlobal",toString:s},Abs:{_hx_name:"Abs",_hx_index:15,__enum__:"hxsl.TGlobal",toString:s},Sign:{_hx_name:"Sign",_hx_index:16,__enum__:"hxsl.TGlobal",toString:s},Floor:{_hx_name:"Floor",_hx_index:17,__enum__:"hxsl.TGlobal",toString:s},Ceil:{_hx_name:"Ceil",_hx_index:18,__enum__:"hxsl.TGlobal",toString:s},Fract:{_hx_name:"Fract",_hx_index:19,__enum__:"hxsl.TGlobal",toString:s},Mod:{_hx_name:"Mod",_hx_index:20,__enum__:"hxsl.TGlobal",toString:s},Min:{_hx_name:"Min",_hx_index:21,__enum__:"hxsl.TGlobal",toString:s},Max:{_hx_name:"Max",_hx_index:22,__enum__:"hxsl.TGlobal",toString:s},Clamp:{_hx_name:"Clamp",_hx_index:23,__enum__:"hxsl.TGlobal",toString:s},Mix:{_hx_name:"Mix",_hx_index:24,__enum__:"hxsl.TGlobal",toString:s},Step:{_hx_name:"Step",_hx_index:25,__enum__:"hxsl.TGlobal",toString:s},Smoothstep:{_hx_name:"Smoothstep",_hx_index:26,__enum__:"hxsl.TGlobal",toString:s},Length:{_hx_name:"Length",_hx_index:27,__enum__:"hxsl.TGlobal",toString:s},Distance:{_hx_name:"Distance",_hx_index:28,__enum__:"hxsl.TGlobal",toString:s},Dot:{_hx_name:"Dot",_hx_index:29,__enum__:"hxsl.TGlobal",toString:s},Cross:{_hx_name:"Cross",_hx_index:30,__enum__:"hxsl.TGlobal",toString:s},Normalize:{_hx_name:"Normalize",_hx_index:31,__enum__:"hxsl.TGlobal",toString:s},LReflect:{_hx_name:"LReflect",_hx_index:32,__enum__:"hxsl.TGlobal",toString:s},Texture:{_hx_name:"Texture",_hx_index:33,__enum__:"hxsl.TGlobal",toString:s},TextureLod:{_hx_name:"TextureLod",_hx_index:34,__enum__:"hxsl.TGlobal",toString:s},Texel:{_hx_name:"Texel",_hx_index:35,__enum__:"hxsl.TGlobal",toString:s},TextureSize:{_hx_name:"TextureSize",_hx_index:36,__enum__:"hxsl.TGlobal",toString:s},ToInt:{_hx_name:"ToInt",_hx_index:37,__enum__:"hxsl.TGlobal",toString:s},ToFloat:{_hx_name:"ToFloat",_hx_index:38,__enum__:"hxsl.TGlobal",toString:s},ToBool:{_hx_name:"ToBool",_hx_index:39,__enum__:"hxsl.TGlobal",toString:s},Vec2:{_hx_name:"Vec2",_hx_index:40,__enum__:"hxsl.TGlobal",toString:s},Vec3:{_hx_name:"Vec3",_hx_index:41,__enum__:"hxsl.TGlobal",toString:s},Vec4:{_hx_name:"Vec4",_hx_index:42,__enum__:"hxsl.TGlobal",toString:s},IVec2:{_hx_name:"IVec2",_hx_index:43,__enum__:"hxsl.TGlobal",toString:s},IVec3:{_hx_name:"IVec3",_hx_index:44,__enum__:"hxsl.TGlobal",toString:s},IVec4:{_hx_name:"IVec4",_hx_index:45,__enum__:"hxsl.TGlobal",toString:s},BVec2:{_hx_name:"BVec2",_hx_index:46,__enum__:"hxsl.TGlobal",toString:s},BVec3:{_hx_name:"BVec3",_hx_index:47,__enum__:"hxsl.TGlobal",toString:s},BVec4:{_hx_name:"BVec4",_hx_index:48,__enum__:"hxsl.TGlobal",toString:s},Mat2:{_hx_name:"Mat2",_hx_index:49,__enum__:"hxsl.TGlobal",toString:s},Mat3:{_hx_name:"Mat3",_hx_index:50,__enum__:"hxsl.TGlobal",toString:s},Mat4:{_hx_name:"Mat4",_hx_index:51,__enum__:"hxsl.TGlobal",toString:s},Mat3x4:{_hx_name:"Mat3x4",_hx_index:52,__enum__:"hxsl.TGlobal",toString:s},Saturate:{_hx_name:"Saturate",_hx_index:53,__enum__:"hxsl.TGlobal",toString:s},Pack:{_hx_name:"Pack",_hx_index:54,__enum__:"hxsl.TGlobal",toString:s},Unpack:{_hx_name:"Unpack",_hx_index:55,__enum__:"hxsl.TGlobal",toString:s},PackNormal:{_hx_name:"PackNormal",_hx_index:56,__enum__:"hxsl.TGlobal",toString:s},UnpackNormal:{_hx_name:"UnpackNormal",_hx_index:57,__enum__:"hxsl.TGlobal",toString:s},ScreenToUv:{_hx_name:"ScreenToUv",_hx_index:58,__enum__:"hxsl.TGlobal",toString:s},UvToScreen:{_hx_name:"UvToScreen",_hx_index:59,__enum__:"hxsl.TGlobal",toString:s},DFdx:{_hx_name:"DFdx",_hx_index:60,__enum__:"hxsl.TGlobal",toString:s},DFdy:{_hx_name:"DFdy",_hx_index:61,__enum__:"hxsl.TGlobal",toString:s},Fwidth:{_hx_name:"Fwidth",_hx_index:62,__enum__:"hxsl.TGlobal",toString:s},ChannelRead:{_hx_name:"ChannelRead",_hx_index:63,__enum__:"hxsl.TGlobal",toString:s},ChannelReadLod:{_hx_name:"ChannelReadLod",_hx_index:64,__enum__:"hxsl.TGlobal",toString:s},ChannelFetch:{_hx_name:"ChannelFetch",_hx_index:65,__enum__:"hxsl.TGlobal",toString:s},ChannelTextureSize:{_hx_name:"ChannelTextureSize",_hx_index:66,__enum__:"hxsl.TGlobal",toString:s},Trace:{_hx_name:"Trace",_hx_index:67,__enum__:"hxsl.TGlobal",toString:s},VertexID:{_hx_name:"VertexID",_hx_index:68,__enum__:"hxsl.TGlobal",toString:s},InstanceID:{_hx_name:"InstanceID",_hx_index:69,__enum__:"hxsl.TGlobal",toString:s},FragCoord:{_hx_name:"FragCoord",_hx_index:70,__enum__:"hxsl.TGlobal",toString:s},FrontFacing:{_hx_name:"FrontFacing",_hx_index:71,__enum__:"hxsl.TGlobal",toString:s}};Hs.__constructs__=[Hs.Radians,Hs.Degrees,Hs.Sin,Hs.Cos,Hs.Tan,Hs.Asin,Hs.Acos,Hs.Atan,Hs.Pow,Hs.Exp,Hs.Log,Hs.Exp2,Hs.Log2,Hs.Sqrt,Hs.Inversesqrt,Hs.Abs,Hs.Sign,Hs.Floor,Hs.Ceil,Hs.Fract,Hs.Mod,Hs.Min,Hs.Max,Hs.Clamp,Hs.Mix,Hs.Step,Hs.Smoothstep,Hs.Length,Hs.Distance,Hs.Dot,Hs.Cross,Hs.Normalize,Hs.LReflect,Hs.Texture,Hs.TextureLod,Hs.Texel,Hs.TextureSize,Hs.ToInt,Hs.ToFloat,Hs.ToBool,Hs.Vec2,Hs.Vec3,Hs.Vec4,Hs.IVec2,Hs.IVec3,Hs.IVec4,Hs.BVec2,Hs.BVec3,Hs.BVec4,Hs.Mat2,Hs.Mat3,Hs.Mat4,Hs.Mat3x4,Hs.Saturate,Hs.Pack,Hs.Unpack,Hs.PackNormal,Hs.UnpackNormal,Hs.ScreenToUv,Hs.UvToScreen,Hs.DFdx,Hs.DFdy,Hs.Fwidth,Hs.ChannelRead,Hs.ChannelReadLod,Hs.ChannelFetch,Hs.ChannelTextureSize,Hs.Trace,Hs.VertexID,Hs.InstanceID,Hs.FragCoord,Hs.FrontFacing],Hs.__empty_constructs__=[Hs.Radians,Hs.Degrees,Hs.Sin,Hs.Cos,Hs.Tan,Hs.Asin,Hs.Acos,Hs.Atan,Hs.Pow,Hs.Exp,Hs.Log,Hs.Exp2,Hs.Log2,Hs.Sqrt,Hs.Inversesqrt,Hs.Abs,Hs.Sign,Hs.Floor,Hs.Ceil,Hs.Fract,Hs.Mod,Hs.Min,Hs.Max,Hs.Clamp,Hs.Mix,Hs.Step,Hs.Smoothstep,Hs.Length,Hs.Distance,Hs.Dot,Hs.Cross,Hs.Normalize,Hs.LReflect,Hs.Texture,Hs.TextureLod,Hs.Texel,Hs.TextureSize,Hs.ToInt,Hs.ToFloat,Hs.ToBool,Hs.Vec2,Hs.Vec3,Hs.Vec4,Hs.IVec2,Hs.IVec3,Hs.IVec4,Hs.BVec2,Hs.BVec3,Hs.BVec4,Hs.Mat2,Hs.Mat3,Hs.Mat4,Hs.Mat3x4,Hs.Saturate,Hs.Pack,Hs.Unpack,Hs.PackNormal,Hs.UnpackNormal,Hs.ScreenToUv,Hs.UvToScreen,Hs.DFdx,Hs.DFdy,Hs.Fwidth,Hs.ChannelRead,Hs.ChannelReadLod,Hs.ChannelFetch,Hs.ChannelTextureSize,Hs.Trace,Hs.VertexID,Hs.InstanceID,Hs.FragCoord,Hs.FrontFacing];var Ks=i["hxsl.Component"]={__ename__:!0,__constructs__:null,X:{_hx_name:"X",_hx_index:0,__enum__:"hxsl.Component",toString:s},Y:{_hx_name:"Y",_hx_index:1,__enum__:"hxsl.Component",toString:s},Z:{_hx_name:"Z",_hx_index:2,__enum__:"hxsl.Component",toString:s},W:{_hx_name:"W",_hx_index:3,__enum__:"hxsl.Component",toString:s}};Ks.__constructs__=[Ks.X,Ks.Y,Ks.Z,Ks.W],Ks.__empty_constructs__=[Ks.X,Ks.Y,Ks.Z,Ks.W];var Js=i["hxsl.TExprDef"]={__ename__:!0,__constructs__:null,TConst:(t=function(A){return{_hx_index:0,c:A,__enum__:"hxsl.TExprDef",toString:s}},t._hx_name="TConst",t.__params__=["c"],t),TVar:(t=function(A){return{_hx_index:1,v:A,__enum__:"hxsl.TExprDef",toString:s}},t._hx_name="TVar",t.__params__=["v"],t),TGlobal:(t=function(A){return{_hx_index:2,g:A,__enum__:"hxsl.TExprDef",toString:s}},t._hx_name="TGlobal",t.__params__=["g"],t),TParenthesis:(t=function(A){return{_hx_index:3,e:A,__enum__:"hxsl.TExprDef",toString:s}},t._hx_name="TParenthesis",t.__params__=["e"],t),TBlock:(t=function(A){return{_hx_index:4,el:A,__enum__:"hxsl.TExprDef",toString:s}},t._hx_name="TBlock",t.__params__=["el"],t),TBinop:(t=function(A,t,e){return{_hx_index:5,op:A,e1:t,e2:e,__enum__:"hxsl.TExprDef",toString:s}},t._hx_name="TBinop",t.__params__=["op","e1","e2"],t),TUnop:(t=function(A,t){return{_hx_index:6,op:A,e1:t,__enum__:"hxsl.TExprDef",toString:s}},t._hx_name="TUnop",t.__params__=["op","e1"],t),TVarDecl:(t=function(A,t){return{_hx_index:7,v:A,init:t,__enum__:"hxsl.TExprDef",toString:s}},t._hx_name="TVarDecl",t.__params__=["v","init"],t),TCall:(t=function(A,t){return{_hx_index:8,e:A,args:t,__enum__:"hxsl.TExprDef",toString:s}},t._hx_name="TCall",t.__params__=["e","args"],t),TSwiz:(t=function(A,t){return{_hx_index:9,e:A,regs:t,__enum__:"hxsl.TExprDef",toString:s}},t._hx_name="TSwiz",t.__params__=["e","regs"],t),TIf:(t=function(A,t,e){return{_hx_index:10,econd:A,eif:t,eelse:e,__enum__:"hxsl.TExprDef",toString:s}},t._hx_name="TIf",t.__params__=["econd","eif","eelse"],t),TDiscard:{_hx_name:"TDiscard",_hx_index:11,__enum__:"hxsl.TExprDef",toString:s},TReturn:(t=function(A){return{_hx_index:12,e:A,__enum__:"hxsl.TExprDef",toString:s}},t._hx_name="TReturn",t.__params__=["e"],t),TFor:(t=function(A,t,e){return{_hx_index:13,v:A,it:t,loop:e,__enum__:"hxsl.TExprDef",toString:s}},t._hx_name="TFor",t.__params__=["v","it","loop"],t),TContinue:{_hx_name:"TContinue",_hx_index:14,__enum__:"hxsl.TExprDef",toString:s},TBreak:{_hx_name:"TBreak",_hx_index:15,__enum__:"hxsl.TExprDef",toString:s},TArray:(t=function(A,t){return{_hx_index:16,e:A,index:t,__enum__:"hxsl.TExprDef",toString:s}},t._hx_name="TArray",t.__params__=["e","index"],t),TArrayDecl:(t=function(A){return{_hx_index:17,el:A,__enum__:"hxsl.TExprDef",toString:s}},t._hx_name="TArrayDecl",t.__params__=["el"],t),TSwitch:(t=function(A,t,e){return{_hx_index:18,e:A,cases:t,def:e,__enum__:"hxsl.TExprDef",toString:s}},t._hx_name="TSwitch",t.__params__=["e","cases","def"],t),TWhile:(t=function(A,t,e){return{_hx_index:19,e:A,loop:t,normalWhile:e,__enum__:"hxsl.TExprDef",toString:s}},t._hx_name="TWhile",t.__params__=["e","loop","normalWhile"],t),TMeta:(t=function(A,t,e){return{_hx_index:20,m:A,args:t,e:e,__enum__:"hxsl.TExprDef",toString:s}},t._hx_name="TMeta",t.__params__=["m","args","e"],t)};Js.__constructs__=[Js.TConst,Js.TVar,Js.TGlobal,Js.TParenthesis,Js.TBlock,Js.TBinop,Js.TUnop,Js.TVarDecl,Js.TCall,Js.TSwiz,Js.TIf,Js.TDiscard,Js.TReturn,Js.TFor,Js.TContinue,Js.TBreak,Js.TArray,Js.TArrayDecl,Js.TSwitch,Js.TWhile,Js.TMeta],Js.__empty_constructs__=[Js.TDiscard,Js.TContinue,Js.TBreak];var js=function(){};e["hxsl.Tools"]=js,js.__name__="hxsl.Tools",js.allocVarId=function(){return++js.UID},js.getName=function(A){if(null==A.qualifiers)return A.name;for(var t=0,e=A.qualifiers;t<e.length;){var s=e[t];if(++t,4==s._hx_index)return s.n}return A.name},js.getConstBits=function(A){var t=A.type;switch(t._hx_index){case 1:for(var e=0,s=A.qualifiers;e<s.length;){var i=s[e];if(++e,0==i._hx_index){var r=i.max;if(null!=r){for(var n=0;r>=1<<n;)++n;return n}return 8}}break;case 2:return 1;case 17:e=t.size;return 3+js.MAX_CHANNELS_BITS}return 0},js.isConst=function(A){var t;if(17==(s=A.type)._hx_index){var e=s.size;t=!0}else t=!1;if(t)return!0;if(null!=A.qualifiers){var s=0;for(e=A.qualifiers;s<e.length;){var i=e[s];if(++s,0==i._hx_index){i.max;return!0}}}return!1},js.hasQualifier=function(A,t){if(null!=A.qualifiers)for(var e=0,s=A.qualifiers;e<s.length;){var i=s[e];if(++e,i==t)return!0}return!1},js.hasBorrowQualifier=function(A,t){if(null!=A.qualifiers)for(var e=0,s=A.qualifiers;e<s.length;){var i=s[e];if(++e,11==i._hx_index)return t==i.source}return!1},js.isSampler=function(A){switch(A._hx_index){case 10:case 11:case 12:return!0;case 17:A.size;return!0;default:return!1}},js.toString=function(A){switch(A._hx_index){case 5:var t,e=A.size;switch((h=A.t)._hx_index){case 0:t="I";break;case 1:t="";break;case 2:t="B"}return t+"Vec"+e;case 9:return"Bytes"+A.size;case 13:for(var s=A.vl,r=[],n=0;n<s.length;){var a=s[n];++n,r.push(a.name+" : "+js.toString(a.type))}return"{"+r.join(",")+"}";case 15:var h=A.t,l=A.size,u=js.toString(h)+"[";switch(l._hx_index){case 0:_=""+l.v;break;case 1:_=(a=l.v).name}return u+_+"]";case 16:var _;h=A.t,l=A.size,u="buffer "+js.toString(h)+"[";switch(l._hx_index){case 0:_=""+l.v;break;case 1:_=(a=l.v).name}return u+_+"]";default:return o.substr(i[A.__enum__].__constructs__[A._hx_index]._hx_name,1,null)}},js.hasSideEffect=function(A){var t=A.e;switch(t._hx_index){case 0:var e=t.c;return!1;case 1:e=t.v;return!1;case 2:e=t.g;return!1;case 3:A=t.e;return js.hasSideEffect(A);case 4:var s=t.el;for(e=0;e<s.length;){A=s[e];if(++e,js.hasSideEffect(A))return!0}return!1;case 5:e=t.op;var i=t.e1,r=t.e2;switch(e._hx_index){case 4:return!0;case 20:e.op;return!0;default:var n=r;return!!js.hasSideEffect(a=i)||js.hasSideEffect(n)}break;case 6:e=t.op;var a=t.e1;return js.hasSideEffect(a);case 7:e=t.v,e=t.init;return!0;case 8:A=t.e;var h,l=t.args;if(2==(e=A.e)._hx_index){i=e.g;h=!0}else h=!1;if(!h)return!0;for(e=0;e<l.length;){var o=l[e];if(++e,js.hasSideEffect(o))return!0}return!1;case 9:e=t.regs,A=t.e;return js.hasSideEffect(A);case 10:var u=t.econd,_=t.eif,c=t.eelse;return!(!js.hasSideEffect(u)&&!js.hasSideEffect(_))||null!=c&&js.hasSideEffect(c);case 11:case 14:case 15:return!0;case 12:e=t.e;return!0;case 13:e=t.v;var d=t.it,p=t.loop;return!!js.hasSideEffect(d)||js.hasSideEffect(p);case 16:A=t.e;var f=t.index;return!!js.hasSideEffect(A)||js.hasSideEffect(f);case 17:for(s=t.el,e=0;e<s.length;){A=s[e];if(++e,js.hasSideEffect(A))return!0}return!1;case 18:A=t.e;var x=t.cases,g=t.def;for(e=0;e<x.length;){var b=x[e];++e;for(i=0,r=b.values;i<r.length;){var m=r[i];if(++i,js.hasSideEffect(m))return!0}if(js.hasSideEffect(b.expr))return!0}return!!js.hasSideEffect(A)||null!=g&&js.hasSideEffect(g);case 19:e=t.normalWhile,A=t.e,p=t.loop;return!!js.hasSideEffect(A)||js.hasSideEffect(p);case 20:e=t.m,e=t.args,A=t.e;return js.hasSideEffect(A)}},js.iter=function(A,t){var e=A.e;switch(e._hx_index){case 0:var s=e.c;break;case 1:s=e.v;break;case 2:s=e.g;break;case 3:t(A=e.e);break;case 4:var i=e.el;for(s=0;s<i.length;){A=i[s];++s,t(A)}break;case 5:s=e.op;var r=e.e1,n=e.e2;t(r),t(n);break;case 6:s=e.op;t(r=e.e1);break;case 7:s=e.v;var a=e.init;null!=a&&t(a);break;case 8:A=e.e;var h=e.args;t(A);for(s=0;s<h.length;){var l=h[s];++s,t(l)}break;case 9:s=e.regs;t(A=e.e);break;case 10:var o=e.econd,u=e.eif,_=e.eelse;t(o),t(u),null!=_&&t(_);break;case 11:case 14:case 15:break;case 12:null!=(A=e.e)&&t(A);break;case 13:s=e.v;var c=e.it,d=e.loop;t(c),t(d);break;case 16:A=e.e;var p=e.index;t(A),t(p);break;case 17:for(i=e.el,s=0;s<i.length;){A=i[s];++s,t(A)}break;case 18:A=e.e;var f=e.cases,x=e.def;t(A);for(s=0;s<f.length;){var g=f[s];++s;for(var b=0,m=g.values;b<m.length;){var v=m[b];++b,t(v)}t(g.expr)}null!=x&&t(x);break;case 19:s=e.normalWhile,A=e.e,d=e.loop;t(A),t(d);break;case 20:s=e.m,s=e.args;t(A=e.e)}},js.map=function(A,t){var e,s=A.e;switch(s._hx_index){case 0:var i=s.c;e=A.e;break;case 1:i=s.v;e=A.e;break;case 2:i=s.g;e=A.e;break;case 3:var r=s.e;e=Js.TParenthesis(t(r));break;case 4:for(var n=s.el,a=(i=[],0);a<n.length;){r=n[a];++a,i.push(t(r))}e=Js.TBlock(i);break;case 5:var h=s.op,l=(r=s.e1,s.e2);e=Js.TBinop(h,t(r),t(l));break;case 6:h=s.op,r=s.e1;e=Js.TUnop(h,t(r));break;case 7:var o=s.v,u=s.init;e=Js.TVarDecl(o,null!=u?t(u):null);break;case 8:r=s.e;var _=s.args,c=t(r);for(i=[],a=0;a<_.length;){var d=_[a];++a,i.push(t(d))}e=Js.TCall(c,i);break;case 9:r=s.e;var p=s.regs;e=Js.TSwiz(t(r),p);break;case 10:var f=s.econd,x=s.eif,g=s.eelse;e=Js.TIf(t(f),t(x),null!=g?t(g):null);break;case 11:case 14:case 15:e=A.e;break;case 12:r=s.e;e=Js.TReturn(null!=r?t(r):null);break;case 13:o=s.v;var b=s.it,m=s.loop;e=Js.TFor(o,t(b),t(m));break;case 16:r=s.e;var v=s.index;e=Js.TArray(t(r),t(v));break;case 17:for(n=s.el,i=[],a=0;a<n.length;){r=n[a];++a,i.push(t(r))}e=Js.TArrayDecl(i);break;case 18:r=s.e;var w=s.cases,y=s.def;for(c=t(r),i=[],a=0;a<w.length;){p=w[a];++a;for(var B=[],C=0,k=p.values;C<k.length;){o=k[C];++C,B.push(t(o))}i.push({values:B,expr:t(p.expr)})}e=Js.TSwitch(c,i,null==y?null:t(y));break;case 19:r=s.e,m=s.loop;var M=s.normalWhile;e=Js.TWhile(t(r),t(m),M);break;case 20:var S=s.m;_=s.args,r=s.e;e=Js.TMeta(S,_,t(r))}return{e:e,t:A.t,p:A.p}},js.size=function(A){switch(A._hx_index){case 0:case 2:case 4:case 10:case 11:case 12:return 0;case 1:case 3:return 1;case 5:var t=A.t;return A.size;case 6:return 9;case 7:return 16;case 8:return 12;case 9:return s=A.size;case 13:var e=A.vl,s=0;for(t=0;t<e.length;){var i=e[t];++t,s+=js.size(i.type)}return s;case 14:t=A.variants;return 0;case 15:t=A.t;var r=A.size;switch(r._hx_index){case 0:i=r.v;return js.size(n=t)*i;case 1:t=r.v;return 0}break;case 16:if(0==(t=A.size)._hx_index){i=t.v;var n=A.t;return js.size(n)*i}return 0;case 17:return A.size;case 18:return 4}};var qs=function(){};e["hxsl.Tools2"]=qs,qs.__name__="hxsl.Tools2",qs.toString=function(A){var t=i[A.__enum__].__constructs__[A._hx_index]._hx_name;return t.charAt(0).toLowerCase()+o.substr(t,1,null)};var $s=function(){this.Batch_Count__=0,at.call(this)};e["hxsl.BatchShader"]=$s,$s.__name__="hxsl.BatchShader",$s.__super__=at,$s.prototype=r(at.prototype,{updateConstants:function(A){this.constBits=0;var t=this.Batch_Count__;if(t>>>17!=0)throw de.thrown("Batch_Count is out of range "+t+">131071");this.constBits|=t,this.updateConstantsFinal(A)},getParamValue:function(A){switch(A){case 0:return this.Batch_Count__;case 1:return this.Batch_Buffer__}return null},getParamFloatValue:function(A){return 0},__class__:$s});var Ai=function(){};e["hxsl.SearchMap"]=Ai,Ai.__name__="hxsl.SearchMap",Ai.prototype={__class__:Ai};var ti=function(){this.constsToGlobal=!1,this.linkCache=new Ai,this.linkShaders=new Ue,this.batchShaders=new De,this.byID=new Ue};e["hxsl.Cache"]=ti,ti.__name__="hxsl.Cache",ti.get=function(){var A=ti.INST;return null==A&&(A=new ti,ti.INST=A),A},ti.prototype={getLinkShader:function(A){for(var t=[],e=0;e<A.length;){var s=A[e];++e,t.push(f.string(s))}var i=t.join(","),r=this.linkShaders.h[i];if(null!=r)return r;var n=new Si(""),a=o.substr(Se.encode(i),0,8);n.data={name:"shaderLinker_"+a,vars:[],funs:[]};var h=null,l=Object.create(null),u=0,_=zs.TVec(4,Ps.VFloat),c=function(A,t,e,s){for(var i=[],r=t,n=0,a=e.length;n<a;){var l=n++,o=s(e[e.length-1-l],r-(e.length-1-l));r-=js.size(o.t),i.unshift(o)}return{e:Js.TCall({e:Js.TGlobal(A),t:zs.TVoid,p:h},i),t:zs.TVec(t,Ps.VFloat),p:h}},d=function(A,t,e){var s=null==e?A:js.getName(e)+"."+A,i=l[s];if(null!=i)return i;if(i={id:js.allocVarId(),name:A,type:t,kind:Ns.Var,parent:e},null==e)n.data.vars.push(i);else{var r=e.type;if(13!=r._hx_index)throw de.thrown("assert");r.vl.push(i)}return l[s]=i,i},p=null;p=function(A,t){switch(A._hx_index){case 0:var e=A.v;return{e:Js.TConst(Ws.CFloat(e)),t:zs.TFloat,p:h};case 1:var s=A.v,i=A.size;if(null!=(e=l[s]))return{e:Js.TVar(e),t:e.type,p:h};for(var r=s.split("."),n=null;r.length>1;)n=d(r.shift(),zs.TStruct([]),n);return null!=i&&(t=i),e=d(r.shift(),1==t?zs.TFloat:zs.TVec(t,Ps.VFloat),n),{e:Js.TVar(e),t:e.type,p:h};case 2:e=A.v;return{e:Js.TCall({e:Js.TGlobal(Hs.PackNormal),t:zs.TVoid,p:h},[p(e,3)]),t:_,p:h};case 3:e=A.v;return{e:Js.TCall({e:Js.TGlobal(Hs.Pack),t:zs.TVoid,p:h},[p(e,1)]),t:_,p:h};case 4:var a=A.a;return c(Hs.Vec2,2,a,p);case 5:a=A.a;return c(Hs.Vec3,3,a,p);case 6:a=A.a;return c(Hs.Vec4,4,a,p);case 7:e=A.a;var o=A.swiz;return{e:Js.TSwiz(p(e,4),o),t:zs.TVec(o.length,Ps.VFloat),p:h}}};var x=function(A){u+=1;var t={id:js.allocVarId(),type:_,name:"OUTPUT"+(u-1),kind:Ns.Output};return n.data.vars.push(t),{e:Js.TBinop(Ke.OpAssign,{e:Js.TVar(t),t:_,p:h},p(A,4)),t:zs.TVoid,p:h}},g=function(A,t){for(var e={id:js.allocVarId(),type:zs.TFun([]),name:(""+f.string(A)).toLowerCase(),kind:Ns.Function},s=[],i=0;i<t.length;){var r=t[i];++i,s.push(x(r))}var a={kind:A,ref:e,args:[],ret:zs.TVoid,expr:{e:Js.TBlock(s),p:h,t:zs.TVoid}};n.data.funs.push(a)};return g(Zs.Vertex,[fi.Value("output.position")]),g(Zs.Fragment,A),(r=Object.create(at.prototype)).shader=n,this.linkShaders.h[i]=r,r.updateConstantsFinal(null),r},link:function(A,t){for(var e=this.linkCache,s=A;null!=s;){var i=s.s;s=s.next;var r=i.instance;null==e.next&&(e.next=new De);var n=e.next.h[r.id];null==n&&(n=new Ai,e.next.h[r.id]=n),e=n}return null==e.linked&&(e.linked=this.compileRuntimeShader(A,t)),e.linked},compileRuntimeShader:function(A,t){for(var e=[],s=0,i=A;null!=i;){var r=i.s;i=i.next;var n=(u=r).instance;e.push({inst:n,p:u.priority,index:s++})}e.reverse(),Te.sort(e,(function(A,t){return t.p-A.p}));var a=new pi(t);try{for(var h=[],l=0;l<e.length;){var u=e[l];++l,h.push(u.inst.shader)}r=a.link(h)}catch(h){l=de.caught(h).unwrap();if(l instanceof Ls){for(var _=l,c=(l=[],0);c<e.length;){u=e[c];++c,l.push(xi.shaderToString(u.inst.shader))}var d=l;throw _.msg+="\n\nin\n\n"+d.join("\n-----\n"),de.thrown(_)}throw h}if(t){var p=null;p=function(A){if(null!=A.qualifiers&&A.qualifiers.indexOf(Ys.PerObject)>=0&&(1==A.qualifiers.length?A.qualifiers=null:(A.qualifiers=A.qualifiers.slice(),o.remove(A.qualifiers,Ys.PerObject)),A.kind!=Ns.Var&&(A.kind=Ns.Local)),13==(e=A.type)._hx_index)for(var t=e.vl,e=0;e<t.length;){A=t[e];++e,p(A)}};for(h=0,l=r.vars;h<l.length;){var f=l[h];++h,p(f)}}var x=new De;for(h=0,l=a.allVars;h<l.length;){f=l[h];if(++h,f.v.kind==Ns.Param){if(13==(c=f.v.type)._hx_index){c.vl;continue}var g=e[f.instanceIndex];x.h[f.id]={instance:g.index,index:g.inst.params.h[f.merged[0].id]}}}try{u=(new Fi).split(r)}catch(h){l=de.caught(h).unwrap();if(l instanceof Ls)throw(_=l).msg+="\n\nin\n\n"+xi.shaderToString(r),de.thrown(_);throw h}r=(new ri).dce(u.vertex,u.fragment);for(var b=this.buildRuntimeShader(r.vertex,r.fragment,x),m=(h=[],A);null!=m;){r=m.s;m=m.next;u=r;h.push(new vi(u.shader,u.constBits))}b.spec={instances:h,signature:null};for(h=0,l=e.length;h<l;){n=h++,r=e[e.length-1-n];b.spec.instances[r.index].index=n}for(h=[],l=0,c=b.spec.instances;l<c.length;){n=c[l];++l,h.push(n.shader.data.name+"_"+n.bits+"_"+n.index)}var v=h.join(":");b.spec.signature=Se.encode(v),b.signature=Se.encode(xi.shaderToString(b.vertex.data)+xi.shaderToString(b.fragment.data)),b.batchMode=t;var w=this.byID.h[b.signature];return null!=w?b.id=w.id:this.byID.h[b.signature]=b,b},buildRuntimeShader:function(A,t,e){var s=new wi;return s.vertex=this.flattenShader(A,Zs.Vertex,e),s.vertex.vertex=!0,s.fragment=this.flattenShader(t,Zs.Fragment,e),s.globals=new De,this.initGlobals(s,s.vertex),this.initGlobals(s,s.fragment),s},initGlobals:function(A,t){for(var e=t.globals;null!=e;)A.globals.h[e.gid]=!0,e=e.next;for(e=t.params;null!=e;)null!=e.perObjectGlobal&&(A.globals.h[e.perObjectGlobal.gid]=!0),e=e.next},getPath:function(A){return null==A.parent?A.name:this.getPath(A.parent)+"."+A.name},flattenShader:function(A,t,e){var s=new li,i=new mi,r=s.flatten(A,t,this.constsToGlobal),n=[];i.consts=s.consts,i.texturesCount=0;for(var a=s.allocData.keys();a.hasNext();){var h=a.next(),l=s.allocData.h[h.__id__];switch(h.kind._hx_index){case 0:for(var o=[],u=0;u<l.length;){var _=l[u];++u,null!=_.v&&o.push(new bi(_.pos,this.getPath(_.v),_.v.type))}for(var c=o,d=0,p=c.length-1;d<p;){c[U=d++].next=c[U+1]}var f=h.type;if(15!=f._hx_index)throw de.thrown("assert");var x=f.t,g=f.size;if(5!=x._hx_index)throw de.thrown("assert");if(4!=x.size)throw de.thrown("assert");if(1!=x.t._hx_index)throw de.thrown("assert");if(0!=g._hx_index)throw de.thrown("assert");var b=g.v;i.globals=c[0],i.globalsSize=b;break;case 2:for(var m=[],v=0,w=0;w<l.length;){var y=l[w];if(++w,null!=y.v){var B=e.h[y.v.id];if(null!=B){var C=new gi(y.v.name,y.pos,B.instance,B.index,y.v.type),k=y.v.type;if(15==k._hx_index){k.size;var M=k.t;js.isSampler(M)?(C.pos=-y.size,v+=y.size):++v}else++v;m.push(C)}else{var S=new gi(y.v.name,y.pos,-1,-1,y.v.type);S.perObjectGlobal=new bi(-1,this.getPath(y.v),y.v.type),m.push(S),++v}}}for(var T=0,F=m.length-1;T<F;){var E=T++;m[E].next=m[E+1]}var I=h.type;if(15!=I._hx_index)throw de.thrown("assert");var D=I.t,Q=I.size,V=D;if(js.isSampler(V))n.push({t:V,all:m}),i.texturesCount+=v;else switch(D._hx_index){case 5:if(4!=D.size)throw de.thrown("assert");if(1!=D.t._hx_index)throw de.thrown("assert");if(0!=Q._hx_index)throw de.thrown("assert");var R=Q.v;i.params=m[0],i.paramsSize=R;break;case 16:D.t,D.size;i.buffers=m[0],i.bufferCount=m.length;break;default:throw de.thrown("assert")}break;default:throw de.thrown("assert")}}if(n.length>0){n.sort((function(A,t){return A.t._hx_index-t.t._hx_index})),i.textures=n[0].all[0];for(o=1,u=n.length;o<u;){var U,G=n[(U=o++)-1].all;G[G.length-1].next=n[U].all[0]}}return null==i.globals&&(i.globalsSize=0),null==i.params&&(i.paramsSize=0),null==i.buffers&&(i.bufferCount=0),i.data=r,i},__class__:ti};var ei=i["hxsl.Channel"]={__ename__:!0,__constructs__:null,Unknown:{_hx_name:"Unknown",_hx_index:0,__enum__:"hxsl.Channel",toString:s},R:{_hx_name:"R",_hx_index:1,__enum__:"hxsl.Channel",toString:s},G:{_hx_name:"G",_hx_index:2,__enum__:"hxsl.Channel",toString:s},B:{_hx_name:"B",_hx_index:3,__enum__:"hxsl.Channel",toString:s},A:{_hx_name:"A",_hx_index:4,__enum__:"hxsl.Channel",toString:s},PackedFloat:{_hx_name:"PackedFloat",_hx_index:5,__enum__:"hxsl.Channel",toString:s},PackedNormal:{_hx_name:"PackedNormal",_hx_index:6,__enum__:"hxsl.Channel",toString:s}};ei.__constructs__=[ei.Unknown,ei.R,ei.G,ei.B,ei.A,ei.PackedFloat,ei.PackedNormal],ei.__empty_constructs__=[ei.Unknown,ei.R,ei.G,ei.B,ei.A,ei.PackedFloat,ei.PackedNormal];var si=function(){this.varMap=new De};e["hxsl.Clone"]=si,si.__name__="hxsl.Clone",si.shaderData=function(A){return(new si).shader(A)},si.prototype={tvar:function(A){var t=this.varMap.h[A.id];return null!=t||(t={id:js.allocVarId(),type:A.type,name:A.name,kind:A.kind},this.varMap.h[A.id]=t,null!=A.parent&&(t.parent=this.tvar(A.parent)),null!=A.qualifiers&&(t.qualifiers=A.qualifiers.slice()),t.type=this.ttype(A.type)),t},tfun:function(A){for(var t=this.ttype(A.ret),e=A.kind,s=this.tvar(A.ref),i=[],r=0,n=A.args;r<n.length;){var a=n[r];++r,i.push(this.tvar(a))}return{ret:t,kind:e,ref:s,args:i,expr:this.texpr(A.expr)}},ttype:function(A){switch(A._hx_index){case 13:for(var t=A.vl,e=[],s=0;s<t.length;){var i=t[s];++s,e.push(this.tvar(i))}return zs.TStruct(e);case 14:var r=A.variants;return zs.TFun(r);case 15:var n,a=A.t,h=A.size,l=this.ttype(a);switch(h._hx_index){case 0:e=h.v;n=h;break;case 1:i=h.v;n=Os.SVar(this.tvar(i))}return zs.TArray(l,n);default:return A}},texpr:function(A){var t=js.map(A,Di(this,this.texpr));t.t=this.ttype(A.t);var e,s=t.e;switch(s._hx_index){case 1:var i=s.v;e=Js.TVar(this.tvar(i));break;case 7:i=s.v;var r=s.init;e=Js.TVarDecl(this.tvar(i),r);break;case 13:i=s.v;var n=s.it,a=s.loop;e=Js.TFor(this.tvar(i),n,a);break;default:e=t.e}return t.e=e,t},shader:function(A){for(var t=A.name,e=[],s=0,i=A.vars;s<i.length;){var r=i[s];++s,e.push(this.tvar(r))}var n=e;for(e=[],s=0,i=A.funs;s<i.length;){var a=i[s];++s,e.push(this.tfun(a))}return{name:t,vars:n,funs:e}},__class__:si};var ii=function(A){this.v=A,this.used=!1,this.deps=new De};e["hxsl._Dce.VarDeps"]=ii,ii.__name__="hxsl._Dce.VarDeps",ii.prototype={__class__:ii};var ri=function(){};e["hxsl.Dce"]=ri,ri.__name__="hxsl.Dce",ri.prototype={dce:function(A,t){this.used=new De,this.channelVars=[];for(var e=[],s=0,i=A.vars;s<i.length;){var r=i[s];++s;var n=this.get(r);r.kind==Ns.Input&&e.push(n),r.kind==Ns.Output&&(n.keep=!0)}for(s=0,i=t.vars;s<i.length;){r=i[s];++s;n=this.get(r);r.kind==Ns.Output&&(n.keep=!0)}for(s=0,i=A.funs;s<i.length;){var a=i[s];++s,this.check(a.expr,[],[])}for(s=0,i=t.funs;s<i.length;){a=i[s];++s,this.check(a.expr,[],[])}for(var h=[];;){for(r=this.used.iterator();r.hasNext();){(x=r.next()).keep&&this.markRec(x)}for(;e.length>1&&!e[e.length-1].used;)e.pop();for(s=0;s<e.length;){var l=e[s];++s,this.markRec(l)}h=[];i=0;for(var u=A.funs;i<u.length;){a=u[i];++i,h.push(this.mapExpr(a.expr,!1))}for(var _=0,c=t.funs;_<c.length;){var d=c[_];++_,h.push(this.mapExpr(d.expr,!1))}this.markAsKeep=!1;for(var p=0;p<h.length;){var f=h[p];++p,this.checkBranches(f)}if(!this.markAsKeep)break}for(s=0,i=A.funs;s<i.length;){a=i[s];++s,a.expr=h.shift()}for(s=0,i=t.funs;s<i.length;){a=i[s];++s,a.expr=h.shift()}for(r=this.used.iterator();r.hasNext();){var x;(x=r.next()).used||x.v.kind!=Ns.Input&&(o.remove(A.vars,x.v),o.remove(t.vars,x.v))}return{fragment:t,vertex:A}},get:function(A){var t=this.used.h[A.id];return null==t&&(t=new ii(A),this.used.h[A.id]=t),t},markRec:function(A){if(!A.used){A.used=!0;for(var t=A.deps.iterator();t.hasNext();){var e=t.next();this.markRec(e)}}},link:function(A,t){for(var e=this.get(A),s=0;s<t.length;){var i=t[s];++s,null!=i?i.deps.h[A.id]=e:e.keep||(e.keep=!0,this.markAsKeep=!0)}},check:function(A,t,e){switch((fA=A.e)._hx_index){case 1:var s=fA.v;this.link(s,t);break;case 4:for(var i=fA.el,r=[],n=0,a=i.length;n<a;){var h=n++;this.check(i[h],h<i.length-1?r:t,e)}break;case 5:n=fA.op,a=fA.e1;var l=fA.e2;switch(n._hx_index){case 4:var o=a.e,u=a.p;u=a.t;switch(o._hx_index){case 1:s=o.v;var _=l,c=this.get(s);t.push(c),this.check(_,t,e),t.pop(),e.indexOf(c)<0&&e.push(c);break;case 9:u=o.e;var d=o.regs;o=u.e,d=u.p,d=u.t;if(1==o._hx_index){s=o.v,_=l,c=this.get(s);t.push(c),this.check(_,t,e),t.pop(),e.indexOf(c)<0&&e.push(c)}else{o=Di(this,this.check);var p=t,f=e;js.iter(A,(function(A){o(A,p,f)}))}break;default:u=Di(this,this.check);var x=t,g=e;js.iter(A,(function(A){u(A,x,g)}))}break;case 20:d=n.op,n=a.e,d=a.p,d=a.t;switch(n._hx_index){case 1:s=n.v,_=l,c=this.get(s);t.push(c),this.check(_,t,e),t.pop(),e.indexOf(c)<0&&e.push(c);break;case 9:a=n.e,d=n.regs,n=a.e,d=a.p,d=a.t;if(1==n._hx_index){s=n.v,_=l,c=this.get(s);t.push(c),this.check(_,t,e),t.pop(),e.indexOf(c)<0&&e.push(c)}else{n=Di(this,this.check);var b=t,m=e;js.iter(A,(function(A){n(A,b,m)}))}break;default:a=Di(this,this.check);var v=t,w=e;js.iter(A,(function(A){a(A,v,w)}))}break;default:l=Di(this,this.check);var y=t,B=e;js.iter(A,(function(A){l(A,y,B)}))}break;case 7:s=fA.v;var C=fA.init;if(null!=C)t.push(this.get(s)),this.check(C,t,e),t.pop();else{d=Di(this,this.check);var k=t,M=e;js.iter(A,(function(A){d(A,k,M)}))}break;case 8:var S=fA.e,T=fA.args,F=S.e,E=S.p;E=S.t;if(2==F._hx_index)switch(F.g._hx_index){case 63:if(3==T.length){S=T[0],F=T[2],E=S.e;var I=S.p;I=S.t;if(1==E._hx_index){S=F.e,I=F.p,I=F.t;if(0==S._hx_index){if(2==(F=S.c)._hx_index){var D=F.v,Q=T[1],V=E.v;this.check(Q,t,e),null==this.channelVars[D]?(this.channelVars[D]=V,this.link(V,t)):this.link(this.channelVars[D],t)}else{S=Di(this,this.check);var R=t,U=e;js.iter(A,(function(A){S(A,R,U)}))}}else{F=Di(this,this.check);var G=t,z=e;js.iter(A,(function(A){F(A,G,z)}))}}else{E=Di(this,this.check);var P=t,O=e;js.iter(A,(function(A){E(A,P,O)}))}}else{I=Di(this,this.check);var L=t,N=e;js.iter(A,(function(A){I(A,L,N)}))}break;case 64:if(4==T.length){var Y=T[0],X=T[3],W=Y.e,Z=Y.p;Z=Y.t;if(1==W._hx_index){Y=X.e,Z=X.p,Z=X.t;if(0==Y._hx_index){if(2==(X=Y.c)._hx_index){D=X.v;var H=T[2];Q=T[1],V=W.v;this.check(Q,t,e),this.check(H,t,e),null==this.channelVars[D]?(this.channelVars[D]=V,this.link(V,t)):this.link(this.channelVars[D],t)}else{T=Di(this,this.check);var K=t,J=e;js.iter(A,(function(A){T(A,K,J)}))}}else{Y=Di(this,this.check);var j=t,q=e;js.iter(A,(function(A){Y(A,j,q)}))}}else{X=Di(this,this.check);var $=t,AA=e;js.iter(A,(function(A){X(A,$,AA)}))}}else{W=Di(this,this.check);var tA=t,eA=e;js.iter(A,(function(A){W(A,tA,eA)}))}break;default:Z=Di(this,this.check);var sA=t,iA=e;js.iter(A,(function(A){Z(A,sA,iA)}))}else{var rA=Di(this,this.check),nA=t,aA=e;js.iter(A,(function(A){rA(A,nA,aA)}))}break;case 10:_=fA.econd;var hA=fA.eif,lA=fA.eelse,oA=[];this.check(hA,t,oA),null!=lA&&this.check(lA,t,oA);for(var uA=oA.length,_A=0;_A<t.length;){s=t[_A];++_A,oA.indexOf(s)<0&&oA.push(s)}this.check(_,oA,e);_A=0;for(var cA=uA;_A<cA;){s=oA[h=_A++];e.indexOf(s)<0&&e.push(s)}break;case 13:s=fA.v;var dA=fA.it,pA=fA.loop;oA=[];this.check(pA,t,oA),this.check(dA,oA,e);for(var fA=0;fA<oA.length;){s=oA[fA];++fA,e.indexOf(s)<0&&e.push(s)}break;default:fA=Di(this,this.check);var xA=t,gA=e;js.iter(A,(function(A){fA(A,xA,gA)}))}},checkBranches:function(A){var t=A.e;if(10==t._hx_index){t.eif,t.eelse;var e=t.econd;this.check(e,[null],[])}js.iter(A,Di(this,this.checkBranches))},mapExpr:function(A,t){var e=this,s=A.e;switch(s._hx_index){case 4:for(var i=s.el,r=[],n=0,a=0;a<i.length;){var h=i[a];++a;var l=t&&n==i.length-1,o=this.mapExpr(h,l);(js.hasSideEffect(o)||l)&&r.push(o),++n}return{e:Js.TBlock(r),p:A.p,t:A.t};case 5:a=s.op;var u=s.e1,_=s.e2;switch(a._hx_index){case 4:_=u.e;var c=u.p;c=u.t;switch(_._hx_index){case 1:var d=_.v;return this.get(d).used?js.map(A,(function(A){return e.mapExpr(A,!0)})):{e:Js.TConst(Ws.CNull),t:A.t,p:A.p};case 9:c=_.e,_.regs,_=c.e,c.p,c.t;if(1==_._hx_index){d=_.v;return this.get(d).used?js.map(A,(function(A){return e.mapExpr(A,!0)})):{e:Js.TConst(Ws.CNull),t:A.t,p:A.p}}return js.map(A,(function(A){return e.mapExpr(A,!0)}));default:return js.map(A,(function(A){return e.mapExpr(A,!0)}))}break;case 20:_=a.op,a=u.e,_=u.p,_=u.t;switch(a._hx_index){case 1:d=a.v;return this.get(d).used?js.map(A,(function(A){return e.mapExpr(A,!0)})):{e:Js.TConst(Ws.CNull),t:A.t,p:A.p};case 9:u=a.e,_=a.regs,a=u.e,_=u.p,_=u.t;if(1==a._hx_index){d=a.v;return this.get(d).used?js.map(A,(function(A){return e.mapExpr(A,!0)})):{e:Js.TConst(Ws.CNull),t:A.t,p:A.p}}return js.map(A,(function(A){return e.mapExpr(A,!0)}));default:return js.map(A,(function(A){return e.mapExpr(A,!0)}))}break;default:return js.map(A,(function(A){return e.mapExpr(A,!0)}))}break;case 7:a=s.init,d=s.v;return this.get(d).used?js.map(A,(function(A){return e.mapExpr(A,!0)})):{e:Js.TConst(Ws.CNull),t:A.t,p:A.p};case 8:a=s.e,u=s.args,_=a.e,c=a.p,c=a.t;if(2!=_._hx_index)return js.map(A,(function(A){return e.mapExpr(A,!0)}));switch(_.g._hx_index){case 63:if(3==u.length){a=u[0],_=(a=u[2]).e,c=a.p,c=a.t;if(0==_._hx_index){if(2==(a=_.c)._hx_index){var p=a.v,f=u[1],x=this.channelVars[p];return{e:Js.TCall({e:Js.TGlobal(Hs.Texture),p:A.p,t:zs.TVoid},[{e:Js.TVar(x),t:x.type,p:A.p},this.mapExpr(f,!0)]),t:zs.TVoid,p:A.p}}return js.map(A,(function(A){return e.mapExpr(A,!0)}))}return js.map(A,(function(A){return e.mapExpr(A,!0)}))}return js.map(A,(function(A){return e.mapExpr(A,!0)}));case 64:if(4==u.length){a=u[0],_=(a=u[3]).e,c=a.p,c=a.t;if(0==_._hx_index){if(2==(a=_.c)._hx_index){p=a.v;var g=u[2];f=u[1],x=this.channelVars[p];return{e:Js.TCall({e:Js.TGlobal(Hs.TextureLod),p:A.p,t:zs.TVoid},[{e:Js.TVar(x),t:x.type,p:A.p},this.mapExpr(f,!0),this.mapExpr(g,!0)]),t:zs.TVoid,p:A.p}}return js.map(A,(function(A){return e.mapExpr(A,!0)}))}return js.map(A,(function(A){return e.mapExpr(A,!0)}))}return js.map(A,(function(A){return e.mapExpr(A,!0)}));case 65:switch(u.length){case 3:a=u[0],_=(a=u[2]).e,c=a.p,c=a.t;if(0==_._hx_index){if(2==(a=_.c)._hx_index){p=a.v;var b=u[1];x=this.channelVars[p];return{e:Js.TCall({e:Js.TGlobal(Hs.Texel),p:A.p,t:zs.TVoid},[{e:Js.TVar(x),t:x.type,p:A.p},this.mapExpr(b,!0)]),t:zs.TVoid,p:A.p}}return js.map(A,(function(A){return e.mapExpr(A,!0)}))}return js.map(A,(function(A){return e.mapExpr(A,!0)}));case 4:a=u[0],_=(a=u[3]).e,c=a.p,c=a.t;if(0==_._hx_index){if(2==(a=_.c)._hx_index){p=a.v,g=u[2],b=u[1],x=this.channelVars[p];return{e:Js.TCall({e:Js.TGlobal(Hs.Texel),p:A.p,t:zs.TVoid},[{e:Js.TVar(x),t:x.type,p:A.p},this.mapExpr(b,!0),this.mapExpr(g,!0)]),t:zs.TVoid,p:A.p}}return js.map(A,(function(A){return e.mapExpr(A,!0)}))}return js.map(A,(function(A){return e.mapExpr(A,!0)}));default:return js.map(A,(function(A){return e.mapExpr(A,!0)}))}break;case 66:switch(u.length){case 2:a=u[0],_=(a=u[1]).e,c=a.p,c=a.t;if(0==_._hx_index){if(2==(a=_.c)._hx_index){p=a.v,x=this.channelVars[p];return{e:Js.TCall({e:Js.TGlobal(Hs.TextureSize),p:A.p,t:zs.TVoid},[{e:Js.TVar(x),t:x.type,p:A.p}]),t:zs.TVoid,p:A.p}}return js.map(A,(function(A){return e.mapExpr(A,!0)}))}return js.map(A,(function(A){return e.mapExpr(A,!0)}));case 3:a=u[0],_=(a=u[2]).e,c=a.p,c=a.t;if(0==_._hx_index){if(2==(a=_.c)._hx_index){p=a.v,g=u[1],x=this.channelVars[p];return{e:Js.TCall({e:Js.TGlobal(Hs.TextureSize),p:A.p,t:zs.TVoid},[{e:Js.TVar(x),t:x.type,p:A.p},this.mapExpr(g,!0)]),t:zs.TVoid,p:A.p}}return js.map(A,(function(A){return e.mapExpr(A,!0)}))}return js.map(A,(function(A){return e.mapExpr(A,!0)}));default:return js.map(A,(function(A){return e.mapExpr(A,!0)}))}break;default:return js.map(A,(function(A){return e.mapExpr(A,!0)}))}break;case 10:h=s.econd;var m=s.eif,v=s.eelse,w=(o=this.mapExpr(h,!0),this.mapExpr(m,t)),y=null==v?null:this.mapExpr(v,t);return t||js.hasSideEffect(w)||null!=y&&js.hasSideEffect(y)?{e:Js.TIf(o,w,y),p:o.p,t:o.t}:{e:Js.TConst(Ws.CNull),t:o.t,p:o.p};case 13:d=s.v;var B=s.it,C=s.loop,k=this.mapExpr(B,!0),M=this.mapExpr(C,!1);return js.hasSideEffect(M)?{e:Js.TFor(d,k,M),p:A.p,t:A.t}:{e:Js.TConst(Ws.CNull),t:A.t,p:A.p};default:return js.map(A,(function(A){return e.mapExpr(A,!0)}))}},__class__:ri};var ni=function(){this.varMap=new Re,this.funMap=new Re,this.constants=new De};e["hxsl.Eval"]=ni,ni.__name__="hxsl.Eval",ni.prototype={setConstant:function(A,t){this.constants.h[A.id]=Js.TConst(t)},mapVar:function(A){var t,e=this.varMap.h[A.__id__];if(null!=e)return A==e?e:this.mapVar(e);if(null!=A.parent&&(this.mapVar(A.parent),null!=(e=this.varMap.h[A.__id__])))return A==e?e:this.mapVar(e);if(17==(o=A.type)._hx_index){var s=o.size;t=!0}else t=!1;switch(e={id:t?A.id:js.allocVarId(),name:A.name,type:A.type,kind:A.kind},null!=A.parent&&(e.parent=this.mapVar(A.parent)),null!=A.qualifiers&&(e.qualifiers=A.qualifiers.slice()),this.varMap.set(A,e),this.varMap.set(e,e),(o=e.type)._hx_index){case 13:for(var i=o.vl,r=(s=[],0);r<i.length;){A=i[r];++r,s.push(this.mapVar(A))}e.type=zs.TStruct(s);break;case 15:if(1==(s=o.size)._hx_index){var n=s.v,a=o.t;if(null!=(l=this.constants.h[n.id]))if(null==l)Ls.t("Integer value expected for array size constant "+n.name,null);else if(0==l._hx_index){if(2==(s=l.c)._hx_index){A=s.v;if(15==(s=e.type)._hx_index){r=s.t,r=s.size;u=!0}else u=!1;e.type=u?zs.TArray(a,Os.SConst(A)):zs.TBuffer(a,Os.SConst(A))}else Ls.t("Integer value expected for array size constant "+n.name,null)}else Ls.t("Integer value expected for array size constant "+n.name,null);else{var h=this.mapVar(n);if(15==(s=e.type)._hx_index){r=s.t,r=s.size;u=!0}else u=!1;e.type=u?zs.TArray(a,Os.SVar(h)):zs.TBuffer(a,Os.SVar(h))}}break;case 16:if(1==(s=o.size)._hx_index){var l;n=s.v,a=o.t;if(null!=(l=this.constants.h[n.id]))if(null==l)Ls.t("Integer value expected for array size constant "+n.name,null);else if(0==l._hx_index){if(2==(o=l.c)._hx_index){A=o.v;if(15==(o=e.type)._hx_index){s=o.t,s=o.size;u=!0}else u=!1;e.type=u?zs.TArray(a,Os.SConst(A)):zs.TBuffer(a,Os.SConst(A))}else Ls.t("Integer value expected for array size constant "+n.name,null)}else Ls.t("Integer value expected for array size constant "+n.name,null);else{var o,u;h=this.mapVar(n);if(15==(o=e.type)._hx_index){s=o.t,s=o.size;u=!0}else u=!1;e.type=u?zs.TArray(a,Os.SVar(h)):zs.TBuffer(a,Os.SVar(h))}}}return e},checkSamplerRec:function(A){if(js.isSampler(A))return!0;switch(A._hx_index){case 13:for(var t=A.vl,e=0;e<t.length;){var s=t[e];if(++e,this.checkSamplerRec(s.type))return!0}return!1;case 15:e=A.size;var i=A.t;return this.checkSamplerRec(i);case 16:e=A.t,A.size;return!0}return!1},needsInline:function(A){for(var t=0,e=A.args;t<e.length;){var s=e[t];if(++t,this.checkSamplerRec(s.type))return!0}return!1},eval:function(A){for(var t=[],e=0,s=A.funs;e<s.length;){var i=s[e];++e;for(var r=i.kind,n=this.mapVar(i.ref),a=[],h=0,l=i.args;h<l.length;){var o=l[h];++h,a.push(this.mapVar(o))}var u={kind:r,ref:n,args:a,ret:i.ret,expr:i.expr};i.kind==Zs.Helper&&this.inlineCalls||this.needsInline(u)?this.funMap.set(u.ref,i):t.push(u)}for(e=0,s=t.length;e<s;){var _=e++;this.curFun=t[_],this.curFun.expr=this.evalExpr(this.curFun.expr,!1)}var c=A.name;for(e=[],s=0,a=A.vars;s<a.length;){var d=a[s];++s,e.push(this.mapVar(d))}return{name:c,vars:e,funs:t}},hasReturn:function(A){return this.markReturn=!1,this.hasReturnLoop(A),this.markReturn},hasReturnLoop:function(A){var t=A.e;if(12==t._hx_index){t.e;this.markReturn=!0}else this.markReturn||js.iter(A,Di(this,this.hasReturnLoop))},handleReturn:function(A,t){null==t&&(t=!1);var e=A.e;switch(e._hx_index){case 3:var s=e.e,i=this.handleReturn(s,t);return{e:Js.TParenthesis(i),t:i.t,p:A.p};case 4:var r=e.el,n=0,a=r.length,h=[];A:for(;n<a;){var l=r[n++];if(n==a)h.push(this.handleReturn(l,t));else{var o=l.e;switch(o._hx_index){case 10:if(null==o.eelse){var u=o.eif,_=o.econd;if(t&&this.hasReturn(u)){h.push(this.handleReturn({e:Js.TIf(_,u,{e:Js.TBlock(r.slice(n)),t:l.t,p:l.p}),t:l.t,p:l.p}));break A}h.push(this.handleReturn(l))}else h.push(this.handleReturn(l));break;case 12:var c=o.e;h.push(this.handleReturn(c,t));break A;default:h.push(this.handleReturn(l))}}}var d=t?h[h.length-1].t:A.t;return{e:Js.TBlock(h),t:d,p:A.p};case 10:var p=e.econd,f=(u=e.eif,e.eelse);if(null!=f&&t){var x=this.handleReturn(p),g=this.handleReturn(u,t);return{e:Js.TIf(x,g,this.handleReturn(f,t)),t:g.t,p:A.p}}return js.map(A,Di(this,this.handleReturnDef));case 12:s=e.e;return t||Ls.t("Cannot inline not final return",A.p),null==s?{e:Js.TBlock([]),t:zs.TVoid,p:A.p}:this.handleReturn(s,!0);default:return js.map(A,Di(this,this.handleReturnDef))}},handleReturnDef:function(A){return this.handleReturn(A)},evalCall:function(A,t,e,s){switch(A._hx_index){case 38:if(1==t.length){var i=(u=t[0]).e;u.p,u.t;if(0==i._hx_index){if(2==(u=i.c)._hx_index){var r=u.v;return Js.TConst(Ws.CFloat(r))}return null}return null}return null;case 63:case 64:if(0!=(u=t[0].e)._hx_index)throw Ls.t("Cannot eval complex channel "+xi.toString(t[0],!0)+" "+this.constantsToString(),s),de.thrown("assert");if(2!=(i=u.c)._hx_index)throw Ls.t("Cannot eval complex channel "+xi.toString(t[0],!0)+" "+this.constantsToString(),s),de.thrown("assert");r=_=i.v;var n=e[0];if(1!=(u=n.e)._hx_index)throw de.thrown("assert");var a,h=u.v;if(17!=(u=(n={e:Js.TVar(this.mapVar(h)),t:n.t,p:n.p}).t)._hx_index)throw de.thrown("assert");a=_=u.size;var l=b.createEnumIndex(ei,7&r,null),o=[n],u=1;for(i=t.length;u<i;){var _=u++;o.push(t[_])}o.push({e:Js.TConst(Ws.CInt(r>>3)),t:zs.TInt,p:s});var c={e:Js.TCall({e:Js.TGlobal(A),t:zs.TVoid,p:s},o),t:zs.TVoid,p:s};switch(l._hx_index){case 0:var d={e:Js.TConst(Ws.CFloat(0)),t:zs.TFloat,p:s};return 1==a?d.e:Js.TCall({e:Js.TGlobal([Hs.Vec2,Hs.Vec3,Hs.Vec4][a-2]),t:zs.TVoid,p:s},[d]);case 1:case 2:case 3:case 4:var p;switch(a){case 1:switch(l._hx_index){case 1:p=[Ks.X];break;case 2:p=[Ks.Y];break;case 3:p=[Ks.Z];break;case 4:p=[Ks.W];break;default:throw de.thrown("Invalid channel value "+f.string(l)+" for "+a+" channels")}break;case 2:switch(l._hx_index){case 1:p=[Ks.X,Ks.Y];break;case 2:p=[Ks.Y,Ks.Z];break;case 3:p=[Ks.Z,Ks.W];break;default:throw de.thrown("Invalid channel value "+f.string(l)+" for "+a+" channels")}break;case 3:switch(l._hx_index){case 1:p=[Ks.X,Ks.Y,Ks.Z];break;case 2:p=[Ks.Y,Ks.Z,Ks.W];break;default:throw de.thrown("Invalid channel value "+f.string(l)+" for "+a+" channels")}break;default:throw de.thrown("Invalid channel value "+f.string(l)+" for "+a+" channels")}return Js.TSwiz(c,p);case 5:return Js.TCall({e:Js.TGlobal(Hs.Unpack),t:zs.TVoid,p:s},[c]);case 6:return Js.TCall({e:Js.TGlobal(Hs.UnpackNormal),t:zs.TVoid,p:s},[c])}break;case 67:var x=t;for(u=0;u<x.length;){var g=x[u];++u,pe.trace(xi.toString(g),{fileName:g.p.file,lineNumber:0,className:null,methodName:null})}return Js.TBlock([]);default:return null}},constantsToString:function(){for(var A=[],t=this.constants.keys();t.hasNext();){var e=t.next();A.push(e+" => "+xi.toString({e:this.constants.h[e],t:zs.TVoid,p:null},!0))}return A.toString()},ifBlock:function(A){var t;if(null!=A){var e,s=A.e;if(10==s._hx_index){s.econd,s.eif,s.eelse;e=!0}else e=!1;t=!e}else t=!0;return t?A:{e:Js.TBlock([A]),t:A.t,p:A.p}},evalExpr:function(A,t){null==t&&(t=!0);var e,s=this,i=A.e;switch(i._hx_index){case 0:var r=i.c;e=A.e;break;case 1:var n=i.v;if(null!=(y=this.constants.h[n.id]))e=y;else{var a=this.mapVar(n);e=Js.TVar(a)}break;case 2:r=i.g;e=A.e;break;case 3:var h=i.e;if(0==(r=(g=this.evalExpr(h,t)).e)._hx_index){var l=r.c;e=g.e}else e=Js.TParenthesis(g);break;case 4:var o=[],u=(z=i.el).length-1;for(r=0,l=z.length;r<l;){var _=r++,c=t&&_==u;switch((E=(h=this.evalExpr(z[_],c)).e)._hx_index){case 0:var d=E.c;c&&o.push(h);break;case 1:var p=E.v;c&&o.push(h);break;default:o.push(h)}}e=1==o.length&&this.curFun.kind!=Zs.Init?o[0].e:Js.TBlock(o);break;case 5:var x=i.op,g=(h=i.e1,i.e2),b=this.evalExpr(h),m=this.evalExpr(g);switch(x._hx_index){case 0:r=b.e,l=m.e;if(0==r._hx_index)switch((E=r.c)._hx_index){case 2:if(0==l._hx_index)if(2==(r=l.c)._hx_index){var v=r.v,w=E.v;e=Js.TConst(Ws.CInt(w+v|0))}else e=Js.TBinop(x,b,m);else e=Js.TBinop(x,b,m);break;case 3:if(0==l._hx_index)if(3==(r=l.c)._hx_index){v=r.v,w=E.v;e=Js.TConst(Ws.CFloat(w+v))}else e=Js.TBinop(x,b,m);else e=Js.TBinop(x,b,m);break;default:e=Js.TBinop(x,b,m)}else e=Js.TBinop(x,b,m);break;case 1:r=b.e,l=m.e;if(0==r._hx_index)switch((E=r.c)._hx_index){case 2:if(0==l._hx_index)if(2==(r=l.c)._hx_index){v=r.v,w=E.v;e=Js.TConst(Ws.CInt(w*v|0))}else e=Js.TBinop(x,b,m);else e=Js.TBinop(x,b,m);break;case 3:if(0==l._hx_index)if(3==(r=l.c)._hx_index){v=r.v,w=E.v;e=Js.TConst(Ws.CFloat(w*v))}else e=Js.TBinop(x,b,m);else e=Js.TBinop(x,b,m);break;default:e=Js.TBinop(x,b,m)}else e=Js.TBinop(x,b,m);break;case 2:r=b.e,l=m.e;if(0==r._hx_index)switch((E=r.c)._hx_index){case 2:if(0==l._hx_index)if(2==(r=l.c)._hx_index){v=r.v,w=E.v;e=Js.TConst(Ws.CInt(w/v|0))}else e=Js.TBinop(x,b,m);else e=Js.TBinop(x,b,m);break;case 3:if(0==l._hx_index)if(3==(r=l.c)._hx_index){v=r.v,w=E.v;e=Js.TConst(Ws.CFloat(w/v))}else e=Js.TBinop(x,b,m);else e=Js.TBinop(x,b,m);break;default:e=Js.TBinop(x,b,m)}else e=Js.TBinop(x,b,m);break;case 3:r=b.e,l=m.e;if(0==r._hx_index)switch((E=r.c)._hx_index){case 2:if(0==l._hx_index)if(2==(r=l.c)._hx_index){v=r.v,w=E.v;e=Js.TConst(Ws.CInt(w-v|0))}else e=Js.TBinop(x,b,m);else e=Js.TBinop(x,b,m);break;case 3:if(0==l._hx_index)if(3==(r=l.c)._hx_index){v=r.v,w=E.v;e=Js.TConst(Ws.CFloat(w-v))}else e=Js.TBinop(x,b,m);else e=Js.TBinop(x,b,m);break;default:e=Js.TBinop(x,b,m)}else e=Js.TBinop(x,b,m);break;case 4:case 21:e=Js.TBinop(x,b,m);break;case 5:r=b.e,l=m.e;if(0==r._hx_index)switch((E=r.c)._hx_index){case 0:e=0==l._hx_index?0==l.c._hx_index?Js.TConst(Ws.CBool(!0)):Js.TConst(Ws.CBool(!1)):Js.TBinop(x,b,m);break;case 1:r=E.b;if(0==l._hx_index)switch((d=l.c)._hx_index){case 0:e=Js.TConst(Ws.CBool(!1));break;case 1:v=d.b,w=r;e=Js.TConst(Ws.CBool(0==(w==v?0:1)));break;default:e=Js.TBinop(x,b,m)}else e=Js.TBinop(x,b,m);break;case 2:r=E.v;if(0==l._hx_index)switch((d=l.c)._hx_index){case 0:e=Js.TConst(Ws.CBool(!1));break;case 2:v=d.v,w=r;e=Js.TConst(Ws.CBool(w-v==0));break;default:e=Js.TBinop(x,b,m)}else e=Js.TBinop(x,b,m);break;case 3:r=E.v;if(0==l._hx_index)switch((d=l.c)._hx_index){case 0:e=Js.TConst(Ws.CBool(!1));break;case 3:v=d.v,w=r;e=Js.TConst(Ws.CBool(0==(w>v?1:w==v?0:-1)));break;default:e=Js.TBinop(x,b,m)}else e=Js.TBinop(x,b,m);break;case 4:r=E.v;if(0==l._hx_index)switch((E=l.c)._hx_index){case 0:e=Js.TConst(Ws.CBool(!1));break;case 4:v=E.v,w=r;e=Js.TConst(Ws.CBool(0==(w>v?1:w==v?0:-1)));break;default:e=Js.TBinop(x,b,m)}else e=Js.TBinop(x,b,m)}else e=Js.TBinop(x,b,m);break;case 6:r=b.e,l=m.e;if(0==r._hx_index)switch((E=r.c)._hx_index){case 0:e=0==l._hx_index?0==l.c._hx_index?Js.TConst(Ws.CBool(!1)):Js.TConst(Ws.CBool(!0)):Js.TBinop(x,b,m);break;case 1:r=E.b;if(0==l._hx_index)switch((d=l.c)._hx_index){case 0:e=Js.TConst(Ws.CBool(!0));break;case 1:v=d.b,w=r;e=Js.TConst(Ws.CBool(0!=(w==v?0:1)));break;default:e=Js.TBinop(x,b,m)}else e=Js.TBinop(x,b,m);break;case 2:r=E.v;if(0==l._hx_index)switch((d=l.c)._hx_index){case 0:e=Js.TConst(Ws.CBool(!0));break;case 2:v=d.v,w=r;e=Js.TConst(Ws.CBool(w-v!=0));break;default:e=Js.TBinop(x,b,m)}else e=Js.TBinop(x,b,m);break;case 3:r=E.v;if(0==l._hx_index)switch((d=l.c)._hx_index){case 0:e=Js.TConst(Ws.CBool(!0));break;case 3:v=d.v,w=r;e=Js.TConst(Ws.CBool(0!=(w>v?1:w==v?0:-1)));break;default:e=Js.TBinop(x,b,m)}else e=Js.TBinop(x,b,m);break;case 4:r=E.v;if(0==l._hx_index)switch((E=l.c)._hx_index){case 0:e=Js.TConst(Ws.CBool(!0));break;case 4:v=E.v,w=r;e=Js.TConst(Ws.CBool(0!=(w>v?1:w==v?0:-1)));break;default:e=Js.TBinop(x,b,m)}else e=Js.TBinop(x,b,m)}else e=Js.TBinop(x,b,m);break;case 7:r=b.e,l=m.e;if(0==r._hx_index)switch((E=r.c)._hx_index){case 0:e=0==l._hx_index?(l.c._hx_index,Js.TConst(Ws.CBool(!1))):Js.TBinop(x,b,m);break;case 1:r=E.b;if(0==l._hx_index)switch((d=l.c)._hx_index){case 0:e=Js.TConst(Ws.CBool(!0));break;case 1:v=d.b,w=r;e=Js.TConst(Ws.CBool((w==v?0:1)>0));break;default:e=Js.TBinop(x,b,m)}else e=Js.TBinop(x,b,m);break;case 2:r=E.v;if(0==l._hx_index)switch((d=l.c)._hx_index){case 0:e=Js.TConst(Ws.CBool(!0));break;case 2:v=d.v,w=r;e=Js.TConst(Ws.CBool(w-v>0));break;default:e=Js.TBinop(x,b,m)}else e=Js.TBinop(x,b,m);break;case 3:r=E.v;if(0==l._hx_index)switch((d=l.c)._hx_index){case 0:e=Js.TConst(Ws.CBool(!0));break;case 3:v=d.v,w=r;e=Js.TConst(Ws.CBool((w>v?1:w==v?0:-1)>0));break;default:e=Js.TBinop(x,b,m)}else e=Js.TBinop(x,b,m);break;case 4:r=E.v;if(0==l._hx_index)switch((E=l.c)._hx_index){case 0:e=Js.TConst(Ws.CBool(!0));break;case 4:v=E.v,w=r;e=Js.TConst(Ws.CBool((w>v?1:w==v?0:-1)>0));break;default:e=Js.TBinop(x,b,m)}else e=Js.TBinop(x,b,m)}else e=Js.TBinop(x,b,m);break;case 8:r=b.e,l=m.e;if(0==r._hx_index)switch((E=r.c)._hx_index){case 0:e=0==l._hx_index?0==l.c._hx_index?Js.TConst(Ws.CBool(!0)):Js.TConst(Ws.CBool(!1)):Js.TBinop(x,b,m);break;case 1:r=E.b;if(0==l._hx_index)switch((d=l.c)._hx_index){case 0:e=Js.TConst(Ws.CBool(!0));break;case 1:v=d.b,w=r;e=Js.TConst(Ws.CBool((w==v?0:1)>=0));break;default:e=Js.TBinop(x,b,m)}else e=Js.TBinop(x,b,m);break;case 2:r=E.v;if(0==l._hx_index)switch((d=l.c)._hx_index){case 0:e=Js.TConst(Ws.CBool(!0));break;case 2:v=d.v,w=r;e=Js.TConst(Ws.CBool(w-v>=0));break;default:e=Js.TBinop(x,b,m)}else e=Js.TBinop(x,b,m);break;case 3:r=E.v;if(0==l._hx_index)switch((d=l.c)._hx_index){case 0:e=Js.TConst(Ws.CBool(!0));break;case 3:v=d.v,w=r;e=Js.TConst(Ws.CBool((w>v?1:w==v?0:-1)>=0));break;default:e=Js.TBinop(x,b,m)}else e=Js.TBinop(x,b,m);break;case 4:r=E.v;if(0==l._hx_index)switch((E=l.c)._hx_index){case 0:e=Js.TConst(Ws.CBool(!0));break;case 4:v=E.v,w=r;e=Js.TConst(Ws.CBool((w>v?1:w==v?0:-1)>=0));break;default:e=Js.TBinop(x,b,m)}else e=Js.TBinop(x,b,m)}else e=Js.TBinop(x,b,m);break;case 9:r=b.e,l=m.e;if(0==r._hx_index)switch((E=r.c)._hx_index){case 0:e=0==l._hx_index?0==l.c._hx_index?Js.TConst(Ws.CBool(!1)):Js.TConst(Ws.CBool(!0)):Js.TBinop(x,b,m);break;case 1:r=E.b;if(0==l._hx_index)switch((d=l.c)._hx_index){case 0:e=Js.TConst(Ws.CBool(!1));break;case 1:v=d.b,w=r;e=Js.TConst(Ws.CBool((w==v?0:1)<0));break;default:e=Js.TBinop(x,b,m)}else e=Js.TBinop(x,b,m);break;case 2:r=E.v;if(0==l._hx_index)switch((d=l.c)._hx_index){case 0:e=Js.TConst(Ws.CBool(!1));break;case 2:v=d.v,w=r;e=Js.TConst(Ws.CBool(w-v<0));break;default:e=Js.TBinop(x,b,m)}else e=Js.TBinop(x,b,m);break;case 3:r=E.v;if(0==l._hx_index)switch((d=l.c)._hx_index){case 0:e=Js.TConst(Ws.CBool(!1));break;case 3:v=d.v,w=r;e=Js.TConst(Ws.CBool((w>v?1:w==v?0:-1)<0));break;default:e=Js.TBinop(x,b,m)}else e=Js.TBinop(x,b,m);break;case 4:r=E.v;if(0==l._hx_index)switch((E=l.c)._hx_index){case 0:e=Js.TConst(Ws.CBool(!1));break;case 4:v=E.v,w=r;e=Js.TConst(Ws.CBool((w>v?1:w==v?0:-1)<0));break;default:e=Js.TBinop(x,b,m)}else e=Js.TBinop(x,b,m)}else e=Js.TBinop(x,b,m);break;case 10:r=b.e,l=m.e;if(0==r._hx_index)switch((E=r.c)._hx_index){case 0:e=0==l._hx_index?(l.c._hx_index,Js.TConst(Ws.CBool(!0))):Js.TBinop(x,b,m);break;case 1:r=E.b;if(0==l._hx_index)switch((d=l.c)._hx_index){case 0:e=Js.TConst(Ws.CBool(!1));break;case 1:v=d.b,w=r;e=Js.TConst(Ws.CBool((w==v?0:1)<=0));break;default:e=Js.TBinop(x,b,m)}else e=Js.TBinop(x,b,m);break;case 2:r=E.v;if(0==l._hx_index)switch((d=l.c)._hx_index){case 0:e=Js.TConst(Ws.CBool(!1));break;case 2:v=d.v,w=r;e=Js.TConst(Ws.CBool(w-v<=0));break;default:e=Js.TBinop(x,b,m)}else e=Js.TBinop(x,b,m);break;case 3:r=E.v;if(0==l._hx_index)switch((d=l.c)._hx_index){case 0:e=Js.TConst(Ws.CBool(!1));break;case 3:v=d.v,w=r;e=Js.TConst(Ws.CBool((w>v?1:w==v?0:-1)<=0));break;default:e=Js.TBinop(x,b,m)}else e=Js.TBinop(x,b,m);break;case 4:r=E.v;if(0==l._hx_index)switch((E=l.c)._hx_index){case 0:e=Js.TConst(Ws.CBool(!1));break;case 4:v=E.v,w=r;e=Js.TConst(Ws.CBool((w>v?1:w==v?0:-1)<=0));break;default:e=Js.TBinop(x,b,m)}else e=Js.TBinop(x,b,m)}else e=Js.TBinop(x,b,m);break;case 11:r=b.e,l=m.e;if(0==r._hx_index)if(2==(E=r.c)._hx_index)if(0==l._hx_index)if(2==(r=l.c)._hx_index){v=r.v,w=E.v;e=Js.TConst(Ws.CInt(w&v))}else e=Js.TBinop(x,b,m);else e=Js.TBinop(x,b,m);else e=Js.TBinop(x,b,m);else e=Js.TBinop(x,b,m);break;case 12:r=b.e,l=m.e;if(0==r._hx_index)if(2==(E=r.c)._hx_index)if(0==l._hx_index)if(2==(r=l.c)._hx_index){v=r.v,w=E.v;e=Js.TConst(Ws.CInt(w|v))}else e=Js.TBinop(x,b,m);else e=Js.TBinop(x,b,m);else e=Js.TBinop(x,b,m);else e=Js.TBinop(x,b,m);break;case 13:r=b.e,l=m.e;if(0==r._hx_index)if(2==(E=r.c)._hx_index)if(0==l._hx_index)if(2==(r=l.c)._hx_index){v=r.v,w=E.v;e=Js.TConst(Ws.CInt(w^v))}else e=Js.TBinop(x,b,m);else e=Js.TBinop(x,b,m);else e=Js.TBinop(x,b,m);else e=Js.TBinop(x,b,m);break;case 14:r=b.e,l=m.e;if(0==r._hx_index)if(1==(E=r.c)._hx_index){r=E.b;if(0==l._hx_index)if(1==(E=l.c)._hx_index){v=E.b;var w=r;e=Js.TConst(Ws.CBool(w&&v))}else{e=0==(w=r)?Js.TConst(Ws.CBool(w)):m.e}else e=0==(w=r)?Js.TConst(Ws.CBool(w)):m.e}else if(0==l._hx_index){if(1==(r=l.c)._hx_index)e=0==(w=r.b)?Js.TConst(Ws.CBool(w)):b.e;else e=Js.TBinop(x,b,m)}else e=Js.TBinop(x,b,m);else if(0==l._hx_index){if(1==(r=l.c)._hx_index)e=0==(w=r.b)?Js.TConst(Ws.CBool(w)):b.e;else e=Js.TBinop(x,b,m)}else e=Js.TBinop(x,b,m);break;case 15:r=b.e,l=m.e;if(0==r._hx_index)if(1==(E=r.c)._hx_index){r=E.b;if(0==l._hx_index)if(1==(E=l.c)._hx_index){v=E.b,w=r;e=Js.TConst(Ws.CBool(w||v))}else{e=1==(w=r)?Js.TConst(Ws.CBool(w)):m.e}else e=1==(w=r)?Js.TConst(Ws.CBool(w)):m.e}else if(0==l._hx_index){if(1==(r=l.c)._hx_index)e=1==(w=r.b)?Js.TConst(Ws.CBool(w)):b.e;else e=Js.TBinop(x,b,m)}else e=Js.TBinop(x,b,m);else if(0==l._hx_index){if(1==(r=l.c)._hx_index)e=1==(w=r.b)?Js.TConst(Ws.CBool(w)):b.e;else e=Js.TBinop(x,b,m)}else e=Js.TBinop(x,b,m);break;case 16:r=b.e,l=m.e;if(0==r._hx_index)if(2==(E=r.c)._hx_index)if(0==l._hx_index)if(2==(r=l.c)._hx_index){v=r.v,w=E.v;e=Js.TConst(Ws.CInt(w<<v))}else e=Js.TBinop(x,b,m);else e=Js.TBinop(x,b,m);else e=Js.TBinop(x,b,m);else e=Js.TBinop(x,b,m);break;case 17:r=b.e,l=m.e;if(0==r._hx_index)if(2==(E=r.c)._hx_index)if(0==l._hx_index)if(2==(r=l.c)._hx_index){v=r.v,w=E.v;e=Js.TConst(Ws.CInt(w>>v))}else e=Js.TBinop(x,b,m);else e=Js.TBinop(x,b,m);else e=Js.TBinop(x,b,m);else e=Js.TBinop(x,b,m);break;case 18:r=b.e,l=m.e;if(0==r._hx_index)if(2==(E=r.c)._hx_index)if(0==l._hx_index)if(2==(r=l.c)._hx_index){v=r.v,w=E.v;e=Js.TConst(Ws.CInt(w>>>v))}else e=Js.TBinop(x,b,m);else e=Js.TBinop(x,b,m);else e=Js.TBinop(x,b,m);else e=Js.TBinop(x,b,m);break;case 19:r=b.e,l=m.e;if(0==r._hx_index)switch((E=r.c)._hx_index){case 2:if(0==l._hx_index)if(2==(r=l.c)._hx_index){v=r.v,w=E.v;e=Js.TConst(Ws.CInt(w%v|0))}else e=Js.TBinop(x,b,m);else e=Js.TBinop(x,b,m);break;case 3:if(0==l._hx_index)if(3==(r=l.c)._hx_index){v=r.v,w=E.v;e=Js.TConst(Ws.CFloat(w%v))}else e=Js.TBinop(x,b,m);else e=Js.TBinop(x,b,m);break;default:e=Js.TBinop(x,b,m)}else e=Js.TBinop(x,b,m);break;case 20:r=x.op;e=Js.TBinop(x,b,m);break;case 22:case 23:throw de.thrown("assert")}break;case 6:x=i.op,h=i.e1;if(0==(r=(g=this.evalExpr(h)).e)._hx_index){var y=r.c;switch(x._hx_index){case 2:if(1==y._hx_index){v=y.b;e=Js.TConst(Ws.CBool(!v))}else e=Js.TUnop(x,g);break;case 3:switch(y._hx_index){case 2:_=y.v;e=Js.TConst(Ws.CInt(-_));break;case 3:var B=y.v;e=Js.TConst(Ws.CFloat(-B));break;default:e=Js.TUnop(x,g)}break;default:e=Js.TUnop(x,g)}}else e=Js.TUnop(x,g);break;case 7:n=i.v;var C=i.init;e=Js.TVarDecl(this.mapVar(n),null==C?null:this.evalExpr(C));break;case 8:y=i.e;var k=i.args,M=this.evalExpr(y);for(r=[],l=0;l<k.length;){w=k[l];++l,r.push(this.evalExpr(w))}var S=r;switch((r=M.e)._hx_index){case 1:n=r.v;if(null!=this.funMap.h.__keys__[n.__id__]){for(var T=[],F=[],E=(l=0,(B=this.funMap.h[n.__id__]).args.length);l<E;){_=l++,n=[B.args[_]];switch((d=(h=S[_]).e)._hx_index){case 0:p=d.c;var I=[this.constants.h[n[0].id]];F.push(function(A,t){return function(){null==A[0]?s.constants.remove(t[0].id):s.constants.h[t[0].id]=A[0]}}(I,n)),this.constants.h[n[0].id]=h.e;break;case 1:var D=d.v;D.id,D.name,D.parent,D.qualifiers,D.type;switch(D.kind._hx_index){case 0:case 1:case 2:var Q=[this.constants.h[n[0].id]];F.push(function(A,t){return function(){null==A[0]?s.constants.remove(t[0].id):s.constants.h[t[0].id]=A[0]}}(Q,n)),this.constants.h[n[0].id]=h.e;break;default:var V=[this.varMap.h[n[0].__id__]];null==V[0]?F.push(function(A){return function(){s.varMap.remove(A[0])}}(n)):(this.varMap.remove(n[0]),F.push(function(A,t){return function(){s.varMap.set(t[0],A[0])}}(V,n)));a=this.mapVar(n[0]);T.push({e:Js.TVarDecl(a,h),t:zs.TVoid,p:h.p})}break;default:var R=[this.varMap.h[n[0].__id__]];null==R[0]?F.push(function(A){return function(){s.varMap.remove(A[0])}}(n)):(this.varMap.remove(n[0]),F.push(function(A,t){return function(){s.varMap.set(t[0],A[0])}}(R,n)));var U=this.mapVar(n[0]);T.push({e:Js.TVarDecl(U,h),t:zs.TVoid,p:h.p})}}for(h=this.handleReturn(this.evalExpr(B.expr,!1),!0),l=0;l<F.length;){var G=F[l];++l,G()}if(4==(l=h.e)._hx_index){var z=l.el;for(l=0;l<z.length;){g=z[l];++l,T.push(g)}}else T.push(h);e=Js.TBlock(T)}else e=Js.TCall(M,S);break;case 2:var P=r.g;e=null!=(W=this.evalCall(P,S,k,A.p))?W:Js.TCall(M,S);break;default:e=Ls.t("Cannot eval non-static call expresssion '"+(new xi).exprString(M)+"'",M.p)}break;case 9:h=i.e;var O=i.regs;e=Js.TSwiz(this.evalExpr(h),O.slice());break;case 10:var L=i.econd,N=i.eif,Y=i.eelse,X=this.evalExpr(L);if(0==(r=X.e)._hx_index)if(1==(l=r.c)._hx_index)e=(v=l.b)?this.evalExpr(N,t).e:null==Y?Js.TConst(Ws.CNull):this.evalExpr(Y,t).e;else if(t&&null!=Y&&this.eliminateConditionals)e=Js.TCall({e:Js.TGlobal(Hs.Mix),t:A.t,p:A.p},[this.evalExpr(Y,!0),this.evalExpr(N,!0),{e:Js.TCall({e:Js.TGlobal(Hs.ToFloat),t:zs.TFun([]),p:X.p},[X]),t:zs.TFloat,p:A.p}]);else{if(N=this.evalExpr(N,t),null!=Y)0==(r=(Y=this.evalExpr(Y,t)).e)._hx_index&&0==r.c._hx_index&&(Y=null);N=this.ifBlock(N),Y=this.ifBlock(Y),e=Js.TIf(X,N,Y)}else if(t&&null!=Y&&this.eliminateConditionals)e=Js.TCall({e:Js.TGlobal(Hs.Mix),t:A.t,p:A.p},[this.evalExpr(Y,!0),this.evalExpr(N,!0),{e:Js.TCall({e:Js.TGlobal(Hs.ToFloat),t:zs.TFun([]),p:X.p},[X]),t:zs.TFloat,p:A.p}]);else{if(N=this.evalExpr(N,t),null!=Y)0==(r=(Y=this.evalExpr(Y,t)).e)._hx_index&&0==r.c._hx_index&&(Y=null);N=this.ifBlock(N),Y=this.ifBlock(Y),e=Js.TIf(X,N,Y)}break;case 11:e=Js.TDiscard;break;case 12:h=i.e;e=Js.TReturn(null==h?null:this.evalExpr(h));break;case 13:var W=i.v,Z=i.it,H=i.loop,K=(a=this.mapVar(W),this.evalExpr(Z));if(5==(r=K.e)._hx_index){l=r.e1,E=r.e2;if(21==r.op._hx_index){r=l.e,d=l.p,d=l.t;if(0==r._hx_index)if(2==(l=r.c)._hx_index){r=E.e,d=E.p,d=E.t;if(0==r._hx_index)if(2==(E=r.c)._hx_index){var J=E.v,j=l.v;if(this.unrollLoops){for(o=[],r=j,l=J;r<l;){_=r++;this.constants.h[W.id]=Js.TConst(Ws.CInt(_)),o.push(this.evalExpr(H,!1))}this.constants.remove(W.id),h=Js.TBlock(o)}else h=Js.TFor(a,K,this.ifBlock(this.evalExpr(H,!1)))}else h=Js.TFor(a,K,this.ifBlock(this.evalExpr(H,!1)));else h=Js.TFor(a,K,this.ifBlock(this.evalExpr(H,!1)))}else h=Js.TFor(a,K,this.ifBlock(this.evalExpr(H,!1)));else h=Js.TFor(a,K,this.ifBlock(this.evalExpr(H,!1)))}else h=Js.TFor(a,K,this.ifBlock(this.evalExpr(H,!1)))}else h=Js.TFor(a,K,this.ifBlock(this.evalExpr(H,!1)));this.varMap.remove(W),e=h;break;case 14:e=Js.TContinue;break;case 15:e=Js.TBreak;break;case 16:h=i.e,g=i.index,b=this.evalExpr(h),m=this.evalExpr(g),r=b.e,l=m.e;if(17==r._hx_index)if(0==l._hx_index)if(2==(E=l.c)._hx_index){_=E.v,z=r.el;e=_>=0&&_<z.length?z[_].e:Js.TArray(b,m)}else e=Js.TArray(b,m);else e=Js.TArray(b,m);else e=Js.TArray(b,m);break;case 17:for(z=i.el,r=[],l=0;l<z.length;){h=z[l];++l,r.push(this.evalExpr(h))}e=Js.TArrayDecl(r);break;case 18:h=i.e;var q=i.cases,$=i.def;for(g=this.evalExpr(h),r=[],l=0;l<q.length;){y=q[l];++l;for(E=[],d=0,p=y.values;d<p.length;){W=p[d];++d,E.push(this.evalExpr(W))}r.push({values:E,expr:this.evalExpr(y.expr,t)})}q=r;var AA=null==$?null:this.evalExpr($,t),tA=!1;if(0==(r=g.e)._hx_index){if(2!=(y=r.c)._hx_index)throw de.thrown("Unsupported switch constant "+f.string(y));var eA=y.v;for(r=0;r<q.length;){M=q[r];++r;for(l=0,E=M.values;l<E.length;){W=E[l];if(++l,0==(d=W.e)._hx_index){var sA=d.c;switch(sA._hx_index){case 2:if(sA.v==eA)return M.expr;break;case 3:if(sA.v==eA)return M.expr}}else tA=!0}}}else tA=!0;e=tA?Js.TSwitch(g,q,AA):null==AA?Js.TBlock([]):AA.e;break;case 19:var iA=i.e,rA=(H=i.loop,i.normalWhile),nA=this.evalExpr(iA),aA=this.evalExpr(H,!1);e=Js.TWhile(nA,this.ifBlock(aA),rA);break;case 20:var hA=i.m;S=i.args,h=i.e;if("unroll"==hA){this.unrollLoops;this.unrollLoops=!0,g=this.evalExpr(h,t),this.unrollLoops=!1}else g=this.evalExpr(h,t);e=Js.TMeta(hA,S,g)}return{e:e,t:A.t,p:A.p}},__class__:ni};var ai=function(A,t,e,s){this.g=A,this.t=t,this.pos=e,this.size=s};e["hxsl._Flatten.Alloc"]=ai,ai.__name__="hxsl._Flatten.Alloc",ai.prototype={__class__:ai};var hi=i["hxsl.ARead"]={__ename__:!0,__constructs__:null,AIndex:(t=function(A){return{_hx_index:0,a:A,__enum__:"hxsl.ARead",toString:s}},t._hx_name="AIndex",t.__params__=["a"],t),AOffset:(t=function(A,t,e){return{_hx_index:1,a:A,stride:t,delta:e,__enum__:"hxsl.ARead",toString:s}},t._hx_name="AOffset",t.__params__=["a","stride","delta"],t)};hi.__constructs__=[hi.AIndex,hi.AOffset],hi.__empty_constructs__=[];var li=function(){};e["hxsl.Flatten"]=li,li.__name__="hxsl.Flatten",li.prototype={flatten:function(A,t,e){if(this.globals=[],this.params=[],this.outVars=[],e){this.consts=[];var s=A.funs[0].expr.p,i={id:js.allocVarId(),name:"__consts__",kind:Ns.Global,type:null};this.econsts={e:Js.TVar(i),t:null,p:s};for(var r=A.name,n=A.vars.slice(),a=[],h=0,l=A.funs;h<l.length;){var o=l[h];++h,a.push(this.mapFun(o,Di(this,this.mapConsts)))}A={name:r,vars:n,funs:a};for(a=0,h=A.vars;a<h.length;){var u=h[a];if(++a,9==(l=u.type)._hx_index){l.size;this.allocConst(255,s)}}this.consts.length>0&&(i.type=this.econsts.t=zs.TArray(zs.TFloat,Os.SConst(this.consts.length)),A.vars.push(i))}this.varMap=new Re,this.allocData=new Re;var _;for(a=0,h=A.vars;a<h.length;){u=h[a];++a,this.gatherVar(u)}switch(t._hx_index){case 0:_="vertex";break;case 1:_="fragment";break;default:throw de.thrown("assert")}this.pack(_+"Globals",Ns.Global,this.globals,Ps.VFloat),this.pack(_+"Params",Ns.Param,this.params,Ps.VFloat);var c=this.globals.concat(this.params);this.packTextures(_+"Textures",c,zs.TSampler2D).concat(this.packTextures(_+"TexturesCube",c,zs.TSamplerCube)).concat(this.packTextures(_+"TexturesArray",c,zs.TSampler2DArray));this.packBuffers(c);for(a=[],h=0,l=A.funs;h<l.length;){o=l[h];++h,a.push(this.mapFun(o,Di(this,this.mapExpr)))}var d=a;return{name:A.name,vars:this.outVars,funs:d}},mapFun:function(A,t){return{kind:A.kind,ret:A.ret,args:A.args,ref:A.ref,expr:t(A.expr)}},mapExpr:function(A){switch((a=A.e)._hx_index){case 1:var t=a.v;null!=(i=this.varMap.h[t.__id__])&&(A=this.access(i,t.type,A.p,hi.AIndex(i)));break;case 16:var e=(h=a.e).e;h.t;if(1==e._hx_index){t=e.v;var s,i,r=h.p,n=a.index;if(0==(a=n.e)._hx_index)if(2==(h=a.c)._hx_index){var a=h.v;s=!0}else s=!1;else s=!1;if(s)A=js.map(A,Di(this,this.mapExpr));else if(null!=(i=this.varMap.h[t.__id__])){if(15!=(a=t.type)._hx_index)throw de.thrown("assert");var h=a.t;e=a.size;if(js.isSampler(l=h))n=this.toInt(this.mapExpr(n)),A=this.access(i,l,r,hi.AOffset(i,1,n));else{var l=h,o=this.varSize(l,i.t);if(0==o||0!=(3&o))throw de.thrown(new Ls("Dynamic access to an Array which size is not 4 components-aligned is not allowed",A.p));o>>=2,n=this.toInt(this.mapExpr(n)),A=this.access(i,l,r,hi.AOffset(i,o,1==o?n:{e:Js.TBinop(Ke.OpMult,n,{e:Js.TConst(Ws.CInt(o)),t:zs.TInt,p:r}),t:zs.TInt,p:r}))}}}else A=js.map(A,Di(this,this.mapExpr));break;default:A=js.map(A,Di(this,this.mapExpr))}return this.optimize(A)},mapConsts:function(A){switch((a=A.e)._hx_index){case 0:var t=a.c;switch(t._hx_index){case 2:var e=t.v;return this.allocConst(e,A.p);case 3:e=t.v;return this.allocConst(e,A.p);default:return A}break;case 2:switch(a.g._hx_index){case 0:this.allocConst(Math.PI/180,A.p);break;case 1:this.allocConst(180/Math.PI,A.p);break;case 9:this.allocConst(1.4426950408889634,A.p);break;case 10:this.allocConst(.6931471805599453,A.p);break;case 24:this.allocConst(1,A.p);break;case 26:this.allocConst(2,A.p),this.allocConst(3,A.p);break;case 54:this.allocConsts([1,255,65025,16581375],A.p),this.allocConsts([.00392156862745098,.00392156862745098,.00392156862745098,0],A.p);break;case 55:this.allocConsts([1,.00392156862745098,15378700499807768e-21,6.030862941101084e-8],A.p);break;case 56:this.allocConst(1,A.p),this.allocConst(.5,A.p);break;case 57:this.allocConst(.5,A.p);break;case 58:this.allocConsts([.5,.5],A.p),this.allocConsts([.5,-.5],A.p);break;case 59:this.allocConsts([2,-2],A.p),this.allocConsts([-1,1],A.p)}break;case 5:var s=a.e1;s=a.e2;if(1==a.op._hx_index){var i=s.e;i=s.p;8==s.t._hx_index&&this.allocConst(1,A.p)}break;case 8:s=a.e,i=a.args;var r=s.e,n=s.p;n=s.t;if(2==r._hx_index&&42==r.g._hx_index&&2==i.length){s=i[0],r=i[1],i=s.e,n=s.p,n=s.t;if(1==i._hx_index){i=(s=i.v).id,i=s.name,i=s.parent,i=s.qualifiers,i=s.type;switch(s.kind._hx_index){case 0:if(5==n._hx_index&&3==n.size&&1==n.t._hx_index){s=r.e,i=r.p,i=r.t;if(0==s._hx_index)if(2==(i=s.c)._hx_index&&1==i.v)return A}break;case 1:if(5==n._hx_index&&3==n.size&&1==n.t._hx_index){s=r.e,i=r.p,i=r.t;if(0==s._hx_index)if(2==(i=s.c)._hx_index&&1==i.v)return A}break;case 2:if(5==n._hx_index&&3==n.size&&1==n.t._hx_index){s=r.e,i=r.p,i=r.t;if(0==s._hx_index)if(2==(i=s.c)._hx_index&&1==i.v)return A}break;case 3:if(5==n._hx_index&&3==n.size&&1==n.t._hx_index){s=r.e,i=r.p,i=r.t;if(0==s._hx_index)if(2==(i=s.c)._hx_index&&1==i.v)return A}}}}break;case 16:s=a.e;var a=(i=a.index).e;r=i.p,r=i.t;if(0==a._hx_index){if(2==(r=a.c)._hx_index){a=r.v;var h=i,l=s;return{e:Js.TArray(this.mapConsts(l),h),t:A.t,p:A.p}}h=i;if(15==(a=(l=s).t)._hx_index){r=a.size;var o=a.t,u=this.varSize(o,Ps.VFloat)>>2;this.allocConst(u,A.p)}}else{h=i;if(15==(a=(l=s).t)._hx_index){s=a.size,o=a.t,u=this.varSize(o,Ps.VFloat)>>2;this.allocConst(u,A.p)}}}return js.map(A,Di(this,this.mapConsts))},allocConst:function(A,t){var e=this.consts.indexOf(A);return e<0&&(e=this.consts.length,this.consts.push(A)),{e:Js.TArray(this.econsts,{e:Js.TConst(Ws.CInt(e)),t:zs.TInt,p:t}),t:zs.TFloat,p:t}},allocConsts:function(A,t){for(var e=this,s=A.length-1&3,i=-1,r=0,n=this.consts.length-(A.length-1);r<n;){var a=r++;if(a>>2==a+s>>2){for(var h=!0,l=0,o=A.length;l<o;){var u=l++;if(this.consts[a+u]!=A[u]){h=!1;break}}if(h){i=a;break}}}if(i<0){for(;this.consts.length>>2!=this.consts.length+s>>2;)this.consts.push(0);i=this.consts.length;for(r=0;r<A.length;){var _=A[r];++r,this.consts.push(_)}}switch(A.length){case 1:return{e:Js.TArray(e.econsts,{e:Js.TConst(Ws.CInt(i)),t:zs.TInt,p:t}),t:zs.TFloat,p:t};case 2:return{e:Js.TCall({e:Js.TGlobal(Hs.Vec2),t:zs.TVoid,p:t},[{e:Js.TArray(e.econsts,{e:Js.TConst(Ws.CInt(i)),t:zs.TInt,p:t}),t:zs.TFloat,p:t},{e:Js.TArray(e.econsts,{e:Js.TConst(Ws.CInt(i+1)),t:zs.TInt,p:t}),t:zs.TFloat,p:t}]),t:zs.TVec(2,Ps.VFloat),p:t};case 3:return{e:Js.TCall({e:Js.TGlobal(Hs.Vec3),t:zs.TVoid,p:t},[{e:Js.TArray(e.econsts,{e:Js.TConst(Ws.CInt(i)),t:zs.TInt,p:t}),t:zs.TFloat,p:t},{e:Js.TArray(e.econsts,{e:Js.TConst(Ws.CInt(i+1)),t:zs.TInt,p:t}),t:zs.TFloat,p:t},{e:Js.TArray(e.econsts,{e:Js.TConst(Ws.CInt(i+2)),t:zs.TInt,p:t}),t:zs.TFloat,p:t}]),t:zs.TVec(3,Ps.VFloat),p:t};case 4:return{e:Js.TCall({e:Js.TGlobal(Hs.Vec4),t:zs.TVoid,p:t},[{e:Js.TArray(e.econsts,{e:Js.TConst(Ws.CInt(i)),t:zs.TInt,p:t}),t:zs.TFloat,p:t},{e:Js.TArray(e.econsts,{e:Js.TConst(Ws.CInt(i+1)),t:zs.TInt,p:t}),t:zs.TFloat,p:t},{e:Js.TArray(e.econsts,{e:Js.TConst(Ws.CInt(i+3)),t:zs.TInt,p:t}),t:zs.TFloat,p:t},{e:Js.TArray(e.econsts,{e:Js.TConst(Ws.CInt(i+4)),t:zs.TInt,p:t}),t:zs.TFloat,p:t}]),t:zs.TVec(4,Ps.VFloat),p:t};default:throw de.thrown("assert")}},access:function(A,t,e,s){switch(t._hx_index){case 6:var i=this.access(A,zs.TMat3x4,e,s);return{e:Js.TCall({e:Js.TGlobal(Hs.Mat3),t:zs.TFun([]),p:e},[i]),t:zs.TMat3,p:e};case 7:i=Js.TGlobal(Hs.Mat4);var r,n=zs.TFun([]);switch(s._hx_index){case 0:var a=null==(h=s.a).t?h.pos:h.pos>>2;_={e:Js.TArray({e:Js.TVar(h.g),t:h.g.type,p:e},{e:Js.TConst(Ws.CInt(a)),t:zs.TInt,p:e}),t:zs.TVec(4,h.t),p:e};break;case 1:var h=s.a,l=s.stride,o=s.delta,u=0==(C=null==h.t?h.pos:h.pos>>2)?o:{e:Js.TBinop(Ke.OpAdd,o,{e:Js.TConst(Ws.CInt(C)),t:zs.TInt,p:e}),t:zs.TInt,p:e};_={e:Js.TArray({e:Js.TVar(h.g),t:h.g.type,p:e},u),t:zs.TVec(4,h.t),p:e}}switch(s._hx_index){case 0:a=null==(h=s.a).t?h.pos:h.pos>>2;c={e:Js.TArray({e:Js.TVar(h.g),t:h.g.type,p:e},{e:Js.TConst(Ws.CInt(a+1)),t:zs.TInt,p:e}),t:zs.TVec(4,h.t),p:e};break;case 1:h=s.a,l=s.stride,o=s.delta,u=0==(C=(null==h.t?h.pos:h.pos>>2)+1)?o:{e:Js.TBinop(Ke.OpAdd,o,{e:Js.TConst(Ws.CInt(C)),t:zs.TInt,p:e}),t:zs.TInt,p:e};c={e:Js.TArray({e:Js.TVar(h.g),t:h.g.type,p:e},u),t:zs.TVec(4,h.t),p:e}}switch(s._hx_index){case 0:a=null==(h=s.a).t?h.pos:h.pos>>2;d={e:Js.TArray({e:Js.TVar(h.g),t:h.g.type,p:e},{e:Js.TConst(Ws.CInt(a+2)),t:zs.TInt,p:e}),t:zs.TVec(4,h.t),p:e};break;case 1:h=s.a,l=s.stride,o=s.delta,u=0==(C=(null==h.t?h.pos:h.pos>>2)+2)?o:{e:Js.TBinop(Ke.OpAdd,o,{e:Js.TConst(Ws.CInt(C)),t:zs.TInt,p:e}),t:zs.TInt,p:e};d={e:Js.TArray({e:Js.TVar(h.g),t:h.g.type,p:e},u),t:zs.TVec(4,h.t),p:e}}switch(s._hx_index){case 0:a=null==(h=s.a).t?h.pos:h.pos>>2;r={e:Js.TArray({e:Js.TVar(h.g),t:h.g.type,p:e},{e:Js.TConst(Ws.CInt(a+3)),t:zs.TInt,p:e}),t:zs.TVec(4,h.t),p:e};break;case 1:h=s.a,l=s.stride,o=s.delta,u=0==(C=(null==h.t?h.pos:h.pos>>2)+3)?o:{e:Js.TBinop(Ke.OpAdd,o,{e:Js.TConst(Ws.CInt(C)),t:zs.TInt,p:e}),t:zs.TInt,p:e};r={e:Js.TArray({e:Js.TVar(h.g),t:h.g.type,p:e},u),t:zs.TVec(4,h.t),p:e}}return{e:Js.TCall({e:i,t:n,p:e},[_,c,d,r]),t:zs.TMat4,p:e};case 8:var _,c,d;i=Js.TGlobal(Hs.Mat3x4),n=zs.TFun([]);switch(s._hx_index){case 0:a=null==(h=s.a).t?h.pos:h.pos>>2;_={e:Js.TArray({e:Js.TVar(h.g),t:h.g.type,p:e},{e:Js.TConst(Ws.CInt(a)),t:zs.TInt,p:e}),t:zs.TVec(4,h.t),p:e};break;case 1:h=s.a,l=s.stride,o=s.delta,u=0==(C=null==h.t?h.pos:h.pos>>2)?o:{e:Js.TBinop(Ke.OpAdd,o,{e:Js.TConst(Ws.CInt(C)),t:zs.TInt,p:e}),t:zs.TInt,p:e};_={e:Js.TArray({e:Js.TVar(h.g),t:h.g.type,p:e},u),t:zs.TVec(4,h.t),p:e}}switch(s._hx_index){case 0:a=null==(h=s.a).t?h.pos:h.pos>>2;c={e:Js.TArray({e:Js.TVar(h.g),t:h.g.type,p:e},{e:Js.TConst(Ws.CInt(a+1)),t:zs.TInt,p:e}),t:zs.TVec(4,h.t),p:e};break;case 1:h=s.a,l=s.stride,o=s.delta,u=0==(C=(null==h.t?h.pos:h.pos>>2)+1)?o:{e:Js.TBinop(Ke.OpAdd,o,{e:Js.TConst(Ws.CInt(C)),t:zs.TInt,p:e}),t:zs.TInt,p:e};c={e:Js.TArray({e:Js.TVar(h.g),t:h.g.type,p:e},u),t:zs.TVec(4,h.t),p:e}}switch(s._hx_index){case 0:a=null==(h=s.a).t?h.pos:h.pos>>2;d={e:Js.TArray({e:Js.TVar(h.g),t:h.g.type,p:e},{e:Js.TConst(Ws.CInt(a+2)),t:zs.TInt,p:e}),t:zs.TVec(4,h.t),p:e};break;case 1:h=s.a,l=s.stride,o=s.delta,u=0==(C=(null==h.t?h.pos:h.pos>>2)+2)?o:{e:Js.TBinop(Ke.OpAdd,o,{e:Js.TConst(Ws.CInt(C)),t:zs.TInt,p:e}),t:zs.TInt,p:e};d={e:Js.TArray({e:Js.TVar(h.g),t:h.g.type,p:e},u),t:zs.TVec(4,h.t),p:e}}return{e:Js.TCall({e:i,t:n,p:e},[_,c,d]),t:zs.TMat3x4,p:e};case 15:if(0==(x=t.size)._hx_index){for(var p=x.v,f=t.t,x=(l=A.size/p|0,[]),g=0,b=p;g<b;){var m=g++;h=new ai(A.g,A.t,A.pos+l*m,l);x.push(this.access(h,f,e,hi.AIndex(h)))}var v=x;return{e:Js.TArrayDecl(v),t:f,p:e}}if(js.isSampler(t)){switch(s._hx_index){case 0:a=null==(h=s.a).t?h.pos:h.pos>>2;B={e:Js.TArray({e:Js.TVar(h.g),t:h.g.type,p:e},{e:Js.TConst(Ws.CInt(a)),t:zs.TInt,p:e}),t:zs.TVec(4,h.t),p:e};break;case 1:h=s.a,l=s.stride,o=s.delta,u=0==(C=null==h.t?h.pos:h.pos>>2)?o:{e:Js.TBinop(Ke.OpAdd,o,{e:Js.TConst(Ws.CInt(C)),t:zs.TInt,p:e}),t:zs.TInt,p:e};B={e:Js.TArray({e:Js.TVar(h.g),t:h.g.type,p:e},u),t:zs.TVec(4,h.t),p:e}}return B.t=t,B}if((y=this.varSize(t,A.t))>4)return Ls.t("Access not supported for "+js.toString(t),null);switch(s._hx_index){case 0:a=null==(h=s.a).t?h.pos:h.pos>>2;B={e:Js.TArray({e:Js.TVar(h.g),t:h.g.type,p:e},{e:Js.TConst(Ws.CInt(a)),t:zs.TInt,p:e}),t:zs.TVec(4,h.t),p:e};break;case 1:h=s.a,l=s.stride,o=s.delta,u=0==(C=null==h.t?h.pos:h.pos>>2)?o:{e:Js.TBinop(Ke.OpAdd,o,{e:Js.TConst(Ws.CInt(C)),t:zs.TInt,p:e}),t:zs.TInt,p:e};B={e:Js.TArray({e:Js.TVar(h.g),t:h.g.type,p:e},u),t:zs.TVec(4,h.t),p:e}}if(4==y){if(0!=(3&A.pos))throw de.thrown("assert")}else{var w=[];for(x=0,g=y;x<g;){m=x++;w.push(js.SWIZ[m+(3&A.pos)])}B={e:Js.TSwiz(B,w),t:t,p:e}}switch(t._hx_index){case 1:B.t=zs.TFloat,B=this.toInt(B);break;case 5:if(0==t.t._hx_index){var y=t.size;B.t=zs.TVec(y,Ps.VFloat),B={e:Js.TCall({e:Js.TGlobal([Hs.IVec2,Hs.IVec3,Hs.IVec4][y-2]),t:zs.TFun([]),p:e},[B]),t:t,p:e}}}return B;default:if(js.isSampler(t)){switch(s._hx_index){case 0:a=null==(h=s.a).t?h.pos:h.pos>>2;B={e:Js.TArray({e:Js.TVar(h.g),t:h.g.type,p:e},{e:Js.TConst(Ws.CInt(a)),t:zs.TInt,p:e}),t:zs.TVec(4,h.t),p:e};break;case 1:h=s.a,l=s.stride,o=s.delta,u=0==(C=null==h.t?h.pos:h.pos>>2)?o:{e:Js.TBinop(Ke.OpAdd,o,{e:Js.TConst(Ws.CInt(C)),t:zs.TInt,p:e}),t:zs.TInt,p:e};B={e:Js.TArray({e:Js.TVar(h.g),t:h.g.type,p:e},u),t:zs.TVec(4,h.t),p:e}}return B.t=t,B}var B;if((y=this.varSize(t,A.t))>4)return Ls.t("Access not supported for "+js.toString(t),null);switch(s._hx_index){case 0:a=null==(h=s.a).t?h.pos:h.pos>>2;B={e:Js.TArray({e:Js.TVar(h.g),t:h.g.type,p:e},{e:Js.TConst(Ws.CInt(a)),t:zs.TInt,p:e}),t:zs.TVec(4,h.t),p:e};break;case 1:var C;h=s.a,l=s.stride,o=s.delta,u=0==(C=null==h.t?h.pos:h.pos>>2)?o:{e:Js.TBinop(Ke.OpAdd,o,{e:Js.TConst(Ws.CInt(C)),t:zs.TInt,p:e}),t:zs.TInt,p:e};B={e:Js.TArray({e:Js.TVar(h.g),t:h.g.type,p:e},u),t:zs.TVec(4,h.t),p:e}}if(4==y){if(0!=(3&A.pos))throw de.thrown("assert")}else{for(w=[],x=0,g=y;x<g;){m=x++;w.push(js.SWIZ[m+(3&A.pos)])}B={e:Js.TSwiz(B,w),t:t,p:e}}switch(t._hx_index){case 1:B.t=zs.TFloat,B=this.toInt(B);break;case 5:if(0==t.t._hx_index){y=t.size;B.t=zs.TVec(y,Ps.VFloat),B={e:Js.TCall({e:Js.TGlobal([Hs.IVec2,Hs.IVec3,Hs.IVec4][y-2]),t:zs.TFun([]),p:e},[B]),t:t,p:e}}}return B}},toInt:function(A){return A.t==zs.TInt?A:{e:Js.TCall({e:Js.TGlobal(Hs.ToInt),t:zs.TFun([]),p:A.p},[A]),t:zs.TInt,p:A.p}},optimize:function(A){switch((o=A.e)._hx_index){case 8:var t=o.e,e=o.args,s=t.e;t.p,t.t;if(2==s._hx_index&&52==s.g._hx_index&&1==e.length){e=(t=e[0]).e,s=t.p,s=t.t;if(8==e._hx_index){s=(t=e.e).e,t.p,t.t;if(2==s._hx_index&&51==s.g._hx_index){for(var i=e.args,r=0,n=0;n<4;){var a=i[i.length-1-r].t;n+=this.varSize(a,Ps.VFloat),++r}if(4==n){var h;for(t=0,e=r;t<e;){var l=t++;i.pop()}if(8!=(t=A.e)._hx_index)throw de.thrown("assert");e=t.args;return h=t.e,{e:Js.TCall(h,i),t:A.t,p:A.p}}}}}break;case 16:t=o.e,e=o.index;var o=t.e;s=t.p,s=t.t;if(17==o._hx_index){t=e.e,s=e.p,s=e.t;if(0==t._hx_index)if(2==(e=t.c)._hx_index){l=e.v;var u=o.el;if(l>=0&&l<u.length)return u[l];Ls.t("Reading outside array bounds",A.p)}}}return A},packTextures:function(A,t,e){for(var s=[],i={id:js.allocVarId(),name:A,type:e,kind:Ns.Param},r=0,n=[],a=0;a<t.length;){var h=t[a];++a;var l=1;if(h.type!=e)switch((g=h.type)._hx_index){case 15:var o=g.size;if(0!=o._hx_index)continue;var u=o.v;if(g.t!=e)continue;l=u;break;case 17:g.size;if(e!=zs.TSampler2D)continue;break;default:continue}var _=new ai(i,null,r,l);if(_.v=h,null!=h.qualifiers)for(var c=0,d=h.qualifiers;c<d.length;){var p=d[c];if(++c,12==p._hx_index){A=p.name;for(var f=0,x=l;f<x;){n[r+(b=f++)]=A}}}this.varMap.set(h,_),s.push(_),r+=l}if(i.type=zs.TArray(e,Os.SConst(r)),n.length>0){a=0;for(var g=r;a<g;){var b;null==n[b=a++]&&(n[b]="")}null==i.qualifiers&&(i.qualifiers=[]),i.qualifiers.push(Ys.Sampler(n.join(",")))}return s.length>0&&(this.outVars.push(i),this.allocData.set(i,s)),s},packBuffers:function(A){for(var t=[],e={id:js.allocVarId(),name:"buffers",type:zs.TVoid,kind:Ns.Param},s=0;s<A.length;){var i=A[s];++s;var r,n=i.type;if(16==n._hx_index){n.t,n.size;r=!0}else r=!1;if(r){var a=new ai(e,null,t.length,1);a.v=i,t.push(a),this.outVars.push(i)}}e.type=zs.TArray(zs.TBuffer(zs.TVoid,Os.SConst(0)),Os.SConst(t.length)),this.allocData.set(e,t)},pack:function(A,t,e,s){for(var i=[],r=0,n={id:js.allocVarId(),name:A,type:zs.TVec(0,s),kind:t},a=0;a<e.length;){var h,l=e[a];if(++a,js.isSampler(l.type))h=!0;else{var o=l.type;if(16==o._hx_index){o.t,o.size;h=!0}else h=!1}if(!h){var u=l.type;if(15==u._hx_index){u.size;var _=u.t;if(js.isSampler(_))continue}for(var c=this.varSize(l.type,s),d=null,p=0;p<i.length;){var f=i[p];++p,null==f.v&&f.size>=c&&(null==d||d.size>f.size)&&(d=f)}if(null!=d){var x=d.size-c;if(x>0){var g=i.indexOf(d),b=new ai(n,s,d.pos+c,x);i.splice(g+1,0,b),d.size=c}d.v=l,this.varMap.set(l,d)}else{var m=new ai(n,s,r,c);r+=c,m.v=l,this.varMap.set(l,m),i.push(m);var v=(4-c%4)%4;if(v>0){var w=new ai(n,s,r,v);r+=v,i.push(w)}}}}return n.type=zs.TArray(zs.TVec(4,s),Os.SConst(r>>2)),r>0&&(this.outVars.push(n),this.allocData.set(n,i)),n},varSize:function(A,t){switch(A._hx_index){case 1:case 3:if(t==Ps.VFloat)return 1;throw de.thrown(js.toString(A)+" size unknown for type "+f.string(t));case 5:var e=A.size;if(t==A.t)return e;throw de.thrown(js.toString(A)+" size unknown for type "+f.string(t));case 7:if(t==Ps.VFloat)return 16;throw de.thrown(js.toString(A)+" size unknown for type "+f.string(t));case 6:case 8:if(t==Ps.VFloat)return 12;throw de.thrown(js.toString(A)+" size unknown for type "+f.string(t));case 15:var s=A.size;if(0==s._hx_index){e=s.v;var i=A.t;return this.varSize(i,t)*e}throw de.thrown(js.toString(A)+" size unknown for type "+f.string(t));default:throw de.thrown(js.toString(A)+" size unknown for type "+f.string(t))}},gatherVar:function(A){if(13==(e=A.type)._hx_index)for(var t=e.vl,e=0;e<t.length;){var s=t[e];++e,this.gatherVar(s)}else switch(A.kind._hx_index){case 0:js.hasQualifier(A,Ys.PerObject)?this.params.push(A):this.globals.push(A);break;case 2:this.params.push(A);break;default:this.outVars.push(A)}},__class__:li};var oi=function(){this.channels=[],this.map=new De};e["hxsl.Globals"]=oi,oi.__name__="hxsl.Globals",oi.allocID=function(A){null==oi.MAP&&(oi.MAP=new Ue,oi.ALL=[]);var t=oi.MAP.h[A];return null==t&&(t=oi.ALL.length,oi.ALL.push(A),oi.MAP.h[A]=t),t},oi.prototype={set:function(A,t){var e=this.map,s=oi.allocID(A);e.h[s]=t},allocChannelID:function(A){for(var t=0,e=this.maxChannels;t<e;){var s=t++;if(this.channels[s]==A)return s}if(this.maxChannels==1<<js.MAX_CHANNELS_BITS)throw de.thrown("Too many unique channels");s=this.maxChannels++;return this.channels[s]=A,s},__class__:oi};var ui=function(){};e["js.Boot"]=ui,ui.__name__="js.Boot",ui.getClass=function(A){if(null==A)return null;if(A instanceof Array)return Array;var t=A.__class__;if(null!=t)return t;var e=ui.__nativeClassName(A);return null!=e?ui.__resolveNativeClass(e):null},ui.__string_rec=function(A,t){if(null==A)return"null";if(t.length>=5)return"<...>";var e=typeof A;switch("function"==e&&(A.__name__||A.__ename__)&&(e="object"),e){case"function":return"<function>";case"object":if(A.__enum__){var s=i[A.__enum__].__constructs__[A._hx_index],r=s._hx_name;return s.__params__?(t+="\t",r+"("+function(e){for(var i=[],r=0,n=s.__params__;r<n.length;){var a=n[r];r+=1,i.push(ui.__string_rec(A[a],t))}return i}().join(",")+")"):r}if(A instanceof Array){var n="[";t+="\t";for(var a=0,h=A.length;a<h;){var l=a++;n+=(l>0?",":"")+ui.__string_rec(A[l],t)}return n+="]"}var o;try{o=A.toString}catch(a){return"???"}if(null!=o&&o!=Object.toString&&"function"==typeof o){var u=A.toString();if("[object Object]"!=u)return u}n="{\n";t+="\t";var _=null!=A.hasOwnProperty,c=null;for(c in A)_&&!A.hasOwnProperty(c)||"prototype"!=c&&"__class__"!=c&&"__super__"!=c&&"__interfaces__"!=c&&"__properties__"!=c&&(2!=n.length&&(n+=", \n"),n+=t+c+" : "+ui.__string_rec(A[c],t));return n+="\n"+(t=t.substring(1))+"}";case"string":return A;default:return String(A)}},ui.__interfLoop=function(A,t){if(null==A)return!1;if(A==t)return!0;var e=A.__interfaces__;if(null!=e)for(var s=0,i=e.length;s<i;){var r=e[s++];if(r==t||ui.__interfLoop(r,t))return!0}return ui.__interfLoop(A.__super__,t)},ui.__downcastCheck=function(A,t){return A instanceof t||!!t.__isInterface__&&ui.__interfLoop(ui.getClass(A),t)},ui.__nativeClassName=function(A){var t=ui.__toStr.call(A).slice(8,-1);return"Object"==t||"Function"==t||"Math"==t||"JSON"==t?null:t},ui.__resolveNativeClass=function(t){return A[t]};var _i=function(){this.outIndex=0,this.uniformBuffer=0,this.exprIds=0,this.varNames=new De,this.allNames=new Ue};e["hxsl.GlslOut"]=_i,_i.__name__="hxsl.GlslOut",_i.prototype={decl:function(A){for(var t=0,e=this.decls;t<e.length;){var s=e[t];if(++t,s==A)return}35==o.cca(A,0)?this.decls.unshift(A):this.decls.push(A)},addType:function(A){switch(A._hx_index){case 0:this.buf.b+=f.string("void");break;case 1:this.buf.b+=f.string("int");break;case 2:this.buf.b+=f.string("bool");break;case 3:this.buf.b+=f.string("float");break;case 4:this.buf.b+=f.string("string");break;case 5:var t=A.size;switch(A.t._hx_index){case 0:this.buf.b+=f.string("i");break;case 1:break;case 2:this.buf.b+=f.string("b")}this.buf.b+=f.string("vec"),this.buf.b+=f.string(t);break;case 6:this.buf.b+=f.string("mat3");break;case 7:this.buf.b+=f.string("mat4");break;case 8:this.decl(_i.MAT34),this.buf.b+=f.string("_mat3x4");break;case 9:var e=A.size;this.buf.b+=f.string("vec"),this.buf.b+=f.string(e);break;case 10:this.buf.b+=f.string("sampler2D");break;case 11:this.buf.b+=f.string("sampler2DArray"),null!=this.glES&&this.decl("precision lowp sampler2DArray;");break;case 12:this.buf.b+=f.string("samplerCube");break;case 13:var s=A.vl;this.buf.b+=f.string("struct { ");for(var i=0;i<s.length;){var r=s[i];++i,this.addVar(r),this.buf.b+=f.string(";")}this.buf.b+=f.string(" }");break;case 14:i=A.variants;this.buf.b+=f.string("function");break;case 15:var n=A.t;t=A.size;switch(this.addType(n),this.buf.b+=f.string("["),t._hx_index){case 0:if(1==(i=t.v))if(this.intelDriverFix)this.buf.b+=f.string(2);else{r=i;this.buf.b+=f.string(r)}else{r=i;this.buf.b+=f.string(r)}break;case 1:r=t.v;var a=this.varName(r);this.buf.b+=f.string(a)}this.buf.b+=f.string("]");break;case 16:i=A.t,i=A.size;throw de.thrown("assert");case 17:e=A.size;this.buf.b+=f.string("channel"+e);break;case 18:this.buf.b+=f.string("mat2")}},addVar:function(A){var t=A.type;switch(t._hx_index){case 15:var e=t.t,s=t.size,i=A.type;switch(A.type=e,this.addVar(A),A.type=i,this.buf.b+=f.string("["),s._hx_index){case 0:var r=s.v;if(1==r)if(this.intelDriverFix)this.buf.b+=f.string(2);else{var n=r;this.buf.b+=f.string(n)}else{n=r;this.buf.b+=f.string(n)}break;case 1:var a=s.v,h=this.varName(a);this.buf.b+=f.string(h)}this.buf.b+=f.string("]");break;case 16:e=t.t,s=t.size;this.buf.b+=f.string((this.isVertex?"vertex_":"")+"uniform_buffer"+this.uniformBuffer++),this.buf.b+=f.string(" { "),A.type=zs.TArray(e,s),this.addVar(A),A.type=zs.TBuffer(e,s),this.buf.b+=f.string("; }");break;default:this.addType(A.type),this.buf.b+=f.string(" ");a=this.varName(A);this.buf.b+=f.string(a)}},addValue:function(A,t){var e=A.e;switch(e._hx_index){case 4:var s=e.el,i="val"+this.exprIds++,r=this.buf;this.buf=new x,this.addType(A.t),this.buf.b+=f.string(" "),this.buf.b+=f.string(i),this.buf.b+=f.string("(void)");var n=s.slice(),a=n[n.length-1];n[n.length-1]={e:Js.TReturn(a),t:A.t,p:a.p};var h={t:zs.TVoid,e:Js.TBlock(n),p:A.p};this.addExpr(h,""),this.exprValues.push(this.buf.b),this.buf=r,this.buf.b+=f.string(i),this.buf.b+=f.string("()");break;case 10:var l=e.econd,o=e.eif,u=e.eelse;this.buf.b+=f.string("( "),this.addValue(l,t),this.buf.b+=f.string(" ) ? "),this.addValue(o,t),this.buf.b+=f.string(" : "),this.addValue(u,t);break;case 20:e.m,e.args;var _=e.e;this.addValue(_,t);break;default:this.addExpr(A,t)}},addBlock:function(A,t){this.addExpr(A,t)},getFunName:function(A,t,e){switch(A._hx_index){case 20:if(e==zs.TInt&&null!=this.glES)return this.decl("int _imod( int x, int y ) { return int(mod(float(x),float(y))); }"),"_imod";break;case 33:switch((s=t[0].t)._hx_index){case 10:case 11:if(null!=this.glES&&this.glES<=2)return"texture2D";break;case 12:if(null!=this.glES&&this.glES<=2)return"textureCube";break;case 17:s.size;if(null!=this.glES&&this.glES<=2)return"texture2D"}break;case 34:var s;switch((s=t[0].t)._hx_index){case 10:case 11:if(null!=this.glES&&this.glES<=2)return this.decl("#extension GL_EXT_shader_texture_lod : enable"),"texture2DLodEXT";break;case 12:if(null!=this.glES&&this.glES<=2)return this.decl("#extension GL_EXT_shader_texture_lod : enable"),"textureCubeLodEXT";break;case 17:s.size;if(null!=this.glES&&this.glES<=2)return this.decl("#extension GL_EXT_shader_texture_lod : enable"),"texture2DLodEXT"}break;case 35:return"texelFetch";case 36:return this.decl("vec2 _textureSize(sampler2D sampler, int lod) { return vec2(textureSize(sampler, lod)); }"),this.decl("vec3 _textureSize(sampler2DArray sampler, int lod) { return vec3(textureSize(sampler, lod)); }"),this.decl("vec2 _textureSize(samplerCube sampler, int lod) { return vec2(textureSize(sampler, lod)); }"),"_textureSize";case 50:if(t[0].t==zs.TMat3x4)return this.decl(_i.MAT34),this.decl("mat3 _mat3( _mat3x4 v ) { return mat3(v.a.xyz,v.b.xyz,v.c.xyz); }"),"_mat3";break;case 52:if(this.decl(_i.MAT34),1==t.length)return this.decl("_mat3x4 mat_to_34( mat4 m ) { return _mat3x4(m[0],m[1],m[2]); }"),"mat_to_34";break;case 54:this.decl("vec4 pack( float v ) { vec4 color = fract(v * vec4(1, 255, 255.*255., 255.*255.*255.)); return color - color.yzww * vec4(1. / 255., 1. / 255., 1. / 255., 0.); }");break;case 55:this.decl("float unpack( vec4 color ) { return dot(color,vec4(1., 1. / 255., 1. / (255. * 255.), 1. / (255. * 255. * 255.))); }");break;case 56:this.decl("vec4 packNormal( vec3 v ) { return vec4((v + vec3(1.)) * vec3(0.5),1.); }");break;case 57:this.decl("vec3 unpackNormal( vec4 v ) { return normalize((v.xyz - vec3(0.5)) * vec3(2.)); }");break;case 58:this.decl("vec2 screenToUv( vec2 v ) { return v * vec2(0.5,-0.5) + vec2(0.5,0.5); }");break;case 59:this.decl("vec2 uvToScreen( vec2 v ) { return v * vec2(2.,-2.) + vec2(-1., 1.); }");break;case 60:case 61:case 62:this.decl("#extension GL_OES_standard_derivatives:enable")}return _i.GLOBALS.get(A)},addExpr:function(A,t){var e=A.e;switch(e._hx_index){case 0:var s=e.c;switch(s._hx_index){case 0:this.buf.b+=f.string("null");break;case 1:var i=s.b;this.buf.b+=f.string(i);break;case 2:var r=s.v;this.buf.b+=f.string(r);break;case 3:var n=""+s.v;this.buf.b+=f.string(n),-1==n.indexOf(".")&&-1==n.indexOf("e")&&(this.buf.b+=f.string("."));break;case 4:r=s.v;this.buf.b+=f.string('"'+r+'"')}break;case 1:r=e.v;var a=this.varName(r);this.buf.b+=f.string(a);break;case 2:var h=e.g;r=_i.GLOBALS.get(h);this.buf.b+=f.string(r);break;case 3:var l=e.e;this.buf.b+=f.string("("),this.addValue(l,t),this.buf.b+=f.string(")");break;case 4:var o=e.el;this.buf.b+=f.string("{\n");for(var u=t+"\t",_=0;_<o.length;){l=o[_];++_,this.buf.b+=f.string(u),this.addExpr(l,u),this.newLine(l)}this.buf.b+=f.string(t),this.buf.b+=f.string("}");break;case 5:var c=e.op,d=(l=e.e1,e.e2),p=(_=l.t,d.t);switch(c._hx_index){case 1:if(5==_._hx_index)if(3==_.size)if(1==_.t._hx_index)if(8==p._hx_index){if(this.decl(_i.MAT34),this.decl("vec3 m3x4mult( vec3 v, _mat3x4 m) { vec4 ve = vec4(v,1.0); return vec3(dot(m.a,ve),dot(m.b,ve),dot(m.c,ve)); }"),20==c._hx_index){var x=c.op;C=!0}else C=!1;C&&(this.addValue(l,t),this.buf.b+=f.string(" = ")),this.buf.b+=f.string("m3x4mult("),this.addValue(l,t),this.buf.b+=f.string(","),this.addValue(d,t),this.buf.b+=f.string(")")}else{this.addValue(l,t),this.buf.b+=f.string(" ");r=xi.opStr(c);this.buf.b+=f.string(r),this.buf.b+=f.string(" "),this.addValue(d,t)}else{this.addValue(l,t),this.buf.b+=f.string(" ");r=xi.opStr(c);this.buf.b+=f.string(r),this.buf.b+=f.string(" "),this.addValue(d,t)}else{this.addValue(l,t),this.buf.b+=f.string(" ");r=xi.opStr(c);this.buf.b+=f.string(r),this.buf.b+=f.string(" "),this.addValue(d,t)}else{this.addValue(l,t),this.buf.b+=f.string(" ");r=xi.opStr(c);this.buf.b+=f.string(r),this.buf.b+=f.string(" "),this.addValue(d,t)}break;case 5:if(5==_._hx_index){x=_.t;if(5==p._hx_index){x=p.size,x=p.t;var g=_.size;switch(this.buf.b+=f.string("vec"+g+"("),c._hx_index){case 5:r="equal";break;case 6:r="notEqual";break;case 7:r="greaterThan";break;case 8:r="greaterThanEqual";break;case 9:r="lessThan";break;case 10:r="lessThanEqual";break;default:throw de.thrown("assert")}this.buf.b+=f.string(r),this.buf.b+=f.string("("),this.addValue(l,t),this.buf.b+=f.string(","),this.addValue(d,t),this.buf.b+=f.string("))")}else{this.addValue(l,t),this.buf.b+=f.string(" ");r=xi.opStr(c);this.buf.b+=f.string(r),this.buf.b+=f.string(" "),this.addValue(d,t)}}else{this.addValue(l,t),this.buf.b+=f.string(" ");r=xi.opStr(c);this.buf.b+=f.string(r),this.buf.b+=f.string(" "),this.addValue(d,t)}break;case 6:if(5==_._hx_index){x=_.t;if(5==p._hx_index){x=p.size,x=p.t,g=_.size;switch(this.buf.b+=f.string("vec"+g+"("),c._hx_index){case 5:r="equal";break;case 6:r="notEqual";break;case 7:r="greaterThan";break;case 8:r="greaterThanEqual";break;case 9:r="lessThan";break;case 10:r="lessThanEqual";break;default:throw de.thrown("assert")}this.buf.b+=f.string(r),this.buf.b+=f.string("("),this.addValue(l,t),this.buf.b+=f.string(","),this.addValue(d,t),this.buf.b+=f.string("))")}else{this.addValue(l,t),this.buf.b+=f.string(" ");r=xi.opStr(c);this.buf.b+=f.string(r),this.buf.b+=f.string(" "),this.addValue(d,t)}}else{this.addValue(l,t),this.buf.b+=f.string(" ");r=xi.opStr(c);this.buf.b+=f.string(r),this.buf.b+=f.string(" "),this.addValue(d,t)}break;case 7:if(5==_._hx_index){x=_.t;if(5==p._hx_index){x=p.size,x=p.t,g=_.size;switch(this.buf.b+=f.string("vec"+g+"("),c._hx_index){case 5:r="equal";break;case 6:r="notEqual";break;case 7:r="greaterThan";break;case 8:r="greaterThanEqual";break;case 9:r="lessThan";break;case 10:r="lessThanEqual";break;default:throw de.thrown("assert")}this.buf.b+=f.string(r),this.buf.b+=f.string("("),this.addValue(l,t),this.buf.b+=f.string(","),this.addValue(d,t),this.buf.b+=f.string("))")}else{this.addValue(l,t),this.buf.b+=f.string(" ");r=xi.opStr(c);this.buf.b+=f.string(r),this.buf.b+=f.string(" "),this.addValue(d,t)}}else{this.addValue(l,t),this.buf.b+=f.string(" ");r=xi.opStr(c);this.buf.b+=f.string(r),this.buf.b+=f.string(" "),this.addValue(d,t)}break;case 8:if(5==_._hx_index){x=_.t;if(5==p._hx_index){x=p.size,x=p.t,g=_.size;switch(this.buf.b+=f.string("vec"+g+"("),c._hx_index){case 5:r="equal";break;case 6:r="notEqual";break;case 7:r="greaterThan";break;case 8:r="greaterThanEqual";break;case 9:r="lessThan";break;case 10:r="lessThanEqual";break;default:throw de.thrown("assert")}this.buf.b+=f.string(r),this.buf.b+=f.string("("),this.addValue(l,t),this.buf.b+=f.string(","),this.addValue(d,t),this.buf.b+=f.string("))")}else{this.addValue(l,t),this.buf.b+=f.string(" ");r=xi.opStr(c);this.buf.b+=f.string(r),this.buf.b+=f.string(" "),this.addValue(d,t)}}else{this.addValue(l,t),this.buf.b+=f.string(" ");r=xi.opStr(c);this.buf.b+=f.string(r),this.buf.b+=f.string(" "),this.addValue(d,t)}break;case 9:if(5==_._hx_index){x=_.t;if(5==p._hx_index){x=p.size,x=p.t,g=_.size;switch(this.buf.b+=f.string("vec"+g+"("),c._hx_index){case 5:r="equal";break;case 6:r="notEqual";break;case 7:r="greaterThan";break;case 8:r="greaterThanEqual";break;case 9:r="lessThan";break;case 10:r="lessThanEqual";break;default:throw de.thrown("assert")}this.buf.b+=f.string(r),this.buf.b+=f.string("("),this.addValue(l,t),this.buf.b+=f.string(","),this.addValue(d,t),this.buf.b+=f.string("))")}else{this.addValue(l,t),this.buf.b+=f.string(" ");r=xi.opStr(c);this.buf.b+=f.string(r),this.buf.b+=f.string(" "),this.addValue(d,t)}}else{this.addValue(l,t),this.buf.b+=f.string(" ");r=xi.opStr(c);this.buf.b+=f.string(r),this.buf.b+=f.string(" "),this.addValue(d,t)}break;case 10:if(5==_._hx_index){x=_.t;if(5==p._hx_index){x=p.size,x=p.t,g=_.size;switch(this.buf.b+=f.string("vec"+g+"("),c._hx_index){case 5:r="equal";break;case 6:r="notEqual";break;case 7:r="greaterThan";break;case 8:r="greaterThanEqual";break;case 9:r="lessThan";break;case 10:r="lessThanEqual";break;default:throw de.thrown("assert")}this.buf.b+=f.string(r),this.buf.b+=f.string("("),this.addValue(l,t),this.buf.b+=f.string(","),this.addValue(d,t),this.buf.b+=f.string("))")}else{this.addValue(l,t),this.buf.b+=f.string(" ");r=xi.opStr(c);this.buf.b+=f.string(r),this.buf.b+=f.string(" "),this.addValue(d,t)}}else{this.addValue(l,t),this.buf.b+=f.string(" ");r=xi.opStr(c);this.buf.b+=f.string(r),this.buf.b+=f.string(" "),this.addValue(d,t)}break;case 18:this.decl("int _ushr( int i, int j ) { return int(uint(i) >> uint(j)); }"),this.buf.b+=f.string("_ushr("),this.addValue(l,t),this.buf.b+=f.string(","),this.addValue(d,t),this.buf.b+=f.string(")");break;case 19:if(A.t!=zs.TInt){if(20==c._hx_index){x=c.op;C=!0}else C=!1;C&&(this.addValue(l,t),this.buf.b+=f.string(" = ")),this.addExpr({e:Js.TCall({e:Js.TGlobal(Hs.Mod),t:zs.TFun([]),p:A.p},[l,d]),t:A.t,p:A.p},t)}else{this.addValue(l,t),this.buf.b+=f.string(" ");r=xi.opStr(c);this.buf.b+=f.string(r),this.buf.b+=f.string(" "),this.addValue(d,t)}break;case 20:switch(c.op._hx_index){case 1:if(5==_._hx_index)if(3==_.size)if(1==_.t._hx_index)if(8==p._hx_index){if(this.decl(_i.MAT34),this.decl("vec3 m3x4mult( vec3 v, _mat3x4 m) { vec4 ve = vec4(v,1.0); return vec3(dot(m.a,ve),dot(m.b,ve),dot(m.c,ve)); }"),20==c._hx_index){_=c.op;C=!0}else C=!1;C&&(this.addValue(l,t),this.buf.b+=f.string(" = ")),this.buf.b+=f.string("m3x4mult("),this.addValue(l,t),this.buf.b+=f.string(","),this.addValue(d,t),this.buf.b+=f.string(")")}else{this.addValue(l,t),this.buf.b+=f.string(" ");r=xi.opStr(c);this.buf.b+=f.string(r),this.buf.b+=f.string(" "),this.addValue(d,t)}else{this.addValue(l,t),this.buf.b+=f.string(" ");r=xi.opStr(c);this.buf.b+=f.string(r),this.buf.b+=f.string(" "),this.addValue(d,t)}else{this.addValue(l,t),this.buf.b+=f.string(" ");r=xi.opStr(c);this.buf.b+=f.string(r),this.buf.b+=f.string(" "),this.addValue(d,t)}else{this.addValue(l,t),this.buf.b+=f.string(" ");r=xi.opStr(c);this.buf.b+=f.string(r),this.buf.b+=f.string(" "),this.addValue(d,t)}break;case 19:if(A.t!=zs.TInt){if(20==c._hx_index){_=c.op;C=!0}else C=!1;C&&(this.addValue(l,t),this.buf.b+=f.string(" = ")),this.addExpr({e:Js.TCall({e:Js.TGlobal(Hs.Mod),t:zs.TFun([]),p:A.p},[l,d]),t:A.t,p:A.p},t)}else{this.addValue(l,t),this.buf.b+=f.string(" ");r=xi.opStr(c);this.buf.b+=f.string(r),this.buf.b+=f.string(" "),this.addValue(d,t)}break;default:this.addValue(l,t),this.buf.b+=f.string(" ");r=xi.opStr(c);this.buf.b+=f.string(r),this.buf.b+=f.string(" "),this.addValue(d,t)}break;default:this.addValue(l,t),this.buf.b+=f.string(" ");r=xi.opStr(c);this.buf.b+=f.string(r),this.buf.b+=f.string(" "),this.addValue(d,t)}break;case 6:c=e.op,l=e.e1;switch(c._hx_index){case 0:r="++";break;case 1:r="--";break;case 2:r="!";break;case 3:r="-";break;case 4:r="~";break;default:throw de.thrown("assert")}this.buf.b+=f.string(r),this.addValue(l,t);break;case 7:r=e.v;var b=e.init;if(this.locals.h[r.id]=r,null!=b){a=this.varName(r);this.buf.b+=f.string(a),this.buf.b+=f.string(" = "),this.addValue(b,t)}else this.buf.b+=f.string("/*var*/");break;case 8:_=e.e,p=e.args,x=_.e;var m=_.p;m=_.t;if(2==x._hx_index){switch((m=x.g)._hx_index){case 35:h=m;var v=p;r=this.getFunName(h,v,A.t);this.buf.b+=f.string(r),this.buf.b+=f.string("("),this.addValue(v[0],t),this.buf.b+=f.string(", "),this.addValue(v[1],t),2!=v.length?(this.buf.b+=f.string(", "),this.addValue(v[2],t),this.buf.b+=f.string(")")):this.buf.b+=f.string(", 0)");break;case 36:h=m,v=p,r=this.getFunName(h,v,A.t);this.buf.b+=f.string(r),this.buf.b+=f.string("("),this.addValue(v[0],t),1!=v.length?(this.buf.b+=f.string(", "),this.addValue(v[1],t),this.buf.b+=f.string(")")):this.buf.b+=f.string(", 0)");break;case 53:if(1==p.length){l=p[0];this.buf.b+=f.string("clamp("),this.addValue(l,t),this.buf.b+=f.string(", 0., 1.)")}else{v=p;if(2==(x=(r=_).e)._hx_index){h=x.g,a=this.getFunName(h,v,A.t);this.buf.b+=f.string(a)}else this.addValue(r,t);this.buf.b+=f.string("(");var w=!0;for(x=0;x<v.length;){l=v[x];++x,w?w=!1:this.buf.b+=f.string(", "),this.addValue(l,t)}this.buf.b+=f.string(")")}break;default:v=p;if(2==(x=(r=_).e)._hx_index){h=x.g,a=this.getFunName(h,v,A.t);this.buf.b+=f.string(a)}else this.addValue(r,t);this.buf.b+=f.string("(");for(w=!0,x=0;x<v.length;){l=v[x];++x,w?w=!1:this.buf.b+=f.string(", "),this.addValue(l,t)}this.buf.b+=f.string(")")}}else{v=p;if(2==(_=(r=_).e)._hx_index){h=_.g,a=this.getFunName(h,v,A.t);this.buf.b+=f.string(a)}else this.addValue(r,t);this.buf.b+=f.string("(");for(w=!0,_=0;_<v.length;){l=v[_];++_,w?w=!1:this.buf.b+=f.string(", "),this.addValue(l,t)}this.buf.b+=f.string(")")}break;case 9:l=e.e;var y=e.regs;if(3==l.t._hx_index){for(_=0;_<y.length;){var B=y[_];if(++_,B!=Ks.X)throw de.thrown("assert")}switch(y.length){case 1:this.addValue(l,t);break;case 2:this.decl("vec2 _vec2( float v ) { return vec2(v,v); }"),this.buf.b+=f.string("_vec2("),this.addValue(l,t),this.buf.b+=f.string(")");break;case 3:this.decl("vec3 _vec3( float v ) { return vec3(v,v,v); }"),this.buf.b+=f.string("_vec3("),this.addValue(l,t),this.buf.b+=f.string(")");break;case 4:this.decl("vec4 _vec4( float v ) { return vec4(v,v,v,v); }"),this.buf.b+=f.string("_vec4("),this.addValue(l,t),this.buf.b+=f.string(")");break;default:throw de.thrown("assert")}}else{this.addValue(l,t),this.buf.b+=f.string(".");for(_=0;_<y.length;){B=y[_];++_;var C,k=this.buf,M=k.b;switch(B._hx_index){case 0:C="x";break;case 1:C="y";break;case 2:C="z";break;case 3:C="w"}k.b=M+f.string(C)}}break;case 10:var S=e.econd,T=e.eif,F=e.eelse;this.buf.b+=f.string("if( "),this.addValue(S,t),this.buf.b+=f.string(") "),this.addExpr(T,t),null!=F&&(this.isBlock(T)||(this.buf.b+=f.string(";")),this.buf.b+=f.string(" else "),this.addExpr(F,t));break;case 11:this.buf.b+=f.string("discard");break;case 12:null==(l=e.e)?this.buf.b+=f.string("return"):(this.buf.b+=f.string("return "),this.addValue(l,t));break;case 13:r=e.v;var E=e.it,I=e.loop;if(this.locals.h[r.id]=r,5!=(_=E.e)._hx_index)throw de.thrown("assert");if(21!=_.op._hx_index)throw de.thrown("assert");l=_.e1,d=_.e2;this.buf.b+=f.string("for("),this.buf.b+=f.string(r.name+"="),this.addValue(l,t),this.buf.b+=f.string(";"+r.name+"<"),this.addValue(d,t),this.buf.b+=f.string(";"+r.name+"++) "),this.addBlock(I,t);break;case 14:this.buf.b+=f.string("continue");break;case 15:this.buf.b+=f.string("break");break;case 16:l=e.e;var D=e.index;this.addValue(l,t),this.buf.b+=f.string("["),this.addValue(D,t),this.buf.b+=f.string("]");break;case 17:o=e.el;if(15!=(_=A.t)._hx_index)throw de.thrown("assert");p=_.size;var Q=_.t;this.addType(Q),this.buf.b+=f.string("["+o.length+"]"),this.buf.b+=f.string("(");for(w=!0,_=0;_<o.length;){A=o[_];++_,w?w=!1:this.buf.b+=f.string(", "),this.addValue(A,t)}this.buf.b+=f.string(")");break;case 18:_=e.e,_=e.cases,_=e.def;this.buf.b+=f.string("switch(...)");break;case 19:_=e.e,p=e.loop;if(0==e.normalWhile){I=p,A=_;t+="\t",this.buf.b+=f.string("do "),this.addBlock(I,t),this.buf.b+=f.string(" while( "),this.addValue(A,t),this.buf.b+=f.string(" )")}else{I=p,A=_;this.buf.b+=f.string("while( "),this.addValue(A,t),this.buf.b+=f.string(" ) "),this.addBlock(I,t)}break;case 20:_=e.m,_=e.args,A=e.e;this.addExpr(A,t)}},varName:function(A){if(A.kind==Ns.Output){if(this.isVertex)return"gl_Position";if(null!=this.glES&&this.glES<=2)return null==this.outIndexes?"gl_FragColor":"gl_FragData["+this.outIndexes.h[A.id]+"]"}var t=this.varNames.h[A.id];if(null!=t)return t;if(t=A.name,Object.prototype.hasOwnProperty.call(_i.KWDS.h,t)&&(t="_"+t),Object.prototype.hasOwnProperty.call(this.allNames.h,t)){var e=2;for(t+="_";Object.prototype.hasOwnProperty.call(this.allNames.h,t+e);)++e;t+=e}return this.varNames.h[A.id]=t,this.allNames.h[t]=A.id,t},newLine:function(A){this.isBlock(A)?this.buf.b+=f.string("\n"):this.buf.b+=f.string(";\n")},isBlock:function(A){var t=A.e;switch(t._hx_index){case 4:t.el;return!0;case 13:t.v,t.it;var e=t.loop;return this.isBlock(e);case 19:t.e;if(1==t.normalWhile){e=t.loop;return this.isBlock(e)}return!1;default:return!1}},initVar:function(A){switch(A.kind._hx_index){case 0:case 2:var t;if(16==(s=A.type)._hx_index){var e=s.t;e=s.size;t=!0}else t=!1;t&&(this.buf.b+=f.string("layout(std140) ")),this.buf.b+=f.string("uniform ");break;case 1:this.buf.b+=f.string(null!=this.glES&&this.glES<=2?"attribute ":"in ");break;case 3:this.buf.b+=f.string(null!=this.glES&&this.glES<=2?"varying ":this.isVertex?"out ":"in ");break;case 4:break;case 5:if(null!=this.glES&&this.glES<=2)return void(this.outIndexes.h[A.id]=this.outIndex++);if(this.isVertex)return;null!=this.glES&&(this.buf.b+=f.string("layout(location="+this.outIndex+++") ")),this.buf.b+=f.string("out ");break;case 6:return}if(null!=A.qualifiers){var s=0;for(e=A.qualifiers;s<e.length;){var i=e[s];if(++s,6==i._hx_index)switch(i.p._hx_index){case 0:this.buf.b+=f.string("lowp ");break;case 1:this.buf.b+=f.string("mediump ");break;case 2:this.buf.b+=f.string("highp ")}}}this.addVar(A),this.buf.b+=f.string(";\n")},initVars:function(A){this.outIndex=0,this.uniformBuffer=0,this.outIndexes=new De;for(var t=0,e=A.vars;t<e.length;){var s=e[t];++t,this.initVar(s)}this.buf.b+=f.string("\n"),this.outIndex<2?this.outIndexes=null:!this.isVertex&&null!=this.glES&&this.glES<=2&&this.decl("#extension GL_EXT_draw_buffers : enable")},run:function(A){if(this.locals=new De,this.decls=[],this.buf=new x,this.exprValues=[],this.decl("precision mediump float;"),1!=A.funs.length)throw de.thrown("assert");var t=A.funs[0];this.isVertex=t.kind==Zs.Vertex,this.initVars(A);var e=this.buf;if(this.buf=new x,this.buf.b+=f.string("void main(void) {\n"),4==(i=t.expr.e)._hx_index)for(var s=i.el,i=0;i<s.length;){var r=s[i];++i,this.buf.b+=f.string("\t"),this.addExpr(r,"\t"),this.newLine(r)}else this.addExpr(t.expr,"");this.isVertex&&(this.buf.b+=f.string("\tgl_Position.z += gl_Position.z - gl_Position.w;\n")),this.buf.b+=f.string("}"),this.exprValues.push(this.buf.b),this.buf=e;var n=u.array(this.locals);n.sort((function(A,t){return p.compare(A.name,t.name)}));for(i=0;i<n.length;){var a=n[i];++i,this.addVar(a),this.buf.b+=f.string(";\n")}this.buf.b+=f.string("\n");i=0;for(var h=this.exprValues;i<h.length;){r=h[i];++i,this.buf.b+=f.string(r),this.buf.b+=f.string("\n\n")}return null!=this.glES?this.decl("#version "+(this.version<100?100:this.version)+(this.version>150?" es":"")):null!=this.version?this.decl("#version "+(this.version>150?150:this.version)):this.decl("#version 130"),this.decls.push(this.buf.b),this.buf=null,this.decls.join("\n")},__class__:_i};var ci=function(){};e["hxsl._Linker.AllocatedVar"]=ci,ci.__name__="hxsl._Linker.AllocatedVar",ci.prototype={__class__:ci};var di=function(A,t){this.name=A,this.uid=di.UID++,this.vertex=t,this.processed=new De,this.usedFunctions=[],this.read=new De,this.write=new De};e["hxsl._Linker.ShaderInfos"]=di,di.__name__="hxsl._Linker.ShaderInfos",di.prototype={__class__:di};var pi=function(A){null==A&&(A=!1),this.debugDepth=0,this.batchMode=A};e["hxsl.Linker"]=pi,pi.__name__="hxsl.Linker",pi.prototype={error:function(A,t){return Ls.t(A,t)},mergeVar:function(A,t,e,s,i){switch(t.kind._hx_index){case 2:if(null==i||!js.hasBorrowQualifier(e,i))throw de.thrown("assert");break;case 0:case 1:case 3:case 4:case 5:break;case 6:throw de.thrown("assert")}t.kind!=e.kind&&t.kind!=Ns.Local&&e.kind!=Ns.Local&&this.error("'"+A+"' kind does not match : "+f.string(t.kind)+" should be "+f.string(e.kind),s);var r=t.type,n=e.type;if(13==r._hx_index)if(13==n._hx_index){var a=n.vl,h=r.vl;for(r=0;r<h.length;){var l=h[r];++r;var o=null;for(n=0;n<a.length;){var u=a[n];if(++n,l.name==u.name){o=u;break}}null==o?a.push(this.allocVar(l,s,i).v):this.mergeVar(A+"."+o.name,l,o,s,i)}}else b.enumEq(t.type,e.type)||this.error("'"+A+"' type does not match : "+js.toString(t.type)+" should be "+js.toString(e.type),s);else b.enumEq(t.type,e.type)||this.error("'"+A+"' type does not match : "+js.toString(t.type)+" should be "+js.toString(e.type),s)},allocVar:function(A,t,e,s,i){if(null!=A.parent&&null==i){var r=(i=this.allocVar(A.parent,t,e)).v;for(s=r.name,r=r.parent;null!=r;)s=r.name+"."+s,r=r.parent}var n=null==s?A.name:s+"."+A.name;if(null!=A.qualifiers)for(var a=0,h=A.qualifiers;a<h.length;){var l=h[a];if(++a,4==l._hx_index)n=l.n}var o=this.varMap.h[n],u=A.name;if(null!=o){var _;for(a=0,h=o.merged;a<h.length;){var c=h[a];if(++a,c==A)return o}var d=js.hasBorrowQualifier(o.v,e);if((A.kind!=Ns.Param||d||js.hasQualifier(A,Ys.Shared)||this.isBatchShader)&&A.kind!=Ns.Function&&(A.kind!=Ns.Var&&A.kind!=Ns.Local||!js.hasQualifier(A,Ys.Private))){var p=o.v;d=js.hasBorrowQualifier(A,o.rootShaderName);_=p.kind==Ns.Param&&!d&&!js.hasQualifier(p,Ys.Shared)&&!this.isBatchShader||p.kind==Ns.Function||(p.kind==Ns.Var||p.kind==Ns.Local)&&js.hasQualifier(p,Ys.Private)}else _=!0;if(!(_||A.kind==Ns.Param&&o.v.kind==Ns.Param))return o.merged.push(A),this.mergeVar(n,A,o.v,t,o.rootShaderName),this.varIdMap.h[A.id]=o.id,o;for(var f=2;;){if(null==(x=this.varMap.h[n+f]))break;for(a=0,h=x.merged;a<h.length;){c=h[a];if(++a,c==A)return x}++f}u+=f,n+=f}var x,g=this.allVars.length+1;o={id:g,name:u,type:A.type,kind:A.kind,qualifiers:A.qualifiers,parent:null==i?null:i.v};if((x=new ci).v=o,x.merged=[A],x.path=n,x.id=g,x.parent=i,x.instanceIndex=this.curInstance,x.rootShaderName=e,this.allVars.push(x),this.varMap.h[n]=x,13==(a=o.type)._hx_index){var b=a.vl;for(a=[],h=0;h<b.length;){A=b[h];++h,a.push(this.allocVar(A,t,e,n,x).v)}o.type=zs.TStruct(a)}return x},mapExprVar:function(A){var t=A.e;switch(t._hx_index){case 1:var e=t.v;if(!this.locals.h.hasOwnProperty(e.id)){var s=this.allocVar(e,A.p);return null==this.curShader||this.curShader.write.h.hasOwnProperty(s.id)||(this.curShader.read.h[s.id]=s,null==this.curShader.vertex&&s.v.kind==Ns.Var&&(this.curShader.vertex=!1)),{e:Js.TVar(s.v),t:s.v.type,p:A.p}}break;case 5:var i=t.op,r=t.e1,n=t.e2,a=r.e;switch(i._hx_index){case 4:switch(a._hx_index){case 1:e=o=a.v;if(!this.locals.h.hasOwnProperty(e.id)){var h=this.mapExprVar(n);s=this.allocVar(e,r.p);return null!=this.curShader&&(this.curShader.write.h[s.id]=s),{e:Js.TBinop(i,{e:Js.TVar(s.v),t:s.v.type,p:A.p},h),t:A.t,p:A.p}}e=o;if(!this.locals.h.hasOwnProperty(e.id)){var l=this.mapExprVar(r);h=this.mapExprVar(n),s=this.allocVar(e,l.p);return null!=this.curShader&&(this.curShader.write.h[s.id]=s),{e:Js.TBinop(i,l,h),t:A.t,p:A.p}}break;case 9:var o=a.e,u=a.regs;u=o.e,o.p,o.t;if(1==u._hx_index){e=u.v;if(!this.locals.h.hasOwnProperty(e.id)){l=this.mapExprVar(r),h=this.mapExprVar(n),s=this.allocVar(e,l.p);return null!=this.curShader&&(this.curShader.write.h[s.id]=s),{e:Js.TBinop(i,l,h),t:A.t,p:A.p}}}}break;case 20:o=i.op;switch(a._hx_index){case 1:e=a.v;if(!this.locals.h.hasOwnProperty(e.id)){l=this.mapExprVar(r),h=this.mapExprVar(n),s=this.allocVar(e,l.p);return null!=this.curShader&&(this.curShader.write.h[s.id]=s),{e:Js.TBinop(i,l,h),t:A.t,p:A.p}}break;case 9:o=a.e,u=a.regs,a=o.e,u=o.p,u=o.t;if(1==a._hx_index){e=a.v;if(!this.locals.h.hasOwnProperty(e.id)){l=this.mapExprVar(r),h=this.mapExprVar(n),s=this.allocVar(e,l.p);return null!=this.curShader&&(this.curShader.write.h[s.id]=s),{e:Js.TBinop(i,l,h),t:A.t,p:A.p}}}}}break;case 7:a=t.init,e=t.v;this.locals.h[e.id]=!0;break;case 11:null!=this.curShader&&(this.curShader.vertex=!1,this.curShader.hasDiscard=!0);break;case 13:a=t.it,a=t.loop,e=t.v;this.locals.h[e.id]=!0}return js.map(A,Di(this,this.mapExprVar))},addShader:function(A,t,e,s){var i=new di(A,t);return this.curShader=i,i.priority=s,i.body=this.mapExprVar(e),this.shaders.push(i),this.curShader=null,i},sortByPriorityDesc:function(A,t){return A.priority==t.priority?A.uid-t.uid:t.priority-A.priority},buildDependency:function(A,t,e){for(var s=!e,i=0,r=this.shaders;i<r.length;){var n=r[i];if(++i,n!=A){if(s&&n.write.h.hasOwnProperty(t.id)){if(A.vertex){if(0==n.vertex)continue;null==n.vertex&&(n.vertex=!0)}if(A.deps.set(n,!0),this.debugDepth++,this.initDependencies(n),this.debugDepth--,!n.read.h.hasOwnProperty(t.id))return}}else s=!0}t.v.kind==Ns.Var&&this.error("Variable "+t.path+" required by "+A.name+" is missing initializer",null)},initDependencies:function(A){if(null==A.deps){A.deps=new Re;for(var t=A.read.iterator();t.hasNext();){var e=t.next();this.buildDependency(A,e,A.write.h.hasOwnProperty(e.id))}if(null==A.vertex)for(var s=A.deps.keys();s.hasNext();){if(0==(i=s.next()).vertex){A.vertex=!1;break}}if(A.vertex)for(s=A.deps.keys();s.hasNext();){var i;null==(i=s.next()).vertex&&(i.vertex=!0)}}},collect:function(A,t,e){if(A.onStack&&this.error("Loop in shader dependencies ("+A.name+")",null),A.marked!=e){A.marked=e,A.onStack=!0;for(var s=[],i=A.deps.keys();i.hasNext();){var r=i.next();s.push(r)}var n=s;n.sort(Di(this,this.sortByPriorityDesc));for(s=0;s<n.length;){i=n[s];++s,this.collect(i,t,e)}null==A.vertex&&(A.vertex=e),A.vertex==e&&t.push(A),A.onStack=!1}},uniqueLocals:function(A,t){switch((_=A.e)._hx_index){case 4:for(var e=_.el,s=new Ue,i=t.h,r=Object.keys(i),n=r.length,a=0;a<n;){var h=r[a++];s.h[h]=!0}var l=s;for(s=0;s<e.length;){var o=e[s];++s,this.uniqueLocals(o,l)}break;case 7:s=_.init;var u=_.v;if(Object.prototype.hasOwnProperty.call(t.h,u.name)){for(h=2;Object.prototype.hasOwnProperty.call(t.h,u.name+h);)++h;u.name+=h}t.h[u.name]=!0;break;default:var _=Di(this,this.uniqueLocals);l=t;js.iter(A,(function(A){_(A,l)}))}},link:function(A){var t=this;this.varMap=new Ue,this.varIdMap=new De,this.allVars=[],this.shaders=[],this.locals=new De;for(var e=new Re,s=[],i=0;i<A.length;){var r=A[i];++i;var n=U=r;null!=e.h.__keys__[U.__id__]&&(U=si.shaderData(U)),e.set(U,n),s.push(U)}A=s,this.curInstance=0;var a=[];for(s=0;s<A.length;){r=A[s];++s,this.isBatchShader=this.batchMode&&g.startsWith(r.name,"batchShader_");i=0;for(var h=r.vars;i<h.length;){var l=h[i];++i;var o=this.allocVar(l,null,r.name);this.isBatchShader&&o.v.kind==Ns.Param&&!g.startsWith(o.path,"Batch_")&&(o.v.kind=Ns.Local),l.kind==Ns.Output&&a.push(l)}for(var u=0,_=r.funs;u<_.length;){var c=_[u];++u,(E=this.allocVar(c.ref,c.expr.p)).kind=c.kind}this.curInstance++}var d=0,p=[-3e3],f=[-2e3],x=[-1e3];for(s=0;s<A.length;){r=A[s];++s;for(i=0,h=r.funs;i<h.length;){c=h[i];if(++i,null==(l=this.allocVar(c.ref,c.expr.p)).kind)throw de.thrown("assert");switch(l.kind._hx_index){case 0:case 1:this.addShader(r.name+"."+(l.kind==Zs.Vertex?"vertex":"fragment"),l.kind==Zs.Vertex,c.expr,d);break;case 2:var b,m;switch(c.ref.name){case"__init__fragment":b=x,m=!1;break;case"__init__vertex":b=f,m=!0;break;default:b=p,m=null}if(4==(u=c.expr.e)._hx_index){var v=u.el,w=0;for(_=0;_<v.length;){var y=v[_];++_,this.addShader(r.name+"."+c.ref.name+w++,m,y,b[0]++)}}else this.addShader(r.name+"."+c.ref.name,m,c.expr,b[0]++);break;case 3:throw de.thrown("Unexpected helper function in linker "+l.v.name)}}++d}this.shaders.sort(Di(this,this.sortByPriorityDesc));var B=new di("<entry>",!1);B.deps=new Re;for(s=0;s<a.length;){l=a[s];++s,this.buildDependency(B,this.allocVar(l,null),!1)}for(s=0,i=this.shaders;s<i.length;){r=i[s];++s,r.hasDiscard&&(this.initDependencies(r),B.deps.set(r,!0))}for(s=0,i=this.shaders;s<i.length;){r=i[s];if(++s,null==r.vertex){for(var C=!0,k=r.read.iterator();k.hasNext();){if(k.next().v.kind!=Ns.Param){C=!1;break}}C&&(r.vertex=!1)}}l=[],c=[];if(this.collect(B,l,!0),this.collect(B,c,!1),c.pop()!=B)throw de.thrown("assert");for(s=0,i=this.shaders;s<i.length;){r=i[s];++s,r.marked=null}for(s=0,i=l.concat(c);s<i.length;){r=i[s];++s;for(var M=r.deps.keys();M.hasNext();){var S=M.next();null==S.marked&&this.error(S.name+" needed by "+r.name+" is unreachable",null)}r.marked=!0}a=[];var T={},F=null;F=function(A){T.hasOwnProperty(A.id)||(T[A.id]=!0,null!=A.v.parent?F(A.parent):a.push(A.v))};for(s=0,i=l.concat(c);s<i.length;){r=i[s];++s;for(var E=r.read.iterator();E.hasNext();){o=E.next();F(o)}for(var I=r.write.iterator();I.hasNext();){var D=I.next();F(D)}}var Q=null;Q=function(A){if(13==(s=A.type)._hx_index){var t=s.vl;if(A.kind!=Ns.Input){for(var e=[],s=0;s<t.length;){var i=t[s];++s,T.hasOwnProperty(i.id)&&(Q(i),e.push(i))}A.type=zs.TStruct(e)}}};for(s=0;s<a.length;){E=a[s];++s,Q(E)}var V=function(A,e,s){var i={id:js.allocVarId(),name:e,type:zs.TFun([{ret:zs.TVoid,args:[]}]),kind:Ns.Function};a.push(i);for(var r=[],n=0;n<s.length;){var h=s[n];++n;var l=h.body.e;if(4==l._hx_index)for(var o=l.el,u=0;u<o.length;){var _=o[u];++u,r.push(_)}else r.push(h.body)}var c={e:Js.TBlock(r),t:zs.TVoid,p:0==r.length?null:r[0].p};return t.uniqueLocals(c,new Ue),{kind:A,ref:i,ret:zs.TVoid,args:[],expr:c}},R=[V(Zs.Vertex,"vertex",l),V(Zs.Fragment,"fragment",c)];for(r=e.keys();r.hasNext();){var U;if((U=r.next())!=(n=e.h[U.__id__]))for(s=0,i=U.vars.length;s<i;){var G=s++;this.allocVar(U.vars[G],null).merged.unshift(n.vars[G])}}return{name:"out",vars:a,funs:R}},__class__:pi};var fi=i["hxsl.Output"]={__ename__:!0,__constructs__:null,Const:(t=function(A){return{_hx_index:0,v:A,__enum__:"hxsl.Output",toString:s}},t._hx_name="Const",t.__params__=["v"],t),Value:(t=function(A,t){return{_hx_index:1,v:A,size:t,__enum__:"hxsl.Output",toString:s}},t._hx_name="Value",t.__params__=["v","size"],t),PackNormal:(t=function(A){return{_hx_index:2,v:A,__enum__:"hxsl.Output",toString:s}},t._hx_name="PackNormal",t.__params__=["v"],t),PackFloat:(t=function(A){return{_hx_index:3,v:A,__enum__:"hxsl.Output",toString:s}},t._hx_name="PackFloat",t.__params__=["v"],t),Vec2:(t=function(A){return{_hx_index:4,a:A,__enum__:"hxsl.Output",toString:s}},t._hx_name="Vec2",t.__params__=["a"],t),Vec3:(t=function(A){return{_hx_index:5,a:A,__enum__:"hxsl.Output",toString:s}},t._hx_name="Vec3",t.__params__=["a"],t),Vec4:(t=function(A){return{_hx_index:6,a:A,__enum__:"hxsl.Output",toString:s}},t._hx_name="Vec4",t.__params__=["a"],t),Swiz:(t=function(A,t){return{_hx_index:7,a:A,swiz:t,__enum__:"hxsl.Output",toString:s}},t._hx_name="Swiz",t.__params__=["a","swiz"],t)};fi.__constructs__=[fi.Const,fi.Value,fi.PackNormal,fi.PackFloat,fi.Vec2,fi.Vec3,fi.Vec4,fi.Swiz],fi.__empty_constructs__=[];var xi=function(A){null==A&&(A=!1),this.varId=A};e["hxsl.Printer"]=xi,xi.__name__="hxsl.Printer",xi.opStr=function(A){switch(A._hx_index){case 0:return"+";case 1:return"*";case 2:return"/";case 3:return"-";case 4:return"=";case 5:return"==";case 6:return"!=";case 7:return">";case 8:return">=";case 9:return"<";case 10:return"<=";case 11:return"&";case 12:return"|";case 13:return"^";case 14:return"&&";case 15:return"||";case 16:return"<<";case 17:return">>";case 18:return">>>";case 19:return"%";case 20:var t=A.op;return xi.opStr(t)+"=";case 21:return"...";case 22:return"=>";case 23:return" in "}},xi.toString=function(A,t){return null==t&&(t=!1),new xi(t).exprString(A)},xi.shaderToString=function(A,t){return null==t&&(t=!1),new xi(t).shaderString(A)},xi.prototype={shaderString:function(A){this.buffer=new x;for(var t=0,e=A.vars;t<e.length;){var s=e[t];++t,this.addVar(s,null),this.buffer.b+=f.string(";\n")}A.vars.length>0&&(this.buffer.b+=f.string("\n"));for(t=0,e=A.funs;t<e.length;){var i=e[t];++t,this.addFun(i),this.buffer.b+=f.string("\n\n")}return this.buffer.b},exprString:function(A){return this.buffer=new x,this.addExpr(A,""),this.buffer.b},addVar:function(A,t,e,s){if(null==e&&(e=""),null!=A.qualifiers)for(var r=0,n=A.qualifiers;r<n.length;){var a=n[r];switch(++r,a._hx_index){case 0:var h=a.max;c="const"+(null==h?"":"("+h+")");break;case 1:c="private";break;case 2:c="nullable";break;case 3:c="perObject";break;case 4:c="name('"+a.n+"')";break;case 5:c="shared";break;case 6:var l=a.p;c=i[l.__enum__].__constructs__[l._hx_index]._hx_name.toLowerCase()+"p";break;case 7:c="range("+a.min+","+a.max+")";break;case 8:c="ignore";break;case 9:c="perInstance("+a.v+")";break;case 10:var o=a.s;c='doc("'+g.replace(o,'"','\\"')+'")';break;case 11:c="borrow("+a.source+")";break;case 12:c="sampler("+a.name+")"}this.buffer.b+=f.string("@"+c+" ")}if(A.kind!=t)switch(A.kind._hx_index){case 0:this.buffer.b+=f.string("@global ");break;case 1:this.buffer.b+=f.string("@input ");break;case 2:this.buffer.b+=f.string("@param ");break;case 3:this.buffer.b+=f.string("@varying ");break;case 4:this.buffer.b+=f.string("@local ");break;case 5:this.buffer.b+=f.string("@output ");break;case 6:this.buffer.b+=f.string("@function ")}if(this.buffer.b+=f.string("var "),A.parent==s?this.buffer.b+=f.string(A.name+(this.varId?"@"+A.id:"")):this.addVarName(A),this.buffer.b+=f.string(" : "),13==(r=A.type)._hx_index){var u=r.vl;this.buffer.b+=f.string("{");var _=!0;for(r=0;r<u.length;){var c=u[r];++r,_?_=!1:this.buffer.b+=f.string(", "),this.addVar(c,c.kind,e,c)}this.buffer.b+=f.string("}")}else{c=js.toString(A.type);this.buffer.b+=f.string(c)}},addFun:function(A){this.buffer.b+=f.string("function "+A.ref.name+"(");for(var t=!0,e=0,s=A.args;e<s.length;){var i=s[e];++e,t?(this.buffer.b+=f.string(" "),t=!1):this.buffer.b+=f.string(", "),this.addVar(i,Ns.Local)}A.args.length>0&&(this.buffer.b+=f.string(" "));var r=") : "+js.toString(A.ret)+" ";this.buffer.b+=f.string(r),this.addExpr(A.expr,"")},addVarName:function(A){null!=A.parent&&(this.addVarName(A.parent),this.buffer.b+=f.string(".")),this.buffer.b+=f.string(A.name),this.varId&&(this.buffer.b+=f.string("@"+A.id))},addConst:function(A){var t,e=this.buffer,s=e.b;switch(A._hx_index){case 0:t="null";break;case 1:t=A.b;break;case 2:t=A.v;break;case 3:t=A.v;break;case 4:t='"'+A.v+'"'}e.b=s+f.string(t)},addExpr:function(A,t){switch((S=A.e)._hx_index){case 0:var e=S.c;this.addConst(e);break;case 1:var s=S.v;this.addVarName(s);break;case 2:var i=S.g;s=qs.toString(i);this.buffer.b+=f.string(s);break;case 3:A=S.e;this.buffer.b+=f.string("("),this.addExpr(A,t),this.buffer.b+=f.string(")");break;case 4:var r=S.el;this.buffer.b+=f.string("{"),t+="\t";for(var n=0;n<r.length;){A=r[n];++n,this.buffer.b+=f.string("\n"+t),this.addExpr(A,t),this.buffer.b+=f.string(";")}t=o.substr(t,1,null),r.length>0&&(this.buffer.b+=f.string("\n"+t)),this.buffer.b+=f.string("}");break;case 5:var a=S.op,h=S.e1,l=S.e2;this.addExpr(h,t);s=" "+xi.opStr(a)+" ";this.buffer.b+=f.string(s),this.addExpr(l,t);break;case 6:a=S.op,A=S.e1;switch(a._hx_index){case 0:s="++";break;case 1:s="--";break;case 2:s="!";break;case 3:s="-";break;case 4:s="~";break;default:throw de.thrown("assert")}this.buffer.b+=f.string(s),this.addExpr(A,t);break;case 7:s=S.v;var u=S.init;this.addVar(s,Ns.Local,t),null!=u&&(this.buffer.b+=f.string(" = "),this.addExpr(u,t));break;case 8:A=S.e,r=S.args;this.addExpr(A,t),this.buffer.b+=f.string("(");var _=!0;for(n=0;n<r.length;){A=r[n];++n,_?_=!1:this.buffer.b+=f.string(", "),this.addExpr(A,t)}this.buffer.b+=f.string(")");break;case 9:A=S.e;var c=S.regs;this.addExpr(A,t),this.buffer.b+=f.string(".");for(n=0;n<c.length;){var d=c[n];++n,this.buffer.b+=f.string(xi.SWIZ[d._hx_index])}break;case 10:var p=S.econd,x=S.eif,g=S.eelse;this.buffer.b+=f.string("if( "),this.addExpr(p,t),this.buffer.b+=f.string(" ) "),this.addExpr(x,t),null!=g&&(this.buffer.b+=f.string(" else "),this.addExpr(g,t));break;case 11:this.buffer.b+=f.string("discard");break;case 12:A=S.e;this.buffer.b+=f.string("return"),null!=A&&(this.buffer.b+=f.string(" "),this.addExpr(A,t));break;case 13:s=S.v;var b=S.it,m=S.loop;this.buffer.b+=f.string("for( "),this.addVarName(s),this.buffer.b+=f.string(" in "),this.addExpr(b,t),this.buffer.b+=f.string(" ) "),this.addExpr(m,t);break;case 14:this.buffer.b+=f.string("continue");break;case 15:this.buffer.b+=f.string("break");break;case 16:h=S.e,l=S.index;this.addExpr(h,t),this.buffer.b+=f.string("["),this.addExpr(l,t),this.buffer.b+=f.string("]");break;case 17:r=S.el;this.buffer.b+=f.string("[");for(_=!0,n=0;n<r.length;){A=r[n];++n,_?_=!1:this.buffer.b+=f.string(", "),this.addExpr(A,t)}this.buffer.b+=f.string("]");break;case 18:A=S.e;var v=S.cases,w=S.def;this.buffer.b+=f.string("switch( "),this.addExpr(A,t),this.buffer.b+=f.string(") {");var y=t;for(n=0;n<v.length;){e=v[n];++n,this.buffer.b+=f.string("\n"+t),this.buffer.b+=f.string("case ");_=!0;for(var B=0,C=e.values;B<C.length;){s=C[B];++B,_?_=!1:this.buffer.b+=f.string(", "),this.addExpr(s,t)}t+="\t",this.buffer.b+=f.string(":\n"+t),this.addExpr(e.expr,t),t=y}null!=w&&(this.buffer.b+=f.string("\n"+t),t+="\t",this.buffer.b+=f.string("default:\n"+t),this.addExpr(w,t),t=y),this.buffer.b+=f.string("\n"+t+"}");break;case 19:n=S.e,B=S.loop;if(0==S.normalWhile){m=B,A=n,y=t;t+="\t",this.buffer.b+=f.string("do {\n"+t),this.addExpr(m,t),t=y,this.buffer.b+=f.string("\n"+t+"} while( "),this.addExpr(A,t),this.buffer.b+=f.string(" )")}else{m=B,A=n;this.buffer.b+=f.string("while( "),this.addExpr(A,t);y=t;t+="\t",this.buffer.b+=f.string(" ) {\n"+t),this.addExpr(m,t),t=y,this.buffer.b+=f.string("\n"+t+"}")}break;case 20:var k=S.m,M=S.args;A=S.e;if(this.buffer.b+=f.string("@"),this.buffer.b+=f.string(k),M.length>0){this.buffer.b+=f.string("(");_=!0;for(var S=0;S<M.length;){e=M[S];++S,_?_=!1:this.buffer.b+=f.string(", "),this.addConst(e)}this.buffer.b+=f.string(")")}this.buffer.b+=f.string(" "),this.addExpr(A,t)}},__class__:xi};var gi=function(A,t,e,s,i){this.name=A,this.pos=t,this.instance=e,this.index=s,this.type=i};e["hxsl.AllocParam"]=gi,gi.__name__="hxsl.AllocParam",gi.prototype={__class__:gi};var bi=function(A,t,e){this.pos=A,this.path=t,this.gid=oi.allocID(t),this.type=e};e["hxsl.AllocGlobal"]=bi,bi.__name__="hxsl.AllocGlobal",bi.prototype={__class__:bi};var mi=function(){};e["hxsl.RuntimeShaderData"]=mi,mi.__name__="hxsl.RuntimeShaderData",mi.prototype={__class__:mi};var vi=function(A,t){this.shader=A,this.bits=t};e["hxsl.ShaderInstanceDesc"]=vi,vi.__name__="hxsl.ShaderInstanceDesc",vi.prototype={__class__:vi};var wi=function(){this.id=wi.UID++};e["hxsl.RuntimeShader"]=wi,wi.__name__="hxsl.RuntimeShader",wi.prototype={__class__:wi};var yi=function(){};e["hxsl.Serializer"]=yi,yi.__name__="hxsl.Serializer",yi.prototype={readVarInt:function(){var A=this.input.readByte();return A<128?A:255==A?this.input.readInt32():(127&A)<<8|this.input.readByte()},readType:function(){switch(this.input.readByte()){case 0:return zs.TVoid;case 1:return zs.TInt;case 2:return zs.TBool;case 3:return zs.TFloat;case 4:return zs.TString;case 5:var A=this.input.readByte();return null==(a=yi.TVECS.h[A])&&(a=zs.TVec(7&A,b.createEnumIndex(Ps,A>>3,null)),yi.TVECS.h[A]=a),a;case 6:return zs.TMat3;case 7:return zs.TMat4;case 8:return zs.TMat3x4;case 9:return zs.TBytes(this.input.readInt32());case 10:return zs.TSampler2D;case 11:return zs.TSampler2DArray;case 12:return zs.TSamplerCube;case 13:var t=this.readVarInt();if(null!=(n=this.types[t]))return n;for(var e=Di(this,this.readVar),s=[],i=0,r=this.readVarInt();i<r;){i++;s.push(e())}return n=zs.TStruct(s),this.types[t]=n,n;case 14:return zs.TFun(null);case 15:var n=this.readType(),a=this.readVar();return zs.TArray(n,null==a?Os.SConst(this.readVarInt()):Os.SVar(a));case 16:n=this.readType(),a=this.readVar();return zs.TBuffer(n,null==a?Os.SConst(this.readVarInt()):Os.SVar(a));case 17:return zs.TChannel(this.input.readByte());case 18:return zs.TMat2;default:throw de.thrown("assert")}},readString:function(){var A=this.readVarInt();return this.input.read(A).getString(0,A)},readConst:function(){switch(this.input.readByte()){case 0:return Ws.CNull;case 1:return Ws.CBool(0!=this.input.readByte());case 2:return Ws.CInt(this.input.readInt32());case 3:return Ws.CFloat(this.input.readDouble());case 4:return Ws.CString(this.readString());default:throw de.thrown("assert")}},readExpr:function(){var A,t=this,e=this.input.readByte();if(0==e--)return null;switch(e){case 0:A=Js.TConst(this.readConst());break;case 1:A=Js.TVar(this.readVar());break;case 2:A=Js.TGlobal(yi.TGLOBALS[this.input.readByte()]);break;case 3:A=Js.TParenthesis(this.readExpr());break;case 4:for(var s=Di(this,this.readExpr),i=[],r=0,n=this.readVarInt();r<n;){var a=r++;i.push(s())}A=Js.TBlock(i);break;case 5:var h=this.input.readByte();A=Js.TBinop(h>=128?Ke.OpAssignOp(yi.BOPS[127&h]):yi.BOPS[h],this.readExpr(),this.readExpr());break;case 6:A=Js.TUnop(yi.UNOPS[this.input.readByte()],this.readExpr());break;case 7:A=Js.TVarDecl(this.readVar(),this.readExpr());break;case 8:var l=this.readExpr();for(s=Di(this,this.readExpr),i=[],r=0,n=this.readVarInt();r<n;){a=r++;i.push(s())}A=Js.TCall(l,i);break;case 9:l=this.readExpr();var o=this.input.readUInt16(),u=yi.TSWIZ.h[o];if(null==u){for(i=[],r=0,n=1+(3&o);r<n;){a=r++;i.push(yi.REGS[o>>2*a+2&3])}u=i,yi.TSWIZ.h[o]=u}A=Js.TSwiz(l,u);break;case 10:A=Js.TIf(this.readExpr(),this.readExpr(),this.readExpr());break;case 11:A=Js.TDiscard;break;case 12:A=Js.TReturn(this.readExpr());break;case 13:A=Js.TFor(this.readVar(),this.readExpr(),this.readExpr());break;case 14:A=Js.TContinue;break;case 15:A=Js.TBreak;break;case 16:A=Js.TArray(this.readExpr(),this.readExpr());break;case 17:for(s=Di(this,this.readExpr),i=[],r=0,n=this.readVarInt();r<n;){a=r++;i.push(s())}A=Js.TArrayDecl(i);break;case 18:for(l=this.readExpr(),i=[],r=0,n=this.readVarInt();r<n;){a=r++,s=Di(t,t.readExpr);for(var _=[],c=0,d=t.readVarInt();c<d;){c++;_.push(s())}i.push({values:_,expr:t.readExpr()})}A=Js.TSwitch(l,i,this.readExpr());break;case 19:A=Js.TWhile(this.readExpr(),this.readExpr(),0!=this.input.readByte());break;case 20:for(l=this.readString(),s=Di(this,this.readConst),i=[],r=0,n=this.readVarInt();r<n;){a=r++;i.push(s())}A=Js.TMeta(l,i,this.readExpr());break;default:throw de.thrown("assert")}return{e:A,t:this.readType(),p:null}},readVar:function(){var A=this.readVarInt();if(0==A)return null;var t=this.varMap.h[A];if(null!=t)return t;t={id:js.allocVarId(),name:this.readString(),type:null,kind:null},this.varMap.h[A]=t,t.type=this.readType(),t.kind=yi.VKINDS[this.input.readByte()],t.parent=this.readVar();var e=this.input.readByte();if(e>0){t.qualifiers=[];for(var s=0,i=e;s<i;){var r;s++;switch(this.input.readByte()){case 0:var n=this.input.readInt32();r=Ys.Const(0==n?null:n);break;case 1:r=Ys.Private;break;case 2:r=Ys.Nullable;break;case 3:r=Ys.PerObject;break;case 4:r=Ys.Name(this.readString());break;case 5:r=Ys.Shared;break;case 6:r=Ys.Precision(yi.PRECS[this.input.readByte()]);break;case 7:r=Ys.Range(this.input.readDouble(),this.input.readDouble());break;case 8:r=Ys.Ignore;break;case 9:r=Ys.PerInstance(this.input.readInt32());break;case 10:r=Ys.Doc(this.readString());break;case 11:r=Ys.Borrow(this.readString());break;case 12:r=Ys.Sampler(this.readString());break;default:throw de.thrown("assert")}t.qualifiers.push(r)}}return t},readFun:function(){for(var A=yi.FKIND[this.input.readByte()],t=this.readVar(),e=Di(this,this.readVar),s=[],i=0,r=this.readVarInt();i<r;){i++;s.push(e())}return{kind:A,ref:t,args:s,ret:this.readType(),expr:this.readExpr()}},unserialize:function(A){if(this.input=new Le(ke.decode(A,!1)),this.input.readByte()!=(255&yi.SIGN)||this.input.readByte()!=(yi.SIGN>>8&255)||this.input.readByte()!=(yi.SIGN>>16&255))throw de.thrown("Invalid HXSL data");this.varMap=new De,this.types=[];for(var t=this.readString(),e=Di(this,this.readVar),s=[],i=0,r=this.readVarInt();i<r;){i++;s.push(e())}var n=s;for(e=Di(this,this.readFun),s=[],i=0,r=this.readVarInt();i<r;){i++;s.push(e())}return{name:t,vars:n,funs:s}},__class__:yi};var Bi=function(A,t){this.s=A,this.next=t};e["hxsl.ShaderList"]=Bi,Bi.__name__="hxsl.ShaderList",Bi.addSort=function(A,t){for(var e=null,s=t;null!=s&&s.s.priority<A.priority;)e=s,s=s.next;return null==e?new Bi(A,t):(e.next=new Bi(A,e.next),t)},Bi.prototype={__class__:Bi};var Ci=function(A){this.id=js.allocVarId(),this.shader=A,this.params=new De};e["hxsl.ShaderInstance"]=Ci,Ci.__name__="hxsl.ShaderInstance",Ci.prototype={__class__:Ci};var ki=function(A,t){this.v=A,this.globalId=t};e["hxsl.ShaderGlobal"]=ki,ki.__name__="hxsl.ShaderGlobal",ki.prototype={__class__:ki};var Mi=function(A,t,e){this.v=A,this.pos=t,this.bits=e};e["hxsl.ShaderConst"]=Mi,Mi.__name__="hxsl.ShaderConst",Mi.prototype={__class__:Mi};var Si=function(A){this.instanceCache=new De,this.consts=null,this.globals=[],""!=A&&(this.data=(new yi).unserialize(A),this.initialize())};e["hxsl.SharedShader"]=Si,Si.__name__="hxsl.SharedShader",Si.prototype={initialize:function(){for(var A=0,t=this.data.vars;A<t.length;){var e=t[A];++A,this.browseVar(e)}},makeInstance:function(A){for(var t=new ni,e=this.consts;null!=e;){var s,i=e.v;switch((a=e.v.type)._hx_index){case 1:s=Ws.CInt(A>>>e.pos&(1<<e.bits)-1);break;case 2:s=Ws.CBool(0!=(A>>>e.pos&1));break;case 17:var r=a.size;s=Ws.CInt(A>>>e.pos&(1<<e.bits)-1);break;default:throw de.thrown("assert")}t.setConstant(i,s),e=e.next}t.inlineCalls=!0,t.unrollLoops=Si.UNROLL_LOOPS;var n=new Ci(t.eval(this.data));this.paramsCount=0;var a=0;for(r=this.data.vars;a<r.length;){var h=r[a];++a,this.addParam(t,n,h)}return this.instanceCache.h[A]=n,n},addParam:function(A,t,e){if(13==(i=e.type)._hx_index)for(var s=i.vl,i=0;i<s.length;){var r=s[i];++i,this.addParam(A,t,r)}else e.kind==Ns.Param&&(t.params.h[A.varMap.h[e.__id__].id]=this.paramsCount,this.paramsCount++)},browseVar:function(A,t){if(A.id=js.allocVarId(),null==t?t=js.getName(A):t+="."+A.name,13==(s=A.type)._hx_index)for(var e=s.vl,s=0;s<e.length;){var i=e[s];++s,this.browseVar(i,t)}else{var r=0;if(A.kind==Ns.Global&&(r=oi.allocID(t),this.globals.push(new ki(A,r))),!js.isConst(A))return;var n=js.getConstBits(A);if(n>0){var a=null==this.consts?0:this.consts.pos+this.consts.bits,h=new Mi(A,a,n);h.globalId=r,h.next=this.consts,this.consts=h}}},__class__:Si};var Ti=function(A){this.v=A,this.read=0,this.write=0};e["hxsl._Splitter.VarProps"]=Ti,Ti.__name__="hxsl._Splitter.VarProps",Ti.prototype={__class__:Ti};var Fi=function(){};e["hxsl.Splitter"]=Fi,Fi.__name__="hxsl.Splitter",Fi.prototype={split:function(A){var t=null,e=new De,s=null,i=new De;this.varNames=new Ue,this.varMap=new Re;for(var r=0,n=A.funs;r<n.length;){var a=n[r];switch(++r,a.kind._hx_index){case 0:this.vars=e,t=a,this.checkExpr(a.expr);break;case 1:this.vars=i,s=a,this.checkExpr(a.expr);break;default:throw de.thrown("assert")}}t={ret:t.ret,ref:t.ref,kind:t.kind,args:t.args,expr:this.mapVars(t.expr)};var r=0;for(n=u.array(e);r<n.length;){var h=n[r];switch(++r,(w=h.v).kind._hx_index){case 3:case 4:w.kind=i.h.hasOwnProperty(w.id)?Ns.Var:Ns.Local}switch(w.kind._hx_index){case 3:case 5:if(h.read>0||h.write>1){var l={id:js.allocVarId(),name:w.name,kind:w.kind,type:w.type};this.vars=e;this.get(l);w.kind=Ns.Local;var o=t.expr.p,_={e:Js.TBinop(Ke.OpAssign,{e:Js.TVar(l),t:l.type,p:o},{e:Js.TVar(w),t:w.type,p:o}),t:l.type,p:o};if(this.addExpr(t,_),this.checkExpr(_),l.kind==Ns.Var){var c=i.h[w.id];this.varMap.set(w,l),i.remove(w.id);var d=new Ti(l);d.read=c.read,d.write=c.write,i.h[l.id]=d}}}}var p=[],f=[];for(h=i.iterator();h.hasNext();){var x=h.next();switch((w=x.v).kind._hx_index){case 1:l={id:js.allocVarId(),name:w.name,kind:Ns.Var,type:w.type};this.uniqueName(l);var g=e.h[w.id];null==g&&(g=new Ti(w),e.h[w.id]=g),g.read++;var b=new Ti(l);b.write=1,e.h[l.id]=b;var m=new Ti(l);m.read=1,f.push(m),this.addExpr(t,{e:Js.TBinop(Ke.OpAssign,{e:Js.TVar(l),t:w.type,p:t.expr.p},{e:Js.TVar(w),t:w.type,p:t.expr.p}),t:w.type,p:t.expr.p}),this.varMap.set(w,l),x.local=!0;break;case 3:if(x.write>0){var v={id:js.allocVarId(),name:w.name,kind:Ns.Local,type:w.type};this.uniqueName(v),p.push({e:Js.TVarDecl(v,{e:Js.TVar(w),t:w.type,p:s.expr.p}),t:zs.TVoid,p:s.expr.p}),this.varMap.set(w,v)}}}for(r=0;r<f.length;){var w=f[r];++r,i.h[w.v.id]=w}for(w=e.iterator();w.hasNext();){var y=w.next();this.checkVar(y,!0,e,t.expr.p)}for(w=i.iterator();w.hasNext();){y=w.next();this.checkVar(y,!1,e,s.expr.p)}for(w=this.varMap.keys();w.hasNext();){y=w.next();var B=this.varMap.h[this.varMap.h[y.__id__].__id__];null!=B&&this.varMap.set(y,B)}if(4==(r=(s={ret:s.ret,ref:s.ref,kind:s.kind,args:s.args,expr:this.mapVars(s.expr)}).expr.e)._hx_index){var C=r.el;for(r=0;r<p.length;){_=p[r];++r,C.unshift(_)}}else p.push(s.expr),s.expr={e:Js.TBlock(p),t:zs.TVoid,p:s.expr.p};for(r=[],w=e.iterator();w.hasNext();){(y=w.next()).local||r.push(y.v)}for(e=r,r=[],w=i.iterator();w.hasNext();){(y=w.next()).local||r.push(y.v)}i=r;return e.sort((function(A,t){return A.id-t.id})),i.sort((function(A,t){return A.id-t.id})),{vertex:{name:"vertex",vars:e,funs:[t]},fragment:{name:"fragment",vars:i,funs:[s]}}},addExpr:function(A,t){var e=A.expr.e;4==e._hx_index?e.el.push(t):A.expr={e:Js.TBlock([A.expr,t]),t:zs.TVoid,p:A.expr.p}},checkVar:function(A,t,e,s){switch(A.v.kind._hx_index){case 3:if(!t){var i=e.h[A.v.id];if(null==i||0==i.write)throw de.thrown(new Ls("Varying "+A.v.name+" is not written by vertex shader",s))}break;case 4:if(A.requireInit)throw de.thrown(new Ls("Variable "+A.v.name+" is used without being initialized",s))}},mapVars:function(A){var t=A.e;switch(t._hx_index){case 1:var e=t.v;return null==(i=this.varMap.h[e.__id__])?A:{e:Js.TVar(i),t:A.t,p:A.p};case 7:e=t.v;var s=t.init;return null==(i=this.varMap.h[e.__id__])?js.map(A,Di(this,this.mapVars)):{e:Js.TVarDecl(i,this.mapVars(s)),t:A.t,p:A.p};case 13:e=t.v;var i,r=t.it,n=t.loop;return null==(i=this.varMap.h[e.__id__])?js.map(A,Di(this,this.mapVars)):{e:Js.TFor(i,this.mapVars(r),this.mapVars(n)),t:A.t,p:A.p};default:return js.map(A,Di(this,this.mapVars))}},get:function(A){var t=this.vars.h[A.id];if(null==t){var e=this.varMap.h[A.__id__];if(null!=e)return this.get(e);var s=A.name;if(this.uniqueName(A),A.kind==Ns.Local&&s!=A.name){var i={id:js.allocVarId(),name:A.name,kind:A.kind,type:A.type};this.varMap.set(A,i),A.name=s,A=i}t=new Ti(A),this.vars.h[A.id]=t}return t},uniqueName:function(A){if(A.kind!=Ns.Global&&A.kind!=Ns.Output&&A.kind!=Ns.Input){A.parent=null;var t=this.varNames.h[A.name];if(null!=t&&t!=A){for(var e=A.name;o.cca(e,e.length-1)>=48&&o.cca(e,e.length-1)<=57;)e=o.substr(e,0,-1);for(var s=e==A.name?2:f.parseInt(o.substr(A.name,e.length,null));Object.prototype.hasOwnProperty.call(this.varNames.h,e+s);)++s;A.name=e+s}this.varNames.h[A.name]=A}},checkExpr:function(A){var t=A.e;switch(t._hx_index){case 1:var e=t.v;0==(o=this.get(e)).write&&(o.requireInit=!0),o.read++;break;case 5:var s=t.op,i=t.e1,r=t.e2;switch(s._hx_index){case 4:var n=i.e,a=i.p;a=i.t;switch(n._hx_index){case 1:e=n.v;var h=r;(o=this.get(e)).write++,this.checkExpr(h);break;case 9:a=n.e,n.regs,n=a.e,a.p,a.t;if(1==n._hx_index){e=n.v,h=r;(o=this.get(e)).write++,this.checkExpr(h)}else js.iter(A,Di(this,this.checkExpr));break;default:js.iter(A,Di(this,this.checkExpr))}break;case 20:n=s.op,s=i.e,n=i.p,n=i.t;switch(s._hx_index){case 1:e=s.v,h=r;0==(o=this.get(e)).write&&(o.requireInit=!0),o.read++,o.write++,this.checkExpr(h);break;case 9:i=s.e,n=s.regs,s=i.e,n=i.p,n=i.t;if(1==s._hx_index){e=s.v,h=r;0==(o=this.get(e)).write&&(o.requireInit=!0),o.read++,o.write++,this.checkExpr(h)}else js.iter(A,Di(this,this.checkExpr));break;default:js.iter(A,Di(this,this.checkExpr))}break;default:js.iter(A,Di(this,this.checkExpr))}break;case 7:e=t.v;var l=t.init;(o=this.get(e)).local=!0,null!=l&&(this.checkExpr(l),o.write++);break;case 13:e=t.v;var o,u=t.it,_=t.loop;this.checkExpr(u),(o=this.get(e)).local=!0,o.write++,this.checkExpr(_);break;default:js.iter(A,Di(this,this.checkExpr))}},__class__:Fi};var Ei,Ii=function(){};function Di(t,e){return null==e?null:(null==e.__id__&&(e.__id__=A.$haxeUID++),null==t.hx__closures__?t.hx__closures__={}:s=t.hx__closures__[e.__id__],null==s&&(s=e.bind(t),t.hx__closures__[e.__id__]=s),s);var s}e["js.html._CanvasElement.CanvasUtil"]=Ii,Ii.__name__="js.html._CanvasElement.CanvasUtil",Ii.getContextWebGL=function(A,t){var e="webgl";if(null!=(s=A.getContext(e,t)))return s;var s;e="experimental-webgl";return null!=(s=A.getContext(e,t))?s:null},Math.__name__="Math",A.$haxeUID|=0,"undefined"!=typeof performance&&"function"==typeof performance.now&&(o.now=performance.now.bind(performance)),e.Math=Math,null==String.fromCodePoint&&(String.fromCodePoint=function(A){return A<65536?String.fromCharCode(A):String.fromCharCode(55232+(A>>10))+String.fromCharCode(56320+(1023&A))}),String.prototype.__class__=e.String=String,String.__name__="String",e.Array=Array,Array.__name__="Array",Date.prototype.__class__=e.Date=Date,Date.__name__="Date",ge.content=[{name:"R__DS_Store",data:"AAAAAUJ1ZDEAABAAAAAIAAAAEAAAAAQKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAgAAAABAAAQAABlAHIAeUdSUDB1cwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA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AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAACAAAAABAAAAQAAAAAEAAACAAAAAAQAAAQAAAAABAAACAAAAAAEAAAQAAAAAAAAAAAEAABAAAAAAAQAAIAAAAAABAABAAAAAAAEAAIAAAAAAAQABAAAAAAABAAIAAAAAAAEABAAAAAAAAQAIAAAAAAABABAAAAAAAAEAIAAAAAAAAQBAAAAAAAABAIAAAAAAAAEBAAAAAAAAAQIAAAAAAAABBAAAAAAAAAEIAAAAAAAAARAAAAAAAAABIAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADAAAAAAAAEAsAAABFAAAECgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABBERTREIAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAIAAAAGAAAAAAAAAAAQAAAIAAAAABAAABAAAAAAEAAAIAAAAAAAAAAAIAAAgAAAAYAAAAAAAAAAABAAAgAAAAAAEAAEAAAAAAAQAAgAAAAAABAAEAAAAAAAEAAgAAAAAAAQAEAAAAAAABAAgAAAAAAAEAEAAAAAAAAQAgAAAAAAABAEAAAAAAAAEAgAAAAAAAAQEAAAAAAAABAgAAAAAAAAEEAAAAAAAAAQgAAAAAAAABEAAAAAAAAAEgAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"},{name:"R_gallery_train_moon_2_png",data:"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"},{name:"R_gallery_tiles_png",data:"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"},{name:"R_gallery_train_barrel_png",data:"iVBORw0KGgoAAAANSUhEUgAAACcAAAArCAYAAAD7YZFOAAAAAXNSR0IArs4c6QAABLhJREFUWIXtmE9IHFccxz/RrWxaRZog2TWrVlE2Fg8mNCi42w3bRQJJSA8pJFhCD8kh8RBa6KmkNrXppaWlBw2FQKBYDNhCgxaKbIXNjpWlECFIdbG0aFZngrWlRHQxanuYfePM7szszPZQD/me3rx5f76837/ve/tO9Yz8wx5F2f9NwA7PyJWKPU3O43ZCVhkCoK6uUet79Oj3ovMyGZnmV951tZdjcoJUX9+HAITDtdq/ZHKZeHzCdv7i4gJTU58AOCbpiFxWGaKr6wSxWNSUmBPU1zdo7Yep2/iPXSo6Z1+xPCeICfgkCYAzwXIARtPb2r+EnCXi9xa0xff+jhYAVrs/Z6n/ZFGCjs2aHokbNnODhJwF4LfkLADV3c7m2ZI7+Mt3dL7oAUkibfI/MDhAm86sSnwCJdcOAgq7Jy3gr/AgXz+Jv/MS8gN787qK1rYP3geMPhcO19oGhBIKEcy19y8usJGax1/hYc3Bfrbklg6soeT8LQjE4xPEYlGSyWUah28a/M2Htc8poRCLiwsqwZzfrXefgwe3SyNnFQgDI3E+PfGC7aL58EmSRl7e3KIp3MrB8bfh+g+2gWFJ7vCflRqhhJzFV2IwmGEjNY+8uUXV029sx7muEL1ffkwg53NXMCZgEQT5bWFS5HlXe5nmuXyT6mGViJ1UCDPY5TxXJ5ceiXN5ZQqAzPBu/0x6Gx9wd0GNwfMNlYAxKNK6JOwUpuT0/mYgZ7PQ3YU1vvi1FYBrzbOcb6gsSNobKdWs8uYW/gp16x0bv3MlmawqhCDWvuRl4egfjPUf0k6x2Fw7mJ5can2e1DrM/aj615HXVH+y+mZ8mvYlL/dOZwzrXPmqxTD+574jABy/McfjHfW7B+t8Z+lzTolFItO8U1WjzTs7FuDe6Qxj/YeIRKZ57PlLG//k/jLHb8wZiO58b21WU3Idz7dw66LqH+1lNUT8Xu07Hn0JgFsX5zVlIggBBad37XCdNj4hZ2kvq0He3OJy/6qa6zotuRX3uXzZo0fP+N8kEkdN51W9Wmvqe25QlFw+ISucHQsY2k/uW4tQEanFYDoqv+Drs/6oJGnm/Lq7mkhkumD+Z5EVrS1yHlCQ55qAVRsB4CoJx2JRiEUJhGu10vXRBWyrQ0EJcwFLma4KTdWk+kxvpumcli9R8IVZ1469ZSs4XRf+xuGbgFq+RtPbnAmWa+XLSs+Z+a28uUVVkb0sA2LpwBpKKIQSChn69QJT+J4ZrCqCv8LD/o4WmsKtlJ06Z0vO8uS8vjeZnFTVSfCNGAq7iiQQriVztdd2YT3MCr6TG5itWfMFJzmCyeQy4cEBbVxbzuf0ka1HPbsB4VRoFiWXD58kMZMj2xgsJzA4oF2qY7GoaVD4JMlxrnRFbvXl1/lWCM+RuNYvfC1ztZcZnQ+mbS7VoAYBQHW//d3BETk9hN+Z6Tw76E+tKazqvVWHc4s+R4BRtutluggKEcF2TxB6PEzNOnorcXRyInIFOZGAA7mgELd+/Y0f1Eu0HlNTPwHOX5kcnZweWWVIe5u7c+c90+qgL1WCkBtSJZPTo+a5SdOHw0xGLpmQHq7Llx4rT7vw+roK+pt9/2XVXezpN+Fn5ErFvwCZOvGEkge4AAAAAElFTkSuQmCC"},{name:"R_gallery_train_Steam_locomotive_png",data:"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"},{name:"R_gallery_train_slime_png",data:"iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAAAXNSR0IArs4c6QAAA4JJREFUaIHt2j9rU1EYBvDnmphoYltCwLSxRR2COHTpB1BROnUpOLh0cVU61kGkQxEXJ/UruAqCOBXFURBE6CQdilSrqZTS1tQmpsTh5E2TN/ck59z73lOJ91nKSe6/X8+57805iXfr8kwD/1FOHPcFuE4MHvTE4EFPDB70HBt4Y7qEjemS8/MmXZ+QkNev/MB+ysN7qHZxedXJ+Z2B26HtofZbR/DIwToojyt4ZGBTKE/UcHFwUChPVHAxsBSURxoeGhwVlEcKHhgcFlrNZ5EAgK2K1X5h4dZgCSgAlC6lAQCrn9XraUdwY7A0lOIa7pks8Xy7X8KN07LQ3YM9AMDwqaGOdvlLCoA9nPLm9yjOPdKjjXrY+wDMPhkFALx8YQYnaOF8rfmKAhOMwtu0fRlqf1P47E11fa+urvXcznhILyypEz9e7A3vhqpwWL+YDnWC3psz+8dYFy0dnA/d3YOaz9720cFtoZTAjyUO//hdBkjh9zjBp8ZU2xZKCf3BY2Gpgmo+i6d3VbEhOC9GtqH9KVNj6vh3bu/jzJ/gS+liHy0fvlbQBzPh4Dro/KLIZcqA63v7rUPp4LaRhlLkJg8rdQBAcVIdcv65ev3ZnLrwd82nBe9x3o4KSpGfHq7UkRjPtNpHPZ4H0D3UKdcuqvc51NtRfxsjMtfnbIlHN9R1PUpQXTtoRMDJoUzzPu5OeVuBCjkF5PB+UOmILdMWJ5Ot+9cv5e1UCw8cwSneTm9sY0RmWIsP6fb71y+8uB2uq5GRHO69n1SObyG+CXcdsR5uH67/cuLvloKmkKu1KjHl8Gt35U6MZzqKW2Iig8SEm/sXEABXUl5Hm8P90AB6VvT2+FXnXyc9/40NEvgeJmi21gC2KthsrlCcvaCwhVwNyCXFihNVc5opEdp25mQN7oC2hSbmHK56smZc1Kg36ZnMoZSgcGOwDsqjg9Mw18H5sK3v+kN5OLxfjMH9oDy94OXtVFeBo+h6tF9o+2qf7YzAxeXV1rp0Om+3tKKD854OCqVsrW8CAEo/e9cM4x6mBW4JuIejIewKSrEuWlLwarPHXUEpgR9LMvCs9XmDQimhP0uHhZsmLJQiNnmICi4FpYjPh6Xg0lBKZGtaQeFRQSmRL+KZwqOGUpytWurgrqAUoy/Eo8jGdAmVT2vOoBTnv7WkuPptJU+8xDPoicGDnhg86PkL6OblFv0mIq0AAAAASUVORK5CYII"},{name:"R_gallery_train__DS_Store",data:"AAAAAUJ1ZDEAABAAAAAIAAAAEAAAAAAlAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAABAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAgLAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAACAAAAABAAAAQAAAAAEAAACAAAAAAQAAAQAAAAABAAACAAAAAAEAAAQAAAAAAAAAAAEAABAAAAAAAQAAIAAAAAABAABAAAAAAAEAAIAAAAAAAQABAAAAAAABAAIAAAAAAAEABAAAAAAAAQAIAAAAAAABABAAAAAAAAEAIAAAAAAAAQBAAAAAAAABAIAAAAAAAAEBAAAAAAAAAQIAAAAAAAABBAAAAAAAAAEIAAAAAAAAARAAAAAAAAABIAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADAAAAAAAAEAsAAABFAAAAJQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABBERTREIAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAYAAAAAAAAAABAAAAgAAAAAEAAAEAAAAAAQAAAgAAAAABAAAEAAAAAAIAAAgAAAAYAAAAAAAAAAABAAAgAAAAAAEAAEAAAAAAAQAAgAAAAAABAAEAAAAAAAEAAgAAAAAAAQAEAAAAAAABAAgAAAAAAAEAEAAAAAAAAQAgAAAAAAABAEAAAAAAAAEAgAAAAAAAAQEAAAAAAAABAgAAAAAAAAEEAAAAAAAAAQgAAAAAAAABEAAAAAAAAAEgAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"},{name:"R_gallery_train_airship_png",data:"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"},{name:"R_gallery_train_the_qu_png",data:"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"},{name:"R_gallery_train_hermit_png",data:"iVBORw0KGgoAAAANSUhEUgAAADoAAAAnCAYAAABe81ttAAAAAXNSR0IArs4c6QAAAfNJREFUaIHtWdttwzAMVIoumAkyRRbor6fwBJ6hk6UfBQGa5eNIS7YR934CC5LJ01Ekrdxe31+vdgF8HO3AXrgM0U85sEzz6vn+fOzmzEj8ISrxLsRvWjKS5Fr7JcjHteczI1TUwjLNK3JE+qyEVaKRehZonjX/yE1QQ7e1tUKo01EoH6m6WV7IGURJmkdrLCL35wOOjt7oVkejsNXm7olSMpJJiCuJEOAb4kVOzxA3zyh3CnVAI4C+t3LmM0iHrmfQUnSZ5tW43AhLVRkpW8I9JKo5ZEFTUhuzVNcIIyGOAFIUCRsvbD2y2nv4L5+7hWyXrBs1Cdb5sxTkv3x8C9kSUe0sZZsBL2l5ZxZJdBpgoh4ZNMt6G2TZ1Oyg9Zpjc+hmSoq1NppDqJJsDaijlmFptEqy0v9W1qaJkiEyUD0z8j1yjEPrxLKbXCJqOZldX8mkWvgiPmw6oz1I8jF0LX8Hurb7LWBkFFVD1l+tHmeOTZmolvm0rgZZpwG94UAjoaui0Yd3a3Y/LN9hPcux4Ypa8D63ohroEUA+ADyUbwHJWHROqt1M7xuIIX9JaApGXytbMLy8kBGk+UZ72myiQtFFUXkDwBXMOIWWi0rrWO6MNFR2OqumXIOiK1HCSIerGEKUY/Q1JorhRM+Cy/zj/U/03fADBLbevvqPh44AAAAASUVORK5CYII"},{name:"R_gallery_train_galactic_cereal_png",data:"iVBORw0KGgoAAAANSUhEUgAAAEkAAABVCAYAAAAFZ8k8AAAAAXNSR0IArs4c6QAABLVJREFUeJztXEly3DAMlFM55Q/zhVRe4Mu825f5ih9in1iFoLB0g6AWl/pij0SJZBMAG+DYb3///PvaboT4dfQAroCbJAA3SQBukgD87njJ++dHeP/1eHZ0cxjeqrubJGaQkJHl4ewkUpZkEdOBs1tiStIqYhggFrpybJAlHb2SCFZaY0vg1pAD0oN/PZ7l2DWDqM+MwHYJIIP4++fHfwMYv1vXzoySJVnW4d3XbTVxESyri6x0FWCS2AHpyWhiMreTVjfaWVLDIrybvJIlIaupJ2Y9m8Ei1+pvtJPtI/JYa6Ri0uvxhCbpDXTEKXYnivq03Fn/7glf1OLKgRu1IMb0Z6zOG4f1mXXHkuLOLMpzCe9zFlf0bri3hJhyt47BShfM3ocu0mjjfWYtlHY3OZlVGidzFYtQi2ArNjJED9C72xXE37bFVs56wJQlebBWSV9jVlK/Z2+0W5IWf1LD6PtZTeoIdW2B3t2Y3QUts2QkHu3iFElRIPTaW1YTvTu7dgRod8usSaYGkqCM2KikcjRZ5ZgUKWpWTHokHk3OQLnG3Q1E91TG4BHNvAcm6SyriiLLHZnc8kceTiIpiFU59bCkxr0S3RaNEFXSSXsh6ysrI3ehpJNWk4VUIy0gYrdS56Ji0kxBje0HLZ9IoATp3zNMxaS9LCvqm2lfHSftboh6Xo1qdbJK1LQEOMKC9l6YUlrincx67QdWTg4N9ssDdxWd5KAHncypcoYSSZWgybStVi0RoioLVv4uAOpisn3kekw9SeshTx916aVSPUkOLGrnTSQ7Z7NgxUBNOroIrEWl35m0JpVNFGk/G6c6BW3m2iWSvHvR2Zd3fwYoUcwJsYVdqgCIgKuQKWMdEuOqi9SSlnS1q6jhaoxjMG1JSABHwe6Y8nrXGCzsIibRiehdR2om7558Xv60+q9iKnBbbTX0Ke6q3CuSA9H49LMW2t3N0iMZQRUCI0kxUxaxMEVSdPjIuIInNDNBGMFT8JWS71RM8mKNN0Cdl3kERaI0U8uzRFooxyRURaOpi0VUVSxKkj3rZFxyWYKb5Wqynfw83q/byeszeZg3zgjUl93Rl7IlXo8cNFah46gCiklo5r9tfHphuZfuO7ParP5kbRxe3LMAkYSIQd3OE4UakXKWz0Txjpmw7htZSHh3YwYgVx+ZiKe2kf4jeWG1q6A9LbFEITqRgUh0etdQl6zEqCV/7+btTsgAM4vztnP52Xtn1S1bczfZ3nOdLP2I3KqimyIXRklbUgWwtnIrjxtAXIHJ6yL3rsSmXb+fhIpMCx3yo6qbWknKUhWWoEpmn7WplGtaSUKz7Gw7t9pVSiiMxorQ7m5I0os+i7a1YpAmy9sJlyW4DKq5E+NansVFOyzTz6W+fWtJC28ni3ZYFpcgKSuddGX7Hi5BkoUoP+zGKUmyLMNT8ex2XkHLQcBKU89UczVpZVCqTG6bfTjYNVhrm86S15WYcreZ+nL0zvFzLMQeRERoP8HtNP29yFlyEDBeHBXYZshaQc7MeCCSopoM8kz2XAcpK4M39S8UM7JWucfq3StD6a+Utq1mXch7z4jyP+OUYMqpV0QLST8dp0xLzoabJAA3SQBukgB8A0dToYuTE+cTAAAAAElFTkSuQmCC"},{name:"R_gallery_train_cancer_png",data:"iVBORw0KGgoAAAANSUhEUgAAAG4AAAA0CAYAAABrTg1qAAAAAXNSR0IArs4c6QAAAvtJREFUeJztm2FuwyAMhem0a/X0HGz7xYQ8Gz8bN4HgT4q6RpASXmxsk71KKT8l2Y6vuweQ+EjhNiWF25QUblNSuE2ZEq7WWmqtUWNJDHxHXISK936//51v55IYXsWRx6FW1otVa03xAoEtjloPIl5rk4LFA61xvQCICLRNWls8cHBC3R53vn3nrDGDmFhU4bQJp9aUAl0DZHGam0PXshQ1jrAEvLnIXMuuYSicVQgk2nyy1V15by6La2L2UWZfRUHEflrV5ep7CamcIJZ2SjVFmgcugJu5f3MCzlVDuE+uf993R9HoHFisjHtgZ2ICd3BCB08/ufYrusbmstG0h963Z+Ij5gG2uFkLWVU0Tz01wtXNzodYZKbuzzoIycJWcZEjt97gxhpRcIiwWtFVjm6KupbmQvpok36uIlgP4h77NlF5Kv1dj/jDNa5NODd46Qakp2ml5Nw6FsvEog/prHjmdICzRG6gq4hEQUXr71NaMrh5oH0+hWkjFc3VuD53CzkK5UfhPSoa13Zm/dOA0wHNRbY21j5XYhn7CMlqEdGi5sKcx6FR5kprGsWbBtBrSOdncln0AYJcJRICU/++Eqiro2jpkDVosfyuxlSRuf++soVR7igGWAvwGibhRu7B80TfRVQU7HGvUfNiEo4Wian77OuVq1gf+v4LkuJYQIKyUS6sCQy/uiAljFzVZGXRStFF0apGGtYczuMBHv2/A0iFh0ML95E9RTSC9D4k5jVO2pdbyT0iaOOdKZBb1jJrkbsR8gr6DoJ5w/qZHRLuOhroXLqE2xHEvUntrPt0Eoh44SWvneknXltTZoIra0kQ7ccR8rLQ6iCiaf0tazhSJeHyXot4RwiHIpXtLG8D0Ou1/vRcjzcp/zntqLX+HUi7/vunxmPtc0xwQvFGeNFpj7cwf6xwDc/ESX28hWTvg3C761rhaO4KcZ+Wv7VreI/jLc6DtNNtzQ9nSOGcSNGnRPSeZQp3AZ94MyCF25QjSl5PJIXblBRuU1K4TfkFsZVjqi9cwXgAAAAASUVORK5CYII"},{name:"R_gallery_train_nimbatus_png",data:"iVBORw0KGgoAAAANSUhEUgAAAEUAAAB5CAYAAABvNez/AAAAAXNSR0IArs4c6QAADfxJREFUeJztXF9oW9cd/pqrCiluTJSZGgsXe8YLXtZSUHD9IjBBmDyWjkaQh9Bs7ViDg/YwF/wQnNb4QbAYWtGSjDVr2jy4yGWljyUE46GX1CQQ0mbCE6lMPRkHr3Ll2Bae7raH69/ROeeeK90r2Ve31B8I6f4795zv/v6fc/VU8OmO/8El9Hw1iqWXPkDPV6MAgKWXPqh57lz3CfSFR9l1buGQa3f6EcFVUua6T7h5u4ZxICkKHJCiQEtI8boaHUiKAp4m5dTyw5bc19OktAquktKqJ+8UB5KigGdJaaWH8iwprcQBKQockKLAASkKHJCiwAEpChyQooDnSXlUcK8MSWgJKV4P9z0rKa0kzjVSln77M1v7nJ67H3CNlNTsNt59/RO2/e7rnyA1u930ufsBn2t3ApDJ68YTv/YpUnm97rl/v/Yp++0mXCUFgKMn7qZ08HCdFB7pchmfv3DEtN9tyZDRUlIANQHpchnxQKAFvTGwL6T88chhYTtxJihsR28WkTkXAmbV12fOhcTzqB0Y7fBqNb2xtRddFvDUXk+wq9RBRiK7idRA256d98qDDVt9swvPBm+EyKDf9Xu6TgoNst5gW0EGwVVDGxn0IzTcBdwsIjTchQhWLM+Vz7u3sONaPxu2KbIxBQyjZ2VTiJBfveE8p/nmwxMozlsT88qDDcv+NIKGSVHlIj1//beJFCYdgImQeCCAaK9maieT15Eul4V933xoTHmoyHnlwYZlfxpBXfUZCh417StUSqaO8bbi3sIO25alg/cmsbEe5T1jAKJXlth2IrvJ2vjmwxOCOkUG/cADw03LBD/39CGEfe2m9u9sr1uOF6hDivHUzcFVIms+NzW7jeeeFu02TwiRwRNBT503qrTNn5faJYjIIWII8n15jPerouMjNd14TVIaDbdl+xEPBAQ1Ks4bA7q3sINkTgNy/H00jGOHDTo03IXYWA+K8yuI76oVEUPt7PUYGClWbCfOBKFPTQIwCj+vxj6q2aBsP+KBABJngggNd+H2lSVEBv2Iz1BHzfYEgEBUeldVYmM9SGAFmIVADADgZtHURmTQD2Q3AQCf3f4NAGMqVrs0oZRqAPjuP/8FsEsK2Y1CpcR0sFApCRfIlTCyHTJk+0EScvvKEhLZTYRzIhHr3eYc5+hy1cjGZ3QUKptIXVlixEQXNMHO1MLl9/vwGbcdGu4CZh8BgDDWsK8dYZ9hbw6pDGnUt3cxgUAIZ/QOnwwrCQEMog6fDLPtsK8diewmivMrTBJNfVZ4MYLVZL1qnEPBo9WIlk6I+naQqVQNn9wJObmz6lRqoI0Zy8igXyCkUClh624B4c5jlp+tuwVBWvnrY2M9tnIiAHjn4iP2+9TyQ8EOZSp+YdwEZlMoLkiXywj7xBC7mSJycX6FsyG7UoAACvnHCN+tiq7q+3Dvs1hHVZ3iMzrGF5YsXXkjUI1bsDZWNQxe/HjJiQz6hU898OpyuPfZmoT0Dw0or7OCVV9kyVapnzxuwSUTa1HfDtIVYzsxvwKMVM8ZeXPZaGjG2tXFAwHmRg1jLKpWuPMYcneyjAAAwnfY147cnSz6hwZQWP3e1H5xfgWxsR7ELz5ifbbqT3xGx8yUuE81Th5MUuKBAMK+dsQDAWZTiEFefW5d6wZgBEVR347wIZB9YXEIwAynihAZPDHhzmMAqtKSzGnM6/F2TO4LBW3ps2YDTOPKVPzCuAlMUogIMj7pirFfFjcyVIaIitY7rYh0edAAaxFC4MMDum5ruWB5vmzoKU4JDXfhBQubyDsV3rnU9T48nKxDWxu5wH6Tt8ndyTKvospJeBBx8nXNwo73OSSfYEVIMwj72g2v0/ss1rsDjiSFrjt8MiwQyZNeC/VSAdW4fWLCpCG6mwBS0lecXwF+KUpJvafMg0WLnceY0eS9jBWYW4boGYxr7MUofD9VUl4de3XcAOCzSpiMBneQmt3Gq7MfQTvDV9JrS1Mmr+NFGHqdApDMwQjWToZRWP3ecMf5x5bE8HEKACGYo9RBh71kLzW7jQfD88A/5oVALuxrRyavjtwPWVWnZJFKzW7bnrFLl8u4f3qcJZKqgfcPDYjGlPvmCVFBn5rE/dPjJlfKg8/L3rn4SCCEtyUypje2DO8zvbGlLOcZ7swc1mdmdHWRaTcrNQZofookLQAEt6z8zj9mAVwtI8tLGwVtfN9UaUkCQEox50QC4uN3yMRYF4s1oROqDhJIhRJZY7C896GQfx0wfYeXq8QRKJ9ak3oT9rUjMqgJ9wQA5MwPzwq8xphqtDIxVtmnKv+gaJcw3q/jxS+TuH96HAlBiqrBnCpiZXHJXSMuIaJTA22svaRUgqCgksdtrqTJQ7ZFsglRFq7tEGOV6/Dh9ni/bqqnEGRyeMhkAFUpodSBJ0UVtQJqSa9HCFCjmi/XWVS1TjvERH07QuUNgEAOwcoT8bXd4vwKUrPbggNwQogsXVYFbEtSVJVwJ8REbxbZ9TwxgCjWyZxmqpvw9yE1lQkpVErC5DsPO4QUKiVWfpRhixTeM6jKC1aFJ1mVAHU1XwZf5AaqJNpRGVXYYNRKqpJIv5siBVDHGjysnppRY62SKs/7qML1jltXBWmiUia1Y0VIVFHAJshuH8DekqKSlnS5XJMYvh1eraK9mmneJ5PXBTXh+1GLEKt+AXtICjXGD4huLHskmupU1U5pWqNWpc3Od/qsplS3RHZTOQVLnobUh0ct9XG0FEMmJDLoZzeO9mrGHA/nWZI5YypiLwgpVEqIz+hIZDcF25LMaQIhmbzOJI/2OV0qVtclyzkCTwhv1Gh/MqdhvF9Xut29RmqgTVjtxMcgiTNBJlWqxDFT8Vu6ZEtJoQus6itWyWGhUjK56dRAGzLnQsicCynVKx4IWB6rda08dWKnf0BtQoA66nNnex13ttcxvbFlIofflo/xek+iazWJlRpoE2IYlajz1/LH7y3sCA6gVoEsU/FjemML0xtbdVcdNLW8K1Pxs46QdBjJmbpzVsSw9hxOhqskhfrUTAWx4eVdlNcQVF4h7GtHulxCJteOxBsPdw2mmP8ksiWEcxoKNx8K7lI4/uYyZ3CrMYs8fXLrWrewoqFRNExKJq8jmdNZrEEwOtvGfhueQUdsjJZotbHQno5ffr+bRbeZvDHFQseNRFA8ni6XquUCbhnH7StLLMaJ+nTWr2ivhkzO/tgaVp9MxY/xft0kpqQ+8lwKD3rq5Epp4jwy6Ee0V0PUt2NpQMn1823V65dTtXRMCotLfEb6LrtsEutCpWQ8MUXZgcTfSu9JUogYnjT+OLXFw6pfTmB7IeBQ8KgpxI7P6KZ9tHScD9gIe7093q8jmdNs9Ss+o9f1OgRHNsXs+6sBHEmEnFmTzZELRPJxYxFQGzL5HUFS0mc1hIa7mD3ij0cGQ6zkKKqIX9lXu3CkPlbizkezhHpzQ+ylhF1CyF2zcH33uOxFor2aSWKSOc2wRbsfu/22gm1JubO9jqHgUWUQp7Ls7EmXy7g8dsIoEYwAkUsTKGSLAEIoVEpI5tox8+Uk1gBE5ieY2tFxoA1rIxfQgavAwpJQRgCqWblcRJL7aVd1AAc2ha/b8vkPAJxf7MSN46vsOC37rLVcI31Wa/q4vNz0/GInEj98J6zH49XK7gpsR+qTOBNkVba3ngQRm9MQm9MEQkLDXWyNqnoNq7GfJsqsoE9N1rweMFZa81HyjeOrrF9vPQma+mwXjpah9/+8Omv3p2cMQyY/qbmMsezh8xeOGNObU5PQLk0wEjpuXQVQnQ6hyJi3HaQKNG3BV+e0SxMADGkk8k9FT5gkFQAjBgBy3z62O0xnpJAKVb2FIb7nFzsBAF/87hDaX/sagPE6fsetq2y6klTuxS+TrL37p8cBiDN7NK+jOo9U4fL7fVgbuYC+sPFvpaWPn8fLfzEKRkQOT3Imrzt6ecGRS6ZZxMigH7E5Y0r1ucUO3Di+itBwFyOkFngiiAySJpo4jwz6gUsTtvOX9te+Runj51GcX8H5xU589681AEHcPqUjNbvt+G0Ox7nPFx3P4Is5Tn04sXUKij8AMPUi9QCMwrbVLJ+MtZEL0OYncOP4Ku79YJAZmwsCHc8ADklxHObnvn2Ml9eeABC9jx0pIchTrh23rrIP0FiG2xceZWpM/Xp57YkjW0Joqp5yfrET5xc7cT09WvM8p9a/UVxPj7I+NfO6XUOkTG9s4a0nQdw4vorr6VFm8JzCaumV7I1ogPXI7QuP4np6FDeOryI2pzX8ZljDkpL79jH0qcmGCOHJkKtx/LadV1dk9IVHoU9NNqQ2hKbUp1EJUeGfv/79nrXVbL88817yL/72Z/Z77b23BZvg9h9BtIQUVQF7LyWlWbhGCkWjVFfxMvaNFD7Et8Lae2+z37z68OBjGvJI71x8xGKa/YBnbIqX4AopdiLUn6RNUcFKZWTUej9wP+BJ9bFL1n7Bk6S0Gq6T0qg7dvPPqzwRvHnJyAIeUx875LhRhtgXUlR/l+q2B2kGnpEUK4/TipTAVVKcVMP4FMBttERSGnn6bqpfy9SnniR0/KF63Oq/Dfbrr549Y1Nkz/OTUR8nUxe8pLiNfSeFjyt4Q1tv0AeS4jG4SoqVwWx1VizDM4bWS/AEKfVyHrej2n0hpV7R+t7CTkOGlC8f1CuKN4N9l5Rmjat8vRvG2lX18fp8D6ElNqWV/0psB66TUuudn1quOTbW41pS6Anvo4Kd2GW/ZgldIUVVdLYbsP0k/g29UdhdELgX8BQpXqnqe4oUr+BHMxnmJv4PeykZdy+U28EAAAAASUVORK5CYII"},{name:"R_gallery_train_x_mas_tree_png",data:"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"},{name:"R_gallery__DS_Store",data:"AAAAAUJ1ZDEAABAAAAAIAAAAEAAAAAIJAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAYAAAABAAAQAABuYndzcGJsb2IAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAYAAAAFAHQAcgBhAGkAbmJ3c3BibG9iAAAA9WJwbGlzdDAw2AECAwQFBgcICQoJCQkOCRBdU2hvd1N0YXR1c0Jhcl8QHFNpZGViYXJXaWR0aFRlbkVsZXZlbk9yTGF0ZXJbU2hvd1Rvb2xiYXJbU2hvd1RhYlZpZXdfEBRDb250YWluZXJTaG93U2lkZWJhclxXaW5kb3dCb3VuZHNbU2hvd1NpZGViYXJbU2hvd1BhdGhiYXIJI0BoIAAAAAAACQkJXxAYe3syNzUsIDIzMH0sIHs3NzAsIDQ0Mn19CQgIGSdGUl51go6am6SlpqfCwwAAAAAAAAEBAAAAAAAAABEAAAAAAAAAAAAAAAAAAADEAAAABQB0AHIAYQBpAG5sZzFTY29tcAAAAAAAANPPAAAABQB0AHIAYQBpAG5tb0REZHV0YwAA306NkkDfAAAABQB0AHIAYQBpAG5tb2REZHV0YwAA306NkkDfAAAABQB0AHIAYQBpAG5waDFTY29tcAAAAAAAAiAAAAAABQB0AHIAYQBpAG52U3JubG9uZwAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAgLAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAACAAAAABAAAAQAAAAAEAAACAAAAAAQAAAQAAAAABAAACAAAAAAEAAAQAAAAAAAAAAAEAABAAAAAAAQAAIAAAAAABAABAAAAAAAEAAIAAAAAAAQABAAAAAAABAAIAAAAAAAEABAAAAAAAAQAIAAAAAAABABAAAAAAAAEAIAAAAAAAAQBAAAAAAAABAIAAAAAAAAEBAAAAAAAAAQIAAAAAAAABBAAAAAAAAAEIAAAAAAAAARAAAAAAAAABIAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADAAAAAAAAEAsAAABFAAACCQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABBERTREIAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAIAAAAGAAAAAAAAAAAQAAAIAAAAABAAABAAAAAAAAAAABAAAEAAAAAAIAAAgAAAAYAAAAAAAAAAABAAAgAAAAAAEAAEAAAAAAAQAAgAAAAAABAAEAAAAAAAEAAgAAAAAAAQAEAAAAAAABAAgAAAAAAAEAEAAAAAAAAQAgAAAAAAABAEAAAAAAAAEAgAAAAAAAAQEAAAAAAAABAgAAAAAAAAEEAAAAAAAAAQgAAAAAAAABEAAAAAAAAAEgAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"},{name:"R_gallery_train_taurus_png",data:"iVBORw0KGgoAAAANSUhEUgAAAGkAAABxCAYAAADWB43MAAAAAXNSR0IArs4c6QAABF5JREFUeJztm1mO4zAMRNmDuUpfqA+aC+UwmY+GMIKghbIlVVXCBxCzOIvtUtEUpXyZ2csCav6gTyAYEyIJECIJECIJECIJECIJECIJECIJECLd4PV4HvmeEOkmr8dzu1h/t376B/D1833ke14R8/F6PI99V6Q7EeCjUi1OusjCSTrAR6ZSnHaRhZN0gI9OlUC4yMJJOsBHqEKgXGThJA22tYXyftap1skuXo8n9BrCSQKESAPQLjLbmO7KC0vpD33BM5xaLxpxbKkiiaMoFpov+y3zjsMuFtP5wRb9wll+YE4qYRKL6VzMiJbPw1l94C2XWrweT1grBtkCagT8BKjEIhToRZPuWkQa/AU+UmZip7MYXWQKTioJJ4nFSlexusgs1pNkgI8UdDC7yN7JSSwd613AR8qquOIIdhfZXSed+NnHDF8/31Tns4pl6Y5FsBmhGFZdvWxJO8jeWzqHFa9hiO1LFeWoZhm5Si7a3nFo7XVoHV/NO/T8jreFeqId+2mjkIvMCBb9doumJEYLmuXzGjtSo5qLzAic1KN1Mz0ltpoQPaidlDObBt9pL7oZwTygF575lue4ypyoEfATcN/81o32CqAqFGUX/M7cpve8KvdLKAEfKXlcSW3v2v1OQeWkk+WxUsecRqRcIM/NS1339NorXXgloeB2rkWvSPAWFGxxdXWAwkm10VyO8uSUmXTodZeCm+Cja3R8xTxp5jx2br684iTqtlCPK67yvj53cf6cHL1/VP7fKYqoXdR6rXfkzzhk9BxMx/N/X3XH5OvxIrUuclQg5O/3vP7OjVudAmc+jyLdtUrvMj2kNORtsK5c2lg9f5v9PKiLese9vbqVJfmJAsJzjXlQlOAl5egtS+n8wV77Mx+lLFvN7tBNd635y2lq6bDWLUgCjdaSvKlw97V6P3/6mbRiVF69+NIhNRSXx0dd/2mRVt6A3g29Mxi8XQYVMeFOupNSW+fimXQyCTQ6F6iTVpCX5WURkY6r0xWJ7QKvzKPurPKyQDGZLRmtLfXWgUqh3kEw6JaunjNGIuR/bzmoVX73vpNRQLiTesLU5jzewsUrXMtdTK6DizR701v/Tp+V31RPr691jEGcBFSkkTNGz6bZ7+jdeO+cDSEeZe/OQ6/jUIPJGbPARRqlotQgzRuuqzdNshYMCZoN+6OiIf//8vWtpipLg/gu8MKhxsyzKn9P73jrGLuLzIhEqrV3elwtzdN7Z1Z50cCfSTknd5SqCGRGJpKZr5DwcHV+xAhNusvZ+RMVJXESdE7KQe/QYYGmBB/Rc9UoDaqKk5ARKceTBmsNU2WxIPvuTkVrd6tYwE8ghBoEdeEQ/Ac+Uk6EspvCSSLAR8qpUHVTOEkE+Eg5GYpuCieJAB8pp0PNTeEkEeAjBRFKbgonCSDZBV/F6FcaLHysk5R+7PyxItVgFS5EEuBjRao9f1ifSZS7hU7DKk7io6s7FT423SkRIgkQIgkQIgkQIgnwD5WYFjQxoZhkAAAAAElFTkSuQmCC"},{name:"R_gallery_train_torus_world_png",data:"iVBORw0KGgoAAAANSUhEUgAAADQAAAAvCAYAAACsaemzAAAAAXNSR0IArs4c6QAABTJJREFUaIHtmu9LW1cYx79xtpR2amKWQDWYpnYDpbANKUvIi0nnYFAcjHbYvWlf9w8QoS9k0DEopRQKg71a0TepEN84AkIxWIYko4RNkCioi4aqzGDmjLUyQm5fZOfm3HPPr5tkrJR+4UJyzz0/Pnme85znucQVCHxg4A1Sy/+9gGbrLdDrrtZGBwj6wlrPbRbSjU6lJcdA3ZFIteNaNZa4+4fRcuWatE8lEQey1c/lCy7z/lYq5XR6pVxOolx3JILrdytIpieVz5795rnl+04sAAC4HL5h3ns81oLWNaOp1tMCIlZRwbAQrG7hPgBgPrcHAOZYxXs3ATTHLZUu1x2J4MSXHlyN7gmfUYGwGgx5AQDJf9ffOTpR/dAEMGmUIzBEm9tXbM84hZH17RydQOfohHag4UkIRMMQ66znR6QL2okFzIvVTiyA+dyeeYnGAIBr0wa6IxHT1Z2o4bANQAgg03xuD324jeXQ9ybULdw3Ya/frQAAHo9FHEXDd9rbvd+yN3nWYYMB/cseLrVrTdbS8g/cbauWe779Ofj25/C153cAwDnPaWzsvzTbL35uIL/Sg9JzPddu2EIqS+iKdsPBkBfjsQfmd/9XQOvaTa1goZ360OeHSkZuFZVE3HIZuVXbHhRpPPaAGzB0gkXduZzIMpVEHEZ20XbfyC6ikohjesErHZcXSYl0oJRA9AJUVqok4tL2v79YMMcUgREr1uvKNiD/+T6cPOvhPQugCtXbM2VOyrpGeSPDvXiSgQH8kK6yUl1BIdiVQLArAQBIxqzR7/Bom9vn3Q3A9QwwLtnbphe8uBrds0VSkZXc/cNAlp9R2HI5//k+nPkoZJtYlvoAVd9fz4+gfWAfTz/7xNYe9IVRvuAyrc+O3zEbVWbttIr3+FGvKQcrULPaRX8bnnLaNwtpoFBLdE8+88C4VAUhMnKrcIXet/Qj+5a1nshK2lFOFZ2IlnZLeLQyJGzfSqWwlUqh8ksRZ348ZWnjRUdRdi+yZtNL8GR6Eg9nfsCnc79Kn9sspHF4tC0MGOyYurIB7f6xjBdPlm2/HqC2Ej3xQcbdVCjdg11qoY7ZqMXHgSpUMj1pOwB5ByKBkoHRUO5xvquyMOS7u3/YFsK1XI6A0YDr+RGLRdbzI9xz4yDjNsEerQwJ99d7P43hIOMWwvDcjrePpFGuvJFB67kB2/1KIm4ZTMfHDzJuLJ0oAQAX6uGMHkxvz5Q0PeIC7ZZyAABf58fCjiTE0pPRmYMsdVnaLQnbVAp2JaQ/oPIcElnJyC7azgygBsWCkV+bvE8gImXD5fANc6GkL5uFkJRLJiEQbSVd12Oh6MUNgh8hacDlUG0P8ixM0i2g6iF/xb9zdrDulnIoFH8DAGFoFWXYoncLMpHXXGy/3p4pW6TjHcKAhsvp7CeRpdiF6qgvdxt94doxQFsFkNdLgMNcTuR6QM1SLNhOLID5sLW8pkWX3rRYEKL1/Ii07tIC0tlPRGQyV/+H3KAhAtBRMj2pLCIdvdv2t4VM15NBsRq6M6P9LE/TC15bxrKf/VmvHlKpHihSegPquooWyR11YYA6gAArFKAHRkPpigUB5DBAnQUe2VOA3r5yIh4EkQoGaKBi5UEBzvYWKxlMeSODl8d/KsdouAQXgQGNwQG1w5wc7vRcItW1h0Tyt4XMz7yD+GjgGAD/zU/HbNSWjTgBIWoqEC0aDqgBEihWpzOnTAAiJyBETXvrw0q4mCcAfPby/kXxuC4AVv8ZECvLYusvh5R64/548RboddcreI2Z7U52UC0AAAAASUVORK5CYII"},{name:"R_gallery_train_nautilus_png",data:"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"},{name:"R_gallery_train_blaauw_observatory_png",data:"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"},{name:"R_gallery_train_joust_png",data:"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"},{name:"R_gallery_train_char_png",data:"iVBORw0KGgoAAAANSUhEUgAAACUAAAAuCAYAAACvWdDAAAAAAXNSR0IArs4c6QAABHRJREFUWIXtmF9IW1ccxz+mxokzxnQL0dWNCdq6VWZXESOy4uhSh9X1QcdAZI7RPbUdzGJBFELAMlhZ91ALg0hBCduDe9nMWv90XXELZh1dHaRUNlkDyxJCwOiSDuufbQ8395hobO/Nn60P/cKFnN/53XM++f1+55x7b87BQ8f+4RGT5v8GSKbHUEqVm7GRQiubv435aQ2VGajQCqUHj4tm4KfhtMDSh4oBaY52CFNpmmDpQcUB/f31F8KsOdqRFljqhR6Xsq/0HwDg7HQltFNVWqtv3XtTpE0Gcna6aP2skXXvTQk6fgH8F1C5z9eyerGPN5Y/SbB/WjQGpJ6+nHSOmc6cIqbX9wBw7Ilfhf3L+5WEFm9h3P0yocVbqsFSjlRnThFvvXgfaitYz79D275d4lrPv4PR8ibDL/1Gdf7TqsdOafV15hRx+sxTAJgwEwTeuT1OY2MTLtd1cve3YWo2U4aHkVboHgCPLpo9qHvBAFfK4Mr5PwHY0wOmZjN/3B7H5bougTabAXjt/F3ppt1wzxfgSVOpojlUp6++oJKrPeWiXdGyREXLUoLPVtvVnnLqCyoVz5FyTV3tKSd3fxsAC5eLt/UvXC5Go92X8AeyAlUdKeSseQ0An9OPqdksgHy+gLhkW+mpt+keCAFw1rxGdaQw81AAZa3PANDv1hKcdAMwtPxRgo/cDlwY3XafEqW0+nxOP6AVBQ1gt9vjHD4GpEgx8CE+pz/7UPEaqXHQ0BEgHH4Pg0EPQDi8zPw3Drp/7kppTMXpi6+nfrcWBvtEXzi8DMDU+9KSNxj0RGb8Uudgn+SP8rpK6+wbqXFQdfgaBoMeg0FPnW1eQNbZ5hmpcYi6UyNVUDvVhRwpWXIaIzP+hLpTWleqakoqcACtiFI8BEgplCNWZ5uXamvLvRmD8uii9Ltj9TDYBzi2AckpNBj0CdELvvIq/d99K8Z5mFSlz6OLEix4NiFKW1Mn22TYqsPXGDPPKAZSDWXceAFqKxJs8ZGS9aO1KgFWd0j5HqUaSpZY7iQvcjmFyfyVSPXmOXFmgSPHS4D5pFGSlSytWYOS/nUJz5U3MXVqVdiPXMhDs3cvALPNHmF/fbKa9tFf6D3gxTFXmNlC31pPl8q94vfmct/eHl6bUjqFkOJImf76nSGzn/bRkk1jSz8A9h8ccDcgzHZjA7aW2LnnPKEaSlWhu6c33+HsxgZF99iNDSKtWYEyW5K/Ks3eCNBb6hX70eyNQFI/pVL13lcdKaTrgPSkYLl0Udin3z2BY046PoZ6d+GeXknoj3x+mpPnNhRvnqpWn0cXxTEnHTWWmM1qdeCd04oJT54rBLR8b3Vgs3XFbMqBIIXN06OL4tlYxGqVzj7n2ETChB5dFI8uinNsQkB7NhZVzZHy85S33iLAdpLV6sBbb3mgT2agllYxNrULMLQ7DKHVCCBjUzssrSb3SxsqBiQ/uAUn3VCcl9y3OE88dZqazarAUnpxkCcLzY0/0O9h/TsprU9B2dIj+R39MZRS/Qv/oao1s6Jz5AAAAABJRU5ErkJggg"},{name:"R_gallery_train_boba_fett_png",data:"iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAYAAAByDd+UAAAAAXNSR0IArs4c6QAAApxJREFUSIm9lkFIU3EYwH9P3kxcsKW2cG7OEUIMAiEo0REa3aqLhw5eYiDhqTxEUIfEy4xuJkQHoYuNCDyFhySmdKhOSWDr0MDG7NnmXHqYiZuuw9v/+aZ729sUPxj73vf/eL//9/2/7/896eaDL3lOUOpOEgYgGy38fHdP0ztvPT82YMkI/y2OYz3Xqv308KOKYYQAmcQqcLwRGgIzidVjBZUFut1eenv7+LpVbF/79ULTs8lNAJyXHx0deFAEyHK9SbNZUHUlNF4VWDLqw5bUG9rbPbyPLBaBAEiClFLVfEthU68/mTqCsn2ohwV9AYK+AFJEhfXbPfTbPUgp9dlsNZdNqRZZEj4oYeY3YiX9dpQ0sA8tF2nlm6aQvoOwsbsJ5jdifHzYQDa5ycKwrQhaFVCZHSXarer69Onl6rNtZrvTXBr8wcKwjb6Xmzw9f6ri/o1TmlT/+u0e/PHPAPiBaGxXc5legiFZZnoqQ+Ogl+jbOEOyzEQtwCfLSuHlcaIF24yUAwlWVlY1v/ttbkK33VxTPECcqVyutghDeSdxaVl71kMAJns6iMZ2mcrlaATCcozBwpr94gXD4jEE7n1bg6Zi0GRPB6CmVcAsDhtSZL8fK0nJonHeGGNpO0Vb+vShiARIpK7eWWgdB/zx+xmSy19epgewKBb9GVm7vEU+Ybl0n9YE1MMsDhvWLi8DI+vkfeqaFDH3jqqAAlTvbGJgZJ2ZuWYADSrSWhNQnOOVxk4AJn7HuZPOqIAWmJlrJugLaP6iaMJyjOz3hOH1Zmo8lZKgL8DjyKt9gwO2QsvaZo3ENNDlagUxyBxoMAEBczPRFNDlaj1k06KpcuIbDmAhyuwomb2/AFjrzsDZhppAQipGWO48apET//L+D2MV+gdIIc+LAAAAAElFTkSuQmCC"},{name:"R_gallery_train_leo_png",data:"iVBORw0KGgoAAAANSUhEUgAAAHwAAAB9CAYAAABgQgcbAAAAAXNSR0IArs4c6QAABRhJREFUeJztnW1y4yAMhunOnqLXyRF6zhyh18k1ur/cpRQJAQIk631nNE6IYxsehPiInbeU0leCwujP6QuA9grAgwnAgwnAgwnAgwnAgwnAgwnAgwnABXo9H9UttZ91fcF+2+v56Np6sbe0eWr19Xyk94/PZprGeUpx55B65/vH5/f1llsP2g6cElWI0sLVbk6pSlmen3pvtRIcBd4qrHyrLU0YUrhWKoHLWLkqdlLHRQwfFBfDtTxgZW95JNxY0vEYzsVkqjB3NPGjfQnrOg48JR7u9XlL0o7cCKSRDqXlCnEkZlPpVse9Vq5Dwc6d3Drk0XwYt7OFJIVvxaxel9RMxHBon7YtnrQWHFoLE15k/frh4cF0ZHnUkhdYupYdOgLc6vg0gvADiBTLy0PHcAr0nVugv6cvoEerF1fuDPqSK+Baqs3TR4CdksMY/no+vk1DUUBfcuHhJVxvkKytnB2f3+0xr3PYVsxdk+5RloZ97oBbaho9yh1waE4AHkwAvljWln0BfLGs9TkAfLGsePal0IsnK8WBPun1AD4hzXvfdt3cAOCLBA8Pqhy8hQ4cOm3BBOCbZMG7UwLw5Vp5x+uIAHyT4OHQEQF4MAF4MGEcHkzw8A2y0kNPCR4eTvDwYALwYALwYALwYALwYALwYALwYALwYALwYAJww1p118rxe5Zh/23Dg4bPZxJGQ79MEfr5DMJ+wuYgK0A/n0lYHXbt80nYAG7FaqCptBno6KVvVM/tR/nz48rHlM3e03a8dsN+emyro8Y1+wI7n9koxkEqgfZsewxN+mJR//jA/UOE5O84Z24tPl7zo1ir9329lng0Om0O1PNnei0Pn9Hxmj9q3h7DKR1fc1v3wzJLv9leLYmHczFc64bEbTVbyyPzGanJIYoJG/XwwXyfzUTr+7P7WDcKosu59IVLfLcAXnqpSw/vraGLFwrMV44WXBcergVd83qsxvpWc841+Vs8vNczax2snuEFPFzXSbqHZdfQgBpiUJMFte/V9qudT2PoZuUZK5yo8uDSR7Sspo70Oms116p3apfXSPkN2JpMzA4xas3/3YyLz1wlKF8vBV6eRFozuf0p6BHA9zhFnv+jHr6yGboj5DxvvR4+W57dwCW985mLp1qEu9qIh0+2droXzcGmIN4dKlduMx6+FXhP7N6YGXc26uHbgZcXTUHtgR3NqI7Ywg7b/Hr4q1infRGTLi/iN13UNj/eXSWdvJL+UkaiKeAtuLX3pfIZuFrmPMyQjYorP2rG8npd+w90icTAawctIUlhUy2C5vShB7WmUfPP8zKbcQIx8Fbzk7+/9qdgcWGAmoO/o8pyyB+mL/1ZU69DqHr4tZ9kwaMFvTzvHT2dq+S18sjTLrskLZ+pZ61KYjglaSYjiIvLNaco9ynVKjvxEIJLrw3BKGt9r+f8Xq019Grtn6f3lI2ah/euW0uasyjiOmh5Wq1cestq+vHZI806YP8W5zSt8XhPeamNw7lYk6s2CZOna99W40W1IW4tvfa9Xi2JRZLYXe6fp0exWkxeWQ4q/4ggieXSGbmIzfluTdXIMj3/fMSzqRoPU7P5g0hgtuADriPgEojwcDOmdzDp5IkUNsw4cA4+14sH7BsAl8IHbKfAtWM3zDhwaSVAM37c5mC20kd75agMxoD3VAo046ZsHiaXDtjmTP+g6JWbNsAOZvoHBWTTtubAgG3TVNbDIT86/qxVaK8APJgAPJgAPJgAPJj+AU2X1YH58OpMAAAAAElFTkSuQmCC"},{name:"R_gallery_train_char_side_png",data:"iVBORw0KGgoAAAANSUhEUgAAACIAAAAuCAYAAABNhcu5AAAAAXNSR0IArs4c6QAAAsZJREFUWIXtmM9LVFEUxz/+SKFxmnmYTi9auCgLKoXCnFqIq4J+UKAgSSD4BwQmCTaKDBnRWC5CaFEIgRCSQZSKGZQY0bSQrGYhIiklM0wDvjEN1NRa6HszThG9e1+jC8/qnvt4hw/fc+55576UQyVnf7IBLHW9AXTbBEm0dEuiRBdia2fGOoFEF1APVhtu6GO7EIwcSBxE6qlyAFRBGOka0QGWe7pY7ukCIMdeuDZd/xukUtnOE0cN3ZWv1+yn5x02HcuyUxMPszgxlFyQD9+WmewOAnDn1hcWJ4ZYnBgSUkSqWAP2WTz+LPBHcCux/aQrAhBYmqJgWypn9qbRd2WOewWfhOJIH99z7z3c3XeJrnkHvNMA0LQX2FyqqVDiiqxCjPU6KW5tJ38+13hUvHWP6XBCinwPh1AUx2/7bxr3AzDZHcTjzyJgn/3nmFI1MtbrjDnN9VQ1RADYdXqn6VhCIDaXiqZNi7xqLYhuo1druF/YAUCB7wbX3D8AjN6SNBCf7+YaX0+Jx7/FVH0ApIjMrPHFWp65A4DaumxAL1TzIFJ9JH8+l9rGbMM3IJamgCSPAYkQNNcLvS+lyGjmV6oadC8GkVNaRmTgkanhSFiR/ouqAdN2OU1YCWmQIu+IsT5+O0TbtA+A8DN/ckHiTdOmsZeY76aWgejpURQHM4NBYTWkQBTFYaTHinYvnRodosg7Ql/dmHAcoeNrc6lo4RAAI63HgJU+MjMYBHYLgUgpUlFxHk56AKgez8P/fE44ljWddRWmJZTHQ/fgOoIAR4+snCBRVYRBbC6Vzs4Hhu/1XhANJQfyN3O9epn8S3hTU4ex/jw+QMew+VnEEpBEIBEIkBwDbJnZvI3aqeoNE3jcb/pSFW9SF6wD11twnXADKzOI2X8i8SamSHSBnNIyqY+cNSDODCLDT/+4L2ob5vfmJkiibRiQX7xD6mGWPhXxAAAAAElFTkSuQmCC"},{name:"R_gallery_train_tanjiro_kamado_png",data:"iVBORw0KGgoAAAANSUhEUgAAACUAAAA0CAYAAAANFPE9AAAAAXNSR0IArs4c6QAAA8JJREFUWIXtmV9IW2cYxn8JmQMjQjA5I/5hNUNKdlFaXKHdCIOxdo6xhGkGuzOByQa7qGzQCx3BivFirKU3RYohUTqGF0vBSBFiNzZCwFEKpRfNRaQO7AxqXYtMSUPQXYQTc5JUv3NO2grLc5XznZzn+/G87/edkxPDw4vX9jhiMr5qgGqqQ4mqDiWqFwL18ey0ruv/P0nNe/p1pXUkkzLV2tAXjel2rmlSvmiMY81W3O0Sb+QtmktYk6TkdNztEve3dnX76U7KF43hbpeKQCeajdzf2sXdLmn21JWUXK7SdErBtEp3UieajUz7zEyP2Zges9G7Z+C7iy0AmvtKN1R5Ip6gldnhx7o8dUFN9bk5Y8lWjHuCVs5Yskz1uV8+lHcxTiifZ2J2E5Z2iuMTl1cI5fOafQ1aH4f7s2l6Bze5ebXQP4ZbqeK5zxYKK++Gb4vttQwX2jroeecDYW9Nq08GiiZb4DQY7ijPR5MFUPPJFu5+1AlLO0zM/iYMpglq+94y0WTngd9xXNkofHjLrNpfc/m8czEah5yKMeNIimPNVsXYnzvpl1O+anJc2YASoIff2gCQ7tgILaToUeGlafV552KYzzkreknWX1uvcJ+C/SY/FTXyLPuUZ9mn2BtM7EwuA7B3GsznnHjnYsKeqssnpwQQ9PpxuVoBSCRW6b5O8bj7/S/VWmuHkhX0+gH44m2fYvz7XB57gwls+9a9g5vcWHhBUN7FOI1DToJv+oW+3/feJouf/MPg1228bm8SnkdXT137akhxnMnt31qa/s5y82oLMz92qfYVTsq7GKdxoJPxQ1KyNygtJy6vAKjapzQndVBKUIAz3Erxs7+DUOZfVd7CUJbXODSl50ntliAENbqe5vbtUHG5V0tpLPIDDpfytrM7ojwWVc1uM5cuBXj0KMNJo63i3PZCil8+FX/gOzSp0fU0kcgwUNggy5XJ5VkzPWGy+zzznn7u7W4oJxhJVVyjG6pc5aWrJrnp28bT2BtMNOXUvYk5tHwBqQu/PwjAysoypQ8mckrznv7iWPHlRs5SsT2ISiipgNRFQFJugtWASsHWTE8qtomaQsnq6Ojkm+vjzDyYwuFyVgUqBXO4nMw8mOKPpZ84e/bd2kPJDe9ytVZt+OcpkVglkVglEhlmdD1dW6jSCcLhSEU5qykgdREOR4r7m6hUdaJsHg6rmkNVsiD4w2HgbhzraqFpH7eamOw+r2oStdcLJ3X88w8LpsnfVQGVX38cGEjGDwQz/NozWv/DSER1KFHVoUR1JKH+A/LnV8/KMvGEAAAAAElFTkSuQmCC"},{name:"R_gallery_train_hazmatSuit_png",data:"iVBORw0KGgoAAAANSUhEUgAAAB8AAAAtCAYAAABWHLCfAAAAAXNSR0IArs4c6QAAAstJREFUWIXtmE1IVFEUx/8TM+DmDbRIZQyxWcQLwWoKknBmYGYEDQU3ETaCrmpjEPPcuGjAXSBjKxczuBGy1hHpwlFynKRFjX3S0MJqnI+wongPIs2PFsO7Op/v3KcPF3ZWd87/3PM7575775sZUzB4bweHZMcOC3y04WY9k4bEZTaOhPNbRnY7jIcPicsQekPss+TKj0P+BHcBXHAGzoTg6//A/NHJM5CmGrgL4IJHwjuQXHlwNHCK+UXvPJJzHp5UADg33IxZLgD7xj4BAJJjlyF65zFjlo2DA0A6nSsAi4El3hT64J2bViTnPAysmhhYQnLOg85Nq3FwAPgeeItbP4QCX/zsCTzqSvOmosOHxGVIT8fw7OPxEk31SVMNsC4kyHAT5cWy94gBwOJKL6LReaaPjPQxDQBC/gzpyOm6Xp32h/D5PGXBPKYJL+6aYi32ddLya8Ij4Z2yYNZ9Ga21vYZUJNeyK7FsVX32zgpPuupw60ICLfb1irrTaSvrF1w20tJrdk5dQj2mCRdcu931BHMV45RYFncXf7IxpWiuZ36loV5TV2LZgoL3BVc3mdZmU01w2cixpGXn6YYK1oTLbgc6ru0mnc58LQwoOuN79Z5gTvOKJT1zPybR+6QbvyyF4cVdWuouVIzVDTfKyPBcYgIvZ89XjZFOr2BjfPjg4Je8ddgYH8b12toS7fnsHzYWXDa0tteg7vcqcokJdF3t2D9cLaDYqu1qCpgMr2T3X1n2M50Gty4kcOOmiZSw79xffH784uDgRhkZTr3heN6CujpXYlkMjm6hqfsiQv6MnhT64ZUKMhxeDqIHTIbLbgf6u1cZRF1yVRsc3WKxezUtI/9ETitriITr2biJqFWFp1JfNINS8ffsW8wbeTvvqzDvpFCL+INpNLY1a8OJRTJwWlkrSdzY1ox3ALZff+NJB9PAwO3/fwIeLfg/QXoUyIAlv9YAAAAASUVORK5CYII"},{name:"R_gallery_train_puffbird_png",data:"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"},{name:"R_gallery_train_gemini_png",data:"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"},{name:"R_gallery_train_buffalo_skull_png",data:"iVBORw0KGgoAAAANSUhEUgAAABUAAAAYCAYAAAAVibZIAAAAAXNSR0IArs4c6QAAAgJJREFUOI2llLFrE2EYxn8NaS458AQPuSWEQKGGDrYQdLGgIMbJDlI6dHI5hHKDoRTd6yAUyXJL6R/gLHRpgkKhOCiB6BCyhCbxlhtaMchpQqAOaS539L5Lrnng4z7e93ue73l57/3mNne3LsyMw/fGPwAO5FtEhe6cA7CcS2J0ZGKjxHXEvPDy46ONmXGAJCbONST9vDiA0ZEBKDRsyjktsqTunPucxkLOCrFwJoXm48JMzYaVoevVSt0NnzxZoqn2WDiTaKq9QGqw05qNaZagZpM9bmElZHetVupQsym+LgodC8tvn9YxzRKtmynfOrmtsrOt0z6t0/zZCeQGl7+isff+AIDCowesra/70oZRdM9N7bTQsNEX59EX530ihlHkT/e3mxv+hlM6Lec0ssctqnaXd/svWM4vAbCzrfO5XOHDoUVeU4QDI+4+kNcU3rx8y/3H94AjAL5++kZeU0j3HVoCXqhouu9gpSSebzx1Y+0vP0j3w6dOKGp1e6STkFYkSq/2xhcpEtblhZFF7b89LGVYJorsOqfvYCVkPv4aoEYVBajaXdCUsfuE7Ma1lMRAwJs4+62HWap21/edhFBRLRU8hqL4RFF14+6VvTc2eHYnumgYMUwQLhvljlvmBmszvvxGRx533+jIV17waTHijczFvIlZ4OXPbe5uXcykFoD/vpi1uyMtM+wAAAAASUVORK5CYII"},{name:"R_gallery_train_blackhole_png",data:"iVBORw0KGgoAAAANSUhEUgAAAFgAAAAmCAYAAABAvVyFAAAAAXNSR0IArs4c6QAAApRJREFUaIHtmrFOwzAQhn8QEhkZyoQ6VpkimFjKxhMw9C2QeIDOPABS3yIDT8AGe1EnxIiYyMBYJhiqU+yL7dhpnJyQvwWlbZrw5Xy+s3uQ55e/SETjcOwb+O8kwZFJgiOTBEcmCY7M0dg34OLubAoAWEy2xvfLKgMAPHx+DHZPoRxILNPuzqYNqbcb4GZ6jMePHwDAqtDPKatMpGhxgp/PT7Xjp++dVC6UhF+f/GivX71+xb7FIEQJVuXebnZ/uViO6QFIkixGMJerCiurDPdvG+3zy7zQ0gg/R4pkEYJtclWxy1wPZfV1Ei1R8qiC+WSmCrp4eQdQC6RjYj2faQ9gPZ81vgMYf/IbRbCtSuBy1/NZQyxH/YxNMjCe6MEEm6QST991NRAil/CVTAwpO5pgl1CCl1o05Jd50ZjU2qBzeE42lXKcmML3EkydFmDvtkzYSrAu0UuYorjtei6oSwT26xSDWuVmVPpLBbr9o31A1/ONaEAPmMWkrnJCo90rgnl31QVXTiTKKjNWDL5QZeGTmvp4yD5loDOCffKoL6uijmA65iwmW21ohuKS23btLjyfn7ZG9GARzKHhSvBha+rebPCujr5fJUZa8ongoEmuz4jmuCLMFtUuqbHyfJQc7KJtzbYLoZNhjMmzr7XmQRsNwvdh8GFO68GUWmxrwzb6Kr1CELHYo8onQkeEKY1IWIAXsWXEV8PKKgsu1WiiU0uwh8++7zQcEZueFH2rYrcusZhsG92Yi/V81pC7T7nXJyJSBFCXgqYdCp8Fd3XBCJCxFgwIEgy4dzVc8BZYilxAmGAgbF/O9L4kuYBAwUCzoaG0Adi37sfeubAhUjCRfniSaEVEmfafSYIjkwRHJgmOTBIcmT8mAoS+Ps819gAAAABJRU5ErkJggg"},{name:"R_gallery_train_flower_png",data:"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"},{name:"R_gallery_train_virgo_png",data:"iVBORw0KGgoAAAANSUhEUgAAAHIAAABACAYAAADGbyPbAAAAAXNSR0IArs4c6QAABPJJREFUeJztnWtu3DAMhJWiJ8gFA+RgBvaCe4X0R+HCUUjODPWw1jUBYxvLlih+HErZ3bhvpZSvctvL26+zHbitj90gL2I3yIvYDfIi9vtsB2ba9ny4bZ/vHxM96W9v5T/dtUZQLVsd9MuBrAH0CvCx38/3j7I9Hz9ee4/Z05YHqSqnlO+BroGoY74K1CVBWvBaAtaiYg9aJkFG2lIgW8tmJqj7mMx9kVK9PmaBXgJkz3UPBdUbJwOUgTlTsV9nHtvz8e9ouca7Z/+398qMq/hlXa/4nT1OVWSmJGU3P9aGZe8fqRFtbmpfLd9nKHOK6qxz9XlPMXXmo1dvLK8fz1/LP0+ldb/R/AYdY6BFwYrOWQFn4GXhsvNA5y2Y3rxGgBxSWqOteXROKXEZi0p1VDK90unNZe8vU8ZbbEiGsJmnbnbYchiVZ2VDwipTKauDVHkORCawailSyi2zbqtraX2v9/PLgESTZzcNTBK0wGXUyfjCJMvgjU4epOoYysioHLEBYTM+KntMX5HaonsVtU8DqQCOQCBVREGxkgOVTxYYkzzIx6ifAWptB8U6xCgOBSgCxK5pKkwWaka9p4BsGbAXRNQ/ClJmPMUHBJNZl5Oxboc4Q4lecKxNS1Ru0bjK+snGwlsGvPuS62cbyFEQETwPJguRXVuVdU8BqfbbBWRWjSrEaFJRwC2wFuhsMkX+qSAjZTaW1zlqbIFo9RFBi671rmd9sJKLjeFIRVLfa828L7hV7y9671myY2/Pn9+X2duP/R6v2YyPn6w+GD8YY/rZqvdiPUPttXX9grI1MILY8rmd8sUopl019eshx3vQPJU4lNIA0gKDFKMG66iselLow2JPeXV7dL3nj9eGPtWp/Y8sUwWlWlyCGm6tg965lrXR6tdaC70j8jnakGQ3Q/W42T0HOPqAjCZsXctMHt2LkiTa6DCv6Byb0NF8OsIdq0jrmkgZKIAqDCaplERh46KoVx0jDVKdCKsYbwykbrYcZl4ZXyN4TKWKkrUh9v0UyTqvqBkpsm5DkBB8NYAKRKU8ixA5kCMUyWYumwgMTORfpJDIZxViElQ7yGhwtkyiiaEgRkkQJYkCUwn4DIjdFYmCYgUzgsOsDSgwkYKjdg98puq0QlxCkYyCEExmbWAUHZXClmCxJVaB6LV1gJqH6DnRuuYwfbCqQ36wgVagqxCng8xAQSC865jJoj69NmvczLy9MVHZHwBRB8lmGVtemVcEjoVgwWRKZVTeWYgoGZYAqcBkYSvZywBVlI+u9xIA+T4QYn+QyjrntaFyFJ1jxmCVb8FDc1dKZ0eI/UBGAUbOZ9ZYr2927WUVFwVbSR4036VAtsBkzrPqRMmglNloXVXLORqr5Rj6Z3XROesa1Gcp3z8AzjwDwPNjEz/0Vh71gr7y0sOG/en5CJj7Pbuxf5re80/YszYSYimDn+rBZGPLxBQVZkx9wgdqHwWxlAmPZ2Fh7hZNODq/34t88az383nq9pEQSznhOTsKzOPP9XU9H06EynWmr2gOo6zr7ok5vF1otDtV+8/04f0qoozZw//MsdSTr7wHJ+xtLX175pV9Vt3s5mq0LQFyN1Q2j9YzWJkdJbsuz7KlQO7GKLHX+pNV4CoAd1sS5NFG/aJ+NVseJLKev1K8sr08yNv+2v3fRVzEbpAXsRvkRewGeRG7QV7E/gDImb5uz7STkwAAAABJRU5ErkJggg"},{name:"R_gallery_train_lavander_png",data:"iVBORw0KGgoAAAANSUhEUgAAABYAAAAZCAYAAAA14t7uAAAAAXNSR0IArs4c6QAAAOtJREFUSIntlDEKwkAQRb+yh0ghqTxCqghpFnIAra1zCUvF0jp3EA+wsE3ArXKEYJEqjTcIaBE3qEXylxhI4S+X4c3nz+zMTrftAyNoPgZ0OuAqSlBFye/BABDEPhb7Q2+dcIGaWgNKAgC8XXct7dhGYGrdNOgR7djCQiFfL0VnPeW4ipI3ICdnx6bWWJtutwDp2MtShEI6uaajCGIfQJMxs270VuSqbOPIVTkcfAmXHxthag0vS4eDv8UMjgKvTYFQSASxT30MGmyVq5IeHA32shTX47ltwMjpCDFDs5rGof+DAQCb1X0csKueW7FJLYBpa0AAAAAASUVORK5CYII"},{name:"R_gallery_train_aerial_screw_png",data:"iVBORw0KGgoAAAANSUhEUgAAAEYAAAA2CAYAAAB6DO9FAAAAAXNSR0IArs4c6QAABRRJREFUaIHtm09rG0cYxh9rZUuGCoJLA5KwsYVzCjQn4UDjmjr2IQkp0VU2PYQS40Ohn0CUfgmjEEJoHEFPLTGWDpFVkIiJySkGnSx2g8QqIBJdHGo7rJwe1rPalVb7Z2Ykrd08YLzrnZl957fvzLzv7HrkxtNfP+OLuuQbtgFelWfApKUG0lJj2GZo8gQYAkSWFKw+8wYcT4CRJWXYJnTJE2C8KE+CyQrNYZsA/7ANMFOtoiA728RYNILA9CRO3tYAAEvV44HZ4EkwRIHpScPv0nT72snbWl9BeQ5M8ifVpNB3c5blAtOTfQXlKTDXl4Pa8HErAooXoKGDyU8FEfhtgVt7j8vXgNAeczsDBZOfClJ5gxtlQntIHs4hwwinL2DyU0EA6DsEos7hwwMOM5jS91dYmwAAbGxP4P7VN9q5k3nCqvOscKjBlH4IAi2jR2xsT2D9ThOHL9vGZP6wD/djYQWIJ1B8IkJ850csrCC7HMTt1gSteeq9GeBQg5n/5xirz15q56c/3oXv+RY2cBe+5+y5z6sXx8gud0fAY9GIq1WHFg7TUNpcuQxA59Irl5E8bP/dqVKFuuOyn+Q6ssLZ/dFOH6yA0cBhzpV4rACVeAIL77cAnA0rqDGNnVYv5bRjFVgTWaGpTf56EThOxeQxPKDoFZ1RzZmcpTeLRMxmUbEbz6G2wOwGLKBoYYxFIwCsQwNj+tAEtu3tpLKGFkCv7YTNjnPSWb14xkTrd+zhuAZjB8XpXgrp/OPyNdVQOB//PGQHxzGY/FRQ68Q6rmh7JJ9k3YpyKWd42o6ectmpBfx1/+obZKrm10zBmOU0JHgj6twrOY+yioc0MFYJXieUi6D54oHldT/w/4FClu3k4RwQsi7rB1SXyqNmO3x4q9/ts2xaaUNpqXoMVA807zkvnkIWAYA9I9era/IlgJKYw3zxwBBe93ui1Xey+EQEAPy+2F7leEfaVuq5XJPweamqM6RqPWER2XUgLTXUt4/xBOaLB0gV6ojO+CFLCsR3fjUJXYwgVagjVagb4LDIDVjLJNJt4nWRZJtd08CxqkO8xYkXkDKpQp15GA1824FFXvZIR2B4dcCNtxCRsrOv/6K+L423OfYYt3C84g20Q9DVUGLpLI23EFXiCa2NQcmTn4Hw0kBfn7jZHiRlF95vobQLbK5E2jHMmSrx7nqdm+OVuLrtWdoF0mhgbcbdZjuNqHbw7ODoO6/v+L1HHyDHnL9a2RcD6oGYRQ4CvhpvATCCi874TUGxLu/UQ8lsviGRqt4jiLd8PBK62tgXA/j3z6w2hxDlyqPIlUe7ysfCCkq77U1zAMjtCLj36IOrVzBOxG2OcWLYt7ET7IsB7cdO8tEp5KNTrW6nSBvkGrGBR07FBIZ4TS8oZF4g3uIEhqH+uA/RcZ+hrpnX6MXLc5g9JhPa6xoKZjJ74mb6eCQYgLhttxJPcMnAuQylXlGpLCmIhRXNeCs4uR3B0qP0dWNhBbKkmLbHEiHrxeX7mOvLQbx64WynTN8Zu6Hl1Mv0ypVHgUXX1brE7cMhN3CISMcroIPQKbOVjFZcwNxuTSArNLUX8bWKMrDP4I1ed4rXv3zDpd0Rnv+vlJYaPd9B1yptUG6h7YsB3LrZQm5HwIO1ETxMt03Wn//989cUVpuLKxgiK0Bu9DD9GQ/WRgzHBAI5vnWz1ZcUoS9gOtWZFdtB0wMBjN42iDwJGBCY86gLve3Aoi9geug/TmqAnT6QyoAAAAAASUVORK5CYII"},{name:"R_gallery_train_wolf_png",data:"iVBORw0KGgoAAAANSUhEUgAAADoAAABNCAYAAAD3nHdRAAAAAXNSR0IArs4c6QAABCZJREFUeJztW71qG0EQHkcpgsAYF0EI1BmEevkB3Klza/IMh5sUqpIXCDiN0TMIpVSnzn1QLwTuBEKlEag7kiLMMR7vz8ze3t7J0dfc797Ot7M7OzO7d9b+1PkD/wE+1C1AKpyIvjeciNqQ5TuYd/eQ5bsq5KlMBjXRUa8Nt9tzGPXa2qLRECKDmuhic4B5dw+LzUFbtFacneZRD+oYq1jnvLtXlxUT5RXUMVaxToSmsVUapZXUhXl3X8ihaWzxGEVthpDN8h2Mem1YbA4waXWK69Dv2b7rglejtLvahPKNGd7yti7Iv4PX+Jxj0urA7fbcSxJA0XUlLY/CSIyFqQuavmV7rq0ziQuIQtKjiRjeo+f4foilpRARlVaCAmnHHSeOTgmt3+agSB2YqA5DCMlUEBEtY3GrhMZ6i6wudq2y4yQ2XEaK42PFslSKxeYA857s3aPuugiJbRBptKkEAYhFbpUYo9QzodcupM48RPWMNBFK6syD1ECKrW7TLC6FJFTzEuXumw3U8U4dkEtCNSdRTs5GFknxRqkzU8gRxakf9dowaXVgOx3D5fUAAP6FUGXG63Y6hu107H1P2uOCfV3qfiEurwfw+eEnXCyX8Pvr91fPJMExYjsdw8twCBfLJXS//AgR7w2cRKW+JJ2wUchB/y7YyV+tZwAAMOjfqcva4CRKLa5LYByLk1aneJfeSwGfjOLpxQUkw6P9VCQliJ7ArismLaXRJjsJHL4MgyoL2GSUTndq3b86Fp8kmcDTQjCA3OuoG5JMoDjD0HSyPoiNURONkm2pwoRoYVod0GQBj9oY8Yy+C0e5tB9iM9QabdJY1ciiItokw6TVatDSfhMMk9Zjq8QYSVIgZcqHNLiaKF2spUeO1XoG2+m4yBZk+c6ZLOPvcyRZCNaC53lQ+G+/HopzJEaf28rHsA3BRCX+JRV40urAy3AIj1c3sFrPYNC/g5fh0Po+RQzbEEyU7wjhrf14dVOc+5Jc+DzLd6/OYybCo3Zdn2BIgh9N4Ft2ylr6aJ6RNGMohWazlATRNYpjlmrW1/1M04lms5QE0YjiPgcUDJcoAADun58gy3ewWs/eHAGgMEpl518Xjjp60SBJ9JLlu0LDOMXcPz9FXVvxIemuFCSVAZl+yBjEBqkCybsuJZNyySIaUZObRv1bPHetmVZJPApROnfS1W5Oil7bFqa4RxQrBq5Mo77NyDZUtVc/6jzqAk9k0X0PtEfwYCHWfzZJpxfTvVTJ8SRW12VkUqVljjLdGYKoGqV/O1BH3nbPVM73rVBEI0qNi2lD1WJzMFpSXg6v0frGimCiEcVNVQi+oQqfce2YyiFC/0MzIakLaNOqDabfRkIRjehic3gTbPO5z6RVU7kqEI0odelc+4y418PL4TU6CrGM0Wl6eW84EX1v+AvBMuYZa5vAVwAAAABJRU5ErkJggg"},{name:"R_gallery_train_desertRainFrog_png",data:"iVBORw0KGgoAAAANSUhEUgAAABkAAAAVCAYAAACzK0UYAAAAAXNSR0IArs4c6QAAAgBJREFUSIm1lTFoE1EYx3+JhmQ5l+rWIpUsQomBDh64dLnJ5cYOgXTKgWYQRMjeRTgcBClctkIpji5ONwvnUKhHwEVSSrs0NUu7XAmmDsl7ee/ea6JiPzju47uX7/f/f+/epbC19eqaW47ibQMA7v7pwrWjobXeW136d0i+aSsoyDyJM1yvAkA3Gi6EFfJ7Ipq3ggJJnAHgehUtt0U3uia9GFN88mC+k7WjoVSsqrWF+jyJM1pBhSQesXd4boCMjd/YPmNj+8zIVRfClc1doz5i/O1c6ynHpbr428i72jssaW6sG+/4gbXZ5afIaJoHTeqZNjYN4vgBzWc7EO7I2u6XFwbc82dQxw9wieY61Z2cfGb348NJvvJcc+D4gbznoWotfvnegMiN760u0dw81oDiso1PjC4v0utU8TpVO0T++OB0purtDw3orC9Pcpv6aT3fA3KHUbx6H97cmTRaX5YL37VOAHjdXTEdKKK8TpXm5vH8t6tRH9EOmcJmimqPrkj7ZS4PTkniTI5EhbtexXBhhQDU7hXZHwxoh/clOO2XSS/GUwEl3GkzFd4OfwEYJ96ApP0y+4MBtaePAbTT28t+yno7FPUSjfoV3aisPVfD2Pg8QLhQ66raRn1kG4YWxldYDeHiJoUA6dfvMr9pzdw/LaG2hvn5XtRY67NwxX+I37Uw8iYQrgwVAAAAAElFTkSuQmCC"},{name:"R_gallery_train_bill_cipher_gif",data:"R0lGODdhKwArAHcAACH/C05FVFNDQVBFMi4wAwEAAAAh+QQECgAAACwAAAAAKwArAIMAAAB1BQAHfSK8IQrNVTIon09OxYDxr43i4sAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEvBDISau9OOvNu/9gKI5kaZ7AgI7qChJuLM90HdRbi1+qvk+BGyHgc+laN8lhUJwNghMCoRmTFgmH31MCAxBXhsuXgBggYMFmuGMwCC5dRFkuIRYF7Q7+TQl0yWZdT0wTex94bgB4WRRdEwNTA4h8IIgGfhtDUokmhIVhnEpSKJA6lm2UQysHjBKGho8rWx5fJnZMUktMQbdSqjFrFcE1wxPFMwIFFQWUOMoUzz/MhdE/lM0/2drb3N3e3yERACH5BAUKAAAALAoABQAVABkAggAAAAAAAHUFALwhCs1VMk7FgPGvjQAAAANuCLo6/BCaSGGoGNzMu8/C9xCiYhgBCThdCBAhyw1X4KiPu+grgVe2jYaWsfEAAhlFQBAqLoJjA4CKOB8DJUTbcFwZhRtjAMtMmgtCFZMqFHbSCGwTEHytskF8OYn5slk+BoCEcwGHhwWIi4qLAQkAIfkEBQoAAAAsBQAGAB8AFwCDAAAAAAAAdQUAB30ivCEKzVUyTsWA8a+N4uLAAAAAAAAAAAAAAAAAAAAAAAAAAAAABIsQyElpqDjrzbv/YPgRIkiWHVEc0olWxWsCqrwFl5gDQksJO5MLELO1CKcisWSg1CYFBAGhHEqaAINhQCmeEBPwEjPQBspcyaEgSEIlhUIQfTlruWUXTp4LFLYAZVs7OIIGPRVBNAJag4oAOHsUZVlpEkCRIpRNgJchVoFnRhY4kKVdICxOKnFrE6ARACH5BAUKAAAALAsABQAUACAAggAAAAAAAHUFAAd9IrwhCs1VMiifT/GvjQNUCLog/DDKSauV5MKQNStKZwUA6AEc0JEnylYmJbJxyxwRaYpfVOAH3uK3eWGMrgrBYRMqahqcRQjF2IbXw69QEHFVGeJ1TC6bNwvkxPBgXwYLeCQBACH5BAUKAAAALAoABQAVAB0AggAAAAAAAHUFAAd9IrwhCs1VMk7FgPGvjQNyCLoa/BCSSGW9gEwcSeFQ8YFP4AAC2aTASQaE+y4yJ0wEC8pFTeW63ObhcYweB0/EBBDpFKzn4xYpSBk+Ro9C/V0Bg2ElPD1SrBoaSTTsYqyZlhizgQlM+Lw+kOIXNBoif0CAbDkqiIkGNQEGHAMRkA8JADs"}],Re.count=0,xe.add(bs.updateCursor,-1),ui.__toStr={}.toString,d.maxHeight=80,d.xOffset=50,d.xSpacing=5,d.railY=(d.middleY=52)-Math.floor(d.maxHeight/2)-4-3,d.trackY=d.middleY+Math.floor(d.maxHeight/2)+2+2,aA.GUID=0,oA.SOFTWARE_DRIVER=!1,oA.ANTIALIASING=0,kA.UID=0,kA.CACHE=new Ue,EA.ALLOW_WEBGL2=!0,EA.BLACK=new dA(0,0,0,0),EA.outOfMemoryCheck=!1,EA.TFILTERS=[[[9728,9728],[9729,9729]],[[9728,9984],[9729,9985]],[[9728,9986],[9729,9987]]],EA.TWRAP=[33071,10497],EA.FACES=[0,1028,1029,1032],EA.BLEND=[1,0,770,768,772,774,771,769,773,775,32769,32771,32770,32772,776],EA.COMPARE=[519,512,514,517,516,518,513,515],EA.STENCIL_OP=[7680,0,7681,7682,34055,7683,34056,5386],EA.OP=[32774,32778,32779,32775,32776],EA.CUBE_FACES=[34069,34070,34071,34072,34073,34074],EA.CBUFFERS=function(A){for(var t=[],e=0;e<32;){for(var s=[],i=0,r=e++;i<r;){var n=i++;s.push(36064+n)}t.push(s)}return t}(),QA.ALL_FLAGS=nA.__empty_constructs__.slice(),ZA.defaultKillAlphaThreshold=.5,ZA.loadingTextureColor=-65281,qA.current=new qA("Default"),et.UID=0,et.PREVENT_AUTO_DISPOSE=2147483647,et.nativeFormat=tt.RGBA,nt.__meta__={obj:{ignore:["shader"]}},ht.SRC="HXSLF2gzZC5zaGFkZXIuU2NyZWVuU2hhZGVyBwEFaW5wdXQNAQICCHBvc2l0aW9uBQoBAQADAnV2BQoBAQABAAAEBWZsaXBZAwIAAAUGb3V0cHV0DQICBghwb3NpdGlvbgUMBAUABwVjb2xvcgUMBAUABAAACApwaXhlbENvbG9yBQwEAAAJDGNhbGN1bGF0ZWRVVgUKBAAACghfX2luaXRfXw4GAAALBnZlcnRleA4GAAACAgoAAAUCBgQCBwUMAggFDAUMBgQCCQUKAgMFCgUKAAALAAAFAQYEAgYFDAkDKg4ECgICBQoAAAMGAQoCAgUKBAADAgQDAwEDAAAAAAAAAAADAQMAAAAAAADwPwMFDAUMAA",lt.SRC="HXSLHWgzZC5wYXNzLl9Cb3JkZXIuQm9yZGVyU2hhZGVyCQEFaW5wdXQNAQICCHBvc2l0aW9uBQoBAQADAnV2BQoBAQABAAAEBWZsaXBZAwIAAAUGb3V0cHV0DQICBghwb3NpdGlvbgUMBAUABwVjb2xvcgUMBAUABAAACApwaXhlbENvbG9yBQwEAAAJDGNhbGN1bGF0ZWRVVgUKBAAACgVjb2xvcgUMAgAACwhfX2luaXRfXw4GAAAMBnZlcnRleA4GAAANCGZyYWdtZW50DgYAAAMCCwAABQIGBAIHBQwCCAUMBQwGBAIJBQoCAwUKBQoAAAwAAAUBBgQCBgUMCQMqDgQKAgIFCgAAAwYBCgICBQoEAAMCBAMDAQMAAAAAAAAAAAMBAwAAAAAAAPA/AwUMBQwAAQ0AAAUBBgQCCAUMAgoFDAUMAA",ut.SRC="HXSLHmgzZC5wYXNzLl9Db3B5LkFycmF5Q29weVNoYWRlcgoBBWlucHV0DQECAghwb3NpdGlvbgUKAQEAAwJ1dgUKAQEAAQAABAVmbGlwWQMCAAAFBm91dHB1dA0CAgYIcG9zaXRpb24FDAQFAAcFY29sb3IFDAQFAAQAAAgKcGl4ZWxDb2xvcgUMBAAACQxjYWxjdWxhdGVkVVYFCgQAAAoHdGV4dHVyZQsCAAALBWxheWVyAQIAAAwIX19pbml0X18OBgAADQZ2ZXJ0ZXgOBgAADghmcmFnbWVudA4GAAADAgwAAAUCBgQCBwUMAggFDAUMBgQCCQUKAgMFCgUKAAANAAAFAQYEAgYFDAkDKg4ECgICBQoAAAMGAQoCAgUKBAADAgQDAwEDAAAAAAAAAAADAQMAAAAAAADwPwMFDAUMAAEOAAAFAQYEAggFDAkDIQ4CAgoLCQMpDgICCQUKCQMmDgECCwEDBQsFDAUMAA",_t.SRC="HXSLGWgzZC5wYXNzLl9Db3B5LkNvcHlTaGFkZXIJAQVpbnB1dA0BAgIIcG9zaXRpb24FCgEBAAMCdXYFCgEBAAEAAAQFZmxpcFkDAgAABQZvdXRwdXQNAgIGCHBvc2l0aW9uBQwEBQAHBWNvbG9yBQwEBQAEAAAICnBpeGVsQ29sb3IFDAQAAAkMY2FsY3VsYXRlZFVWBQoEAAAKB3RleHR1cmUKAgAACwhfX2luaXRfXw4GAAAMBnZlcnRleA4GAAANCGZyYWdtZW50DgYAAAMCCwAABQIGBAIHBQwCCAUMBQwGBAIJBQoCAwUKBQoAAAwAAAUBBgQCBgUMCQMqDgQKAgIFCgAAAwYBCgICBQoEAAMCBAMDAQMAAAAAAAAAAAMBAwAAAAAAAPA/AwUMBQwAAQ0AAAUBBgQCCAUMCQMhDgICCgoCCQUKBQwFDAA",dt.SRC="HXSLIWgzZC5wYXNzLl9DdWJlQ29weS5DdWJlQ29weVNoYWRlcgoBBWlucHV0DQECAghwb3NpdGlvbgUKAQEAAwJ1dgUKAQEAAQAABAVmbGlwWQMCAAAFBm91dHB1dA0CAgYIcG9zaXRpb24FDAQFAAcFY29sb3IFDAQFAAQAAAgKcGl4ZWxDb2xvcgUMBAAACQxjYWxjdWxhdGVkVVYFCgQAAAoHdGV4dHVyZQwCAAALA21hdAYCAAAMCF9faW5pdF9fDgYAAA0GdmVydGV4DgYAAA4IZnJhZ21lbnQOBgAAAwIMAAAFAgYEAgcFDAIIBQwFDAYEAgkFCgIDBQoFCgAADQAABQEGBAIGBQwJAyoOBAoCAgUKAAADBgEKAgIFCgQAAwIEAwMBAwAAAAAAAAAAAwEDAAAAAAAA8D8DBQwFDAABDgAABQIIDwJ1dgUKBAAABgMGAQIJBQoBAwAAAAAAAABAAwUKAQMAAAAAAADwPwMFCgAGBAIIBQwJAyEOAgIKDAkDHw4BBgEJAykOAgIPBQoBAwAAAAAAAPA/AwULAgsGBQsFCwUMBQwA",bt.SRC="HXSLIWgzZC5wYXNzLl9IYXJkd2FyZVBpY2suRml4ZWRDb2xvcgUBB2NvbG9ySUQFDAIAAAIIdmlld3BvcnQFDAIAAAMGb3V0cHV0DQECBAhwb3NpdGlvbgUMBAMABQdjb2xvcklEBQwEAwAEAAAGBnZlcnRleA4GAAAHCGZyYWdtZW50DgYAAAIABgAABQEGBAIEBQwGAQQGAAIEBQwGAQkDKg4DCgICBQwRAAUKAQMAAAAAAAAAAAMBAwAAAAAAAAAAAwUMCgIEBQwMAAMFDAUMBQwJAyoOAwoCAgUMOQAFCgEDAAAAAAAA8D8DAQMAAAAAAADwPwMFDAUMBQwAAQcAAAUBBgQCBQUMAgEFDAUMAA",wt.STRICT=!0,Lt.SRC="HXSLF2gzZC5zaGFkZXIuQW1iaWVudExpZ2h0CgEGZ2xvYmFsDQECAgxhbWJpZW50TGlnaHQFCwABAAMQcGVyUGl4ZWxMaWdodGluZwIAAQEAAAAAAAAAAAQKcGl4ZWxDb2xvcgUMBAAABQ9saWdodFBpeGVsQ29sb3IFCwQAAAYKbGlnaHRDb2xvcgULBAAABwhhZGRpdGl2ZQICAAEAAAAAAAgIX19pbml0X18OBgAACRBfX2luaXRfX2ZyYWdtZW50DgYAAAoJY2FsY0xpZ2h0DgYAAAsGdmVydGV4DgYAAAwIZnJhZ21lbnQOBgAABQIIAAAFAQYEAgYFCwsCBwICAgULCQMpDgEBAwAAAAAAAAAAAwULBQsFCwACCQAABQEGBAIFBQsLAgcCAgIFCwkDKQ4BAQMAAAAAAAAAAAMFCwULBQsAAwoBDQpsaWdodENvbG9yBQsEAAAFCwUBDQsCBwICDQULBAYAAgIFCwYBCQMWDgIEBgMBAwAAAAAAAPA/AwICBQsFCwULAQMAAAAAAAAAAAMFCwINBQsFCwULBQsFCwAAAAsAAAUBCwcCAgMCAgaBCgIEBQySAAULCQIKDgECBgULBQsFCwAAAAEMAAAFAQsCAwIGgQoCBAUMkgAFCwkCCg4BAgUFCwULBQsAAAA",Nt.SRC="HXSLEWgzZC5zaGFkZXIuQmFzZTJkGwEFaW5wdXQNAQMCCHBvc2l0aW9uBQoBAQADAnV2BQoBAQAEBWNvbG9yBQwBAQABAAAFBm91dHB1dA0CAgYIcG9zaXRpb24FDAQFAAcFY29sb3IFDAQFAAQAAAgEdGltZQMAAAAJBnpWYWx1ZQMCAAAKB3RleHR1cmUKAgAACw5zcHJpdGVQb3NpdGlvbgUMBAAADBBhYnNvbHV0ZVBvc2l0aW9uBQwEAAANCnBpeGVsQ29sb3IFDAQAAA4MdGV4dHVyZUNvbG9yBQwEAAAPDGNhbGN1bGF0ZWRVVgUKAwAAEAppc1JlbGF0aXZlAgIAAQAAAAAAEQVjb2xvcgUMAgAAEg9hYnNvbHV0ZU1hdHJpeEEFCwIAABMPYWJzb2x1dGVNYXRyaXhCBQsCAAAUDWZpbHRlck1hdHJpeEEFCwIAABUNZmlsdGVyTWF0cml4QgULAgAAFghoYXNVVlBvcwICAAEAAAAAABcFdXZQb3MFDAIAABgJa2lsbEFscGhhAgIAAQAAAAAAGQpwaXhlbEFsaWduAgIAAQAAAAAAGhBoYWxmUGl4ZWxJbnZlcnNlBQoCAAAbCXZpZXdwb3J0QQULAgAAHAl2aWV3cG9ydEIFCwIAAB0Ob3V0cHV0UG9zaXRpb24FDAQAAB4IX19pbml0X18OBgAAHwZ2ZXJ0ZXgOBgAAIAhmcmFnbWVudA4GAAADAh4AAAUGBgQCCwUMCQMqDgMCAgUKAgkDAQMAAAAAAADwPwMFDAUMCwIQAgUDBgQKAgwFDAAAAwkDHQ4CCQMpDgIKAgsFDBEABQoBAwAAAAAAAPA/AwULAhIFCwMDBgQKAgwFDAQAAwkDHQ4CCQMpDgIKAgsFDBEABQoBAwAAAAAAAPA/AwULAhMFCwMDBgQKAgwFDDkABQoKAgsFDDkABQoFCgAGBAIMBQwCCwUMBQwABgQCDwUKCwIWAgYABgECAwUKCgIXBQw5AAUKBQoKAhcFDBEABQoFCgIDBQoFCgUKBgQCDQUMCwIQAgYBAhEFDAIEBQwFDAIEBQwFDAUMBgQCDgUMCQMhDgICCgoCDwUKBQwFDAaBAg0FDAIOBQwFDAAAHwAABQUIIQN0bXAFCwQAAAkDKQ4CCgIMBQwRAAUKAQMAAAAAAADwPwMFCwAGBAIhBQsJAykOAwkDHQ4CAiEFCwIUBQsDCQMdDgICIQULAhUFCwMBAwAAAAAAAPA/AwULBQsGBAIdBQwJAyoOAwkDHQ4CAiEFCwIbBQsDCQMdDgICIQULAhwFCwMKAgwFDDkABQoFDAUMCwIZAgaDCgIdBQwRAAUKAhoFCgUKAAAGBAIGBQwCHQUMBQwAASAAAAUCCwYOAhgCBgkKAg0FDAwAAwED/Knx0k1iUD8DAgIMAAAABgQCBwUMAg0FDAUMAA",Yt.SRC="HXSLE2gzZC5zaGFkZXIuQmFzZU1lc2gXAQZjYW1lcmENAQoCBHZpZXcHAAEAAwRwcm9qBwABAAQIcG9zaXRpb24FCwABAAUIcHJvakZsaXADAAEABghwcm9qRGlhZwULAAEABwh2aWV3UHJvagcAAQAID2ludmVyc2VWaWV3UHJvagcAAQAJBXpOZWFyAwABAAoEekZhcgMAAQALA2RpcgULAwEAAAAADAZnbG9iYWwNAgQNBHRpbWUDAAwADglwaXhlbFNpemUFCgAMAA8JbW9kZWxWaWV3BwAMAQMQEG1vZGVsVmlld0ludmVyc2UHAAwBAwAAABEFaW5wdXQNAwISCHBvc2l0aW9uBQsBEQATBm5vcm1hbAULAREAAQAAFAZvdXRwdXQNBAUVCHBvc2l0aW9uBQwEFAAWBWNvbG9yBQwEFAAXBWRlcHRoAwQUABgGbm9ybWFsBQsEFAAZCXdvcmxkRGlzdAMEFAAEAAAaEHJlbGF0aXZlUG9zaXRpb24FCwQAABsTdHJhbnNmb3JtZWRQb3NpdGlvbgULBAAAHBhwaXhlbFRyYW5zZm9ybWVkUG9zaXRpb24FCwQAAB0RdHJhbnNmb3JtZWROb3JtYWwFCwQAAB4RcHJvamVjdGVkUG9zaXRpb24FDAQAAB8KcGl4ZWxDb2xvcgUMBAAAIAVkZXB0aAMEAAAhCHNjcmVlblVWBQoEAAAiCXNwZWNQb3dlcgMEAAAjCXNwZWNDb2xvcgULBAAAJAl3b3JsZERpc3QDBAAAJQVjb2xvcgUMAgAAJg1zcGVjdWxhclBvd2VyAwIAAQcAAAAAAAAAAAAAAAAAAFlAJw5zcGVjdWxhckFtb3VudAMCAAEHAAAAAAAAAAAAAAAAAAAkQCgNc3BlY3VsYXJDb2xvcgULAgAAKQhfX2luaXRfXw4GAAAqEF9faW5pdF9fZnJhZ21lbnQOBgAAKwZ2ZXJ0ZXgOBgAALAhmcmFnbWVudA4GAAAEAikAAAULBgQCGgULAhIFCwULBgQCGwULBgECGgULCQM0DgECDwcIBQsFCwYEAh4FDAYBCQMqDgICGwULAQMAAAAAAADwPwMFDAIHBwUMBQwGBAIdBQsJAx8OAQQGAQITBQsJAzIOAQIPBwYFCwULBQsFCwYEAgsFCwkDHw4BBAYDAgQFCwIbBQsFCwULBQsFCwYEAh8FDAIlBQwFDAYEAiIDAiYDAwYEAiMFCwYBAigFCwInAwULBQsGBAIhBQoJAzoOAQYCCgIeBQwRAAUKCgIeBQwMAAMFCgUKBQoGBAIgAwYCCgIeBQwIAAMKAh4FDAwAAwMDBgQCJAMGAgkDGw4BBgMCGwULAgQFCwULAwIKAwMDAAIqAAAFBQYEAh0FCwkDHw4BAh0FCwULBQsGBAIhBQoJAzoOAQYCCgIeBQwRAAUKCgIeBQwMAAMFCgUKBQoGBAIgAwYCCgIeBQwIAAMKAh4FDAwAAwMDBgQCIgMCJgMDBgQCIwULBgECKAULAicDBQsFCwAAKwAABQIGBAIVBQwGAQIeBQwJAyoOBAEDAAAAAAAA8D8DAgUDAQMAAAAAAADwPwMBAwAAAAAAAPA/AwUMBQwFDAYEAhwFCwIbBQsFCwABLAAABQQGBAIWBQwCHwUMBQwGBAIXAwIgAwMGBAIYBQsCHQULBQsGBAIZAwIkAwMA",Xt.SRC="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",Ht.SRC="HXSLE2gzZC5zaGFkZXIuQ29sb3JBZGQDAQpwaXhlbENvbG9yBQwEAAACBWNvbG9yBQsCAAADCGZyYWdtZW50DgYAAAEBAwAABQEGgAoCAQUMkgAFCwICBQsFCwA",Kt.SRC="HXSLE2gzZC5zaGFkZXIuQ29sb3JLZXkDAQhjb2xvcktleQUMAgAAAgx0ZXh0dXJlQ29sb3IFDAQAAAMIZnJhZ21lbnQOBgAAAQEDAAAFAggEBWNkaWZmBQwEAAAGAwICBQwCAQUMBQwACwYJCQMdDgICBAUMAgQFDAMBA/Fo44i1+OQ+AwIMAAAAAA",Jt.SRC="HXSLFmgzZC5zaGFkZXIuQ29sb3JNYXRyaXgDAQpwaXhlbENvbG9yBQwEAAACBm1hdHJpeAcCAAADCGZyYWdtZW50DgYAAAEBAwAABQEGBAIBBQwJAyoOAgoEBgEJAyoOAgoCAQUMkgAFCwEDAAAAAAAA8D8DBQwCAgcFDAUMkgAFCwoEBgECAQUMAgIHBQwFDAwAAwUMBQwA",jt.SRC="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",qt.SRC="HXSLFWgzZC5zaGFkZXIuR2VuVGV4dHVyZQoBBWlucHV0DQECAghwb3NpdGlvbgUKAQEAAwJ1dgUKAQEAAQAABAVmbGlwWQMCAAAFBm91dHB1dA0CAgYIcG9zaXRpb24FDAQFAAcFY29sb3IFDAQFAAQAAAgKcGl4ZWxDb2xvcgUMBAAACQxjYWxjdWxhdGVkVVYFCgQAAAoEbW9kZQECAAEAAAAAAAsFY29sb3IFDAIAAAwIX19pbml0X18OBgAADQZ2ZXJ0ZXgOBgAADghmcmFnbWVudA4GAAADAgwAAAUCBgQCBwUMAggFDAUMBgQCCQUKAgMFCgUKAAANAAAFAQYEAgYFDAkDKg4ECgICBQoAAAMGAQoCAgUKBAADAgQDAwEDAAAAAAAAAAADAQMAAAAAAADwPwMFDAUMAAEOAAAFARMEAgoBAQEBAQIAAAAAAQUBBgQCCAUMCwYHCQMbDgEKAgYFDBEABQoDAQMAAAAAAADwPwMCCQMqDgEBAwAAAAAAAAAAAwUMAgsFDAUMBQwAAAAA",$t.SRC="HXSLFWgzZC5zaGFkZXIuTGluZVNoYWRlcgwBBmNhbWVyYQ0BAwIEdmlldwcAAQADBHByb2oHAAEABAh2aWV3UHJvagcAAQAAAAAFBmdsb2JhbA0CAgYJcGl4ZWxTaXplBQoABQAHCW1vZGVsVmlldwcABQEDAAAACAVpbnB1dA0DAwkIcG9zaXRpb24FCwEIAAoGbm9ybWFsBQsBCAALAnV2BQoBCAABAAAMBm91dHB1dA0EAQ0IcG9zaXRpb24FDAQMAAQAAA4RdHJhbnNmb3JtZWROb3JtYWwFCwQAAA8TdHJhbnNmb3JtZWRQb3NpdGlvbgULBAAAEBFwcm9qZWN0ZWRQb3NpdGlvbgUMBAAAEQtsZW5ndGhTY2FsZQMCAAASBXdpZHRoAwIAABMEcGRpcgUMBAAAFAhfX2luaXRfXw4GAAAVBnZlcnRleA4GAAACAhQAAAUBBQUIFgNkaXIFCwQAAAYBAgoFCwkDMg4BAgcHBgULAAYEAhMFDAYBCQMqDgIGAQIWBQsJAzIOAQICBwYFCwEDAAAAAAAA8D8DBQwCAwcFDAUMBoEKAhMFDBEABQoGAgEDAAAAAAAA8D8DCQMNDgEGAAYBCgITBQwAAAMKAhMFDAAAAwMGAQoCEwUMBAADCgITBQwEAAMDAwMDBQoGgAIPBQsGAQYBAhYFCwoCCwUKAAADBQsCEQMFCwULBgQCDgULCQMfDgECFgULBQsFCwAAABUAAAUBBoAKAhAFDBEABQoGAQYBBgEGAQQGAQoCEwUMBQAFCgkDKA4CAQMAAAAAAADwPwMBAwAAAAAAAPC/AwUKBQoFCgQGAwoCCwUKBAADAQMAAAAAAADgPwMDAwUKCgIQBQwIAAMFCgIGBQoFCgISAwUKBQoA",Ae.SRC="HXSLF2gzZC5zaGFkZXIuTWluTWF4U2hhZGVyCwEFaW5wdXQNAQICCHBvc2l0aW9uBQoBAQADAnV2BQoBAQABAAAEBWZsaXBZAwIAAAUGb3V0cHV0DQICBghwb3NpdGlvbgUMBAUABwVjb2xvcgUMBAUABAAACApwaXhlbENvbG9yBQwEAAAJDGNhbGN1bGF0ZWRVVgUKBAAACgR0ZXhBCgIAAAsEdGV4QgoCAAAMBWlzTWF4AgIAAQAAAAAADQhfX2luaXRfXw4GAAAOBnZlcnRleA4GAAAPCGZyYWdtZW50DgYAAAMCDQAABQIGBAIHBQwCCAUMBQwGBAIJBQoCAwUKBQoAAA4AAAUBBgQCBgUMCQMqDgQKAgIFCgAAAwYBCgICBQoEAAMCBAMDAQMAAAAAAAAAAAMBAwAAAAAAAPA/AwUMBQwAAQ8AAAUDCBABYQUMBAAACQMhDgICCgoCCQUKBQwACBEBYgUMBAAACQMhDgICCwoCCQUKBQwABgQCCAUMCwIMAgkDFg4CAhAFDAIRBQwFDAkDFQ4CAhAFDAIRBQwFDAUMBQwA",te.SRC="HXSLG2gzZC5zaGFkZXIuQ3ViZU1pbk1heFNoYWRlcgwBBWlucHV0DQECAghwb3NpdGlvbgUKAQEAAwJ1dgUKAQEAAQAABAVmbGlwWQMCAAAFBm91dHB1dA0CAgYIcG9zaXRpb24FDAQFAAcFY29sb3IFDAQFAAQAAAgKcGl4ZWxDb2xvcgUMBAAACQxjYWxjdWxhdGVkVVYFCgQAAAoEdGV4QQwCAAALBHRleEIMAgAADAVpc01heAICAAEAAAAAAA0DbWF0BgIAAA4IX19pbml0X18OBgAADwZ2ZXJ0ZXgOBgAAEAhmcmFnbWVudA4GAAADAg4AAAUCBgQCBwUMAggFDAUMBgQCCQUKAgMFCgUKAAAPAAAFAQYEAgYFDAkDKg4ECgICBQoAAAMGAQoCAgUKBAADAgQDAwEDAAAAAAAAAAADAQMAAAAAAADwPwMFDAUMAAEQAAAFBQgRAnV2BQoEAAAGAwYBAgkFCgEDAAAAAAAAAEADBQoBAwAAAAAAAPA/AwUKAAgSA2RpcgULBAAABgEJAykOAgIRBQoBAwAAAAAAAPA/AwULAg0GBQsACBMBYQUMBAAACQMhDgICCgwCEgULBQwACBQBYgUMBAAACQMhDgICCwwCEgULBQwABgQCCAUMCwIMAgkDFg4CAhMFDAIUBQwFDAkDFQ4CAhMFDAIUBQwFDAUMBQwA",ee.SRC="HXSLFGgzZC5zaGFkZXIuTm9ybWFsTWFwCgEGY2FtZXJhDQECAghwb3NpdGlvbgULAAEAAwNkaXIFCwMBAAAAAAQGZ2xvYmFsDQIBBQltb2RlbFZpZXcHAAQBAwAAAAYFaW5wdXQNAwIHBm5vcm1hbAULAQYACAd0YW5nZW50BQsBBgABAAAJB3RleHR1cmUKAgAACgxjYWxjdWxhdGVkVVYFCgQAAAsTdHJhbnNmb3JtZWRQb3NpdGlvbgULBAAADBF0cmFuc2Zvcm1lZE5vcm1hbAULBAAADRJ0cmFuc2Zvcm1lZFRhbmdlbnQFDAMAAA4OX19pbml0X192ZXJ0ZXgOBgAADwhmcmFnbWVudA4GAAACAg4AAAUBBgQCDQUMCQMqDgIGAQIIBQsJAzIOAQIFBwYFCwsGBwkDHQ4CAggFCwIIBQsDAQMAAAAAAADgPwMCAQMAAAAAAADwPwMBAwAAAAAAAPC/AwMFDAUMAAEPAAAFBQgQAW4FCwQAAAIMBQsACBECbmYFCwQAAAkDOQ4BCQMhDgICCQoCCgUKBQwFCwAIEgR0YW5YBQsEAAAJAx8OAQoCDQUMkgAFCwULAAgTBHRhblkFCwQAAAYBCQMeDgICEAULAhIFCwULBwMKAg0FDAwAAwMFCwAGBAIMBQsJAx8OAQQGAAYABgEKAhEFCwAAAwISBQsFCwYBCgIRBQsEAAMCEwULBQsFCwYBCgIRBQsIAAMCEAULBQsFCwULBQsFCwA",se.SRC="HXSLEWgzZC5zaGFkZXIuU2hhZG93BgEGc2hhZG93DQEFAgNtYXARAQABAAMEcHJvaggAAQAEBWNvbG9yBQsAAQAFBXBvd2VyAwABAAYEYmlhcwMAAQAAAAAHCnBpeGVsQ29sb3IFDAQAAAgTdHJhbnNmb3JtZWRQb3NpdGlvbgULBAAACRhwaXhlbFRyYW5zZm9ybWVkUG9zaXRpb24FCwQAAAoJc2hhZG93UG9zBQsEAAEBCwhmcmFnbWVudA4GAAABAQsAAAUGCAwJc2hhZG93UG9zBQsEAAAGAQIJBQsCAwgFCwAIDQVkZXB0aAMEAAAJAz8OAgICEQEJAzoOAQoCDAULEQAFCgUKAwAIDgR6TWF4AwQAAAkDNQ4BCgIMBQsIAAMDAAgPBWRlbHRhAwQAAAYDCQMVDgIEBgACDQMCBgMDAwIOAwMCDgMDAAgQBXNoYWRlAwQAAAkDNQ4BCQMJDgEGAQIFAwIPAwMDAwAGgQoCBwUMkgAFCwYABgEEBgMBAwAAAAAAAPA/AwIQAwMDCgIEBQuSAAULBQsCEAMFCwULAA",ie.SRC="HXSLE2gzZC5zaGFkZXIuU2tpbkJhc2UFARByZWxhdGl2ZVBvc2l0aW9uBQsEAAACE3RyYW5zZm9ybWVkUG9zaXRpb24FCwQAAAMRdHJhbnNmb3JtZWROb3JtYWwFCwQAAAQITWF4Qm9uZXMBAgABAAAAAAAFDWJvbmVzTWF0cml4ZXMPCAQCAAEIAA",re.SRC="HXSLD2gzZC5zaGFkZXIuU2tpbggBEHJlbGF0aXZlUG9zaXRpb24FCwQAAAITdHJhbnNmb3JtZWRQb3NpdGlvbgULBAAAAxF0cmFuc2Zvcm1lZE5vcm1hbAULBAAABAhNYXhCb25lcwECAAEAAAAAAAUNYm9uZXNNYXRyaXhlcw8IBAIAAQgGBWlucHV0DQEEBwhwb3NpdGlvbgULAQYACAZub3JtYWwFCwEGAAkHd2VpZ2h0cwULAQYACgdpbmRleGVzCQQAAAABBgABAAALEnRyYW5zZm9ybWVkVGFuZ2VudAUMBAAADAZ2ZXJ0ZXgOBgAAAQAMAAAFAgYEAgIFCwYABgAGAQQGAQIBBQsRAgUPCAQJAyUOAQoCCgkEAAAAAAADAQgFCwULCgIJBQsAAAMFCwYBBAYBAgEFCxECBQ8IBAkDJQ4BCgIKCQQAAAAEAAMBCAULBQsKAgkFCwQAAwULBQsGAQQGAQIBBQsRAgUPCAQJAyUOAQoCCgkEAAAACAADAQgFCwULCgIJBQsIAAMFCwULBQsGBAIDBQsJAx8OAQYABgAGAQQGAQIIBQsJAzIOARECBQ8IBAkDJQ4BCgIKCQQAAAAAAAMBCAYFCwULCgIJBQsAAAMFCwYBBAYBAggFCwkDMg4BEQIFDwgECQMlDgEKAgoJBAAAAAQAAwEIBgULBQsKAgkFCwQAAwULBQsGAQQGAQIIBQsJAzIOARECBQ8IBAkDJQ4BCgIKCQQAAAAIAAMBCAYFCwULCgIJBQsIAAMFCwULBQsFCwA",ne.SRC="HXSLFmgzZC5zaGFkZXIuU2tpblRhbmdlbnQIARByZWxhdGl2ZVBvc2l0aW9uBQsEAAACE3RyYW5zZm9ybWVkUG9zaXRpb24FCwQAAAMRdHJhbnNmb3JtZWROb3JtYWwFCwQAAAQITWF4Qm9uZXMBAgABAAAAAAAFDWJvbmVzTWF0cml4ZXMPCAQCAAEIBgVpbnB1dA0BBQcIcG9zaXRpb24FCwEGAAgGbm9ybWFsBQsBBgAJB3RhbmdlbnQFCwEGAAoHd2VpZ2h0cwULAQYACwdpbmRleGVzCQQAAAABBgABAAAMEnRyYW5zZm9ybWVkVGFuZ2VudAUMBAAADQZ2ZXJ0ZXgOBgAAAQANAAAFAwYEAgIFCwYABgAGAQQGAQIBBQsRAgUPCAQJAyUOAQoCCwkEAAAAAAADAQgFCwULCgIKBQsAAAMFCwYBBAYBAgEFCxECBQ8IBAkDJQ4BCgILCQQAAAAEAAMBCAULBQsKAgoFCwQAAwULBQsGAQQGAQIBBQsRAgUPCAQJAyUOAQoCCwkEAAAACAADAQgFCwULCgIKBQsIAAMFCwULBQsGBAIDBQsJAx8OAQYABgAGAQQGAQIIBQsJAzIOARECBQ8IBAkDJQ4BCgILCQQAAAAAAAMBCAYFCwULCgIKBQsAAAMFCwYBBAYBAggFCwkDMg4BEQIFDwgECQMlDgEKAgsJBAAAAAQAAwEIBgULBQsKAgoFCwQAAwULBQsGAQQGAQIIBQsJAzIOARECBQ8IBAkDJQ4BCgILCQQAAAAIAAMBCAYFCwULCgIKBQsIAAMFCwULBQsFCwYEAgwFDAkDKg4CCQMfDgEGAAYABgEEBgEKAgkFC5IABQsJAzIOARECBQ8IBAkDJQ4BCgILCQQAAAAAAAMBCAYFCwULCgIKBQsAAAMFCwYBBAYBCgIJBQuSAAULCQMyDgERAgUPCAQJAyUOAQoCCwkEAAAABAADAQgGBQsFCwoCCgULBAADBQsFCwYBBAYBCgIJBQuSAAULCQMyDgERAgUPCAQJAyUOAQoCCwkEAAAACAADAQgGBQsFCwoCCgULCAADBQsFCwULCgIMBQwMAAMFDAUMAA",ae.SRC="HXSLGmgzZC5zaGFkZXIuU3BlY3VsYXJUZXh0dXJlBAEHdGV4dHVyZQoCAAACDGNhbGN1bGF0ZWRVVgUKBAAAAwlzcGVjQ29sb3IFCwQAAAQIZnJhZ21lbnQOBgAAAQEEAAAFAQaBAgMFCwoJAyEOAgIBCgICBQoFDJIABQsFCwA",he.SRC="HXSLEmgzZC5zaGFkZXIuVGV4dHVyZQsBBWlucHV0DQEBAgJ1dgUKAQEAAQAAAwhhZGRpdGl2ZQICAAEAAAAAAAQJa2lsbEFscGhhAgIAAQAAAAAABQ1zcGVjdWxhckFscGhhAgIAAQAAAAAABhJraWxsQWxwaGFUaHJlc2hvbGQDAgABBwAAAAAAAAAAAAAAAAAA8D8HB3RleHR1cmUKAgAACAxjYWxjdWxhdGVkVVYFCgQAAAkKcGl4ZWxDb2xvcgUMBAAACglzcGVjQ29sb3IFCwQAAAsGdmVydGV4DgYAAAwIZnJhZ21lbnQOBgAAAgALAAAFAQYEAggFCgICBQoFCgABDAAABQQIDQFjBQwEAAAJAyEOAgIHCgIIBQoFDAALBg4CBAIGCQYDCgINBQwMAAMCBgMDAQMAAAAAAAAAAAMCAgwAAAALAgMCBoACCQUMAg0FDAUMBoECCQUMAg0FDAUMAAsCBQIGgQIKBQsKAg0FDP4ABQsFCwAAAA",le.SRC="HXSLEmgzZC5zaGFkZXIuVVZEZWx0YQQBB3V2RGVsdGEFCgIAAAIHdXZTY2FsZQUKAgAAAwxjYWxjdWxhdGVkVVYFCgQAAAQGdmVydGV4DgYAAAEABAAABQEGBAIDBQoGAAYBAgMFCgICBQoFCgIBBQoFCgUKAA",oe.SRC="HXSLG2gzZC5zaGFkZXIuVmVydGV4Q29sb3JBbHBoYQQBBWlucHV0DQEBAgVjb2xvcgUMAQEAAQAAAwpwaXhlbENvbG9yBQwEAAAECGFkZGl0aXZlAgIAAQAAAAAABQhmcmFnbWVudA4GAAABAQUAAAUBCwIEAgaAAgMFDAICBQwFDAaBAgMFDAICBQwFDAAA",ue.SRC="HXSLFmgzZC5zaGFkZXIuVm9sdW1lRGVjYWwYAQZjYW1lcmENAQoCBHZpZXcHAAEAAwRwcm9qBwABAAQIcG9zaXRpb24FCwABAAUIcHJvakZsaXADAAEABghwcm9qRGlhZwULAAEABwh2aWV3UHJvagcAAQAID2ludmVyc2VWaWV3UHJvagcAAQAJBXpOZWFyAwABAAoEekZhcgMAAQALA2RpcgULAwEAAAAADAZnbG9iYWwNAgQNBHRpbWUDAAwADglwaXhlbFNpemUFCgAMAA8JbW9kZWxWaWV3BwAMAQMQEG1vZGVsVmlld0ludmVyc2UHAAwBAwAAABEFaW5wdXQNAwISCHBvc2l0aW9uBQsBEQATBm5vcm1hbAULAREAAQAAFAZvdXRwdXQNBAUVCHBvc2l0aW9uBQwEFAAWBWNvbG9yBQwEFAAXBWRlcHRoAwQUABgGbm9ybWFsBQsEFAAZCXdvcmxkRGlzdAMEFAAEAAAaEHJlbGF0aXZlUG9zaXRpb24FCwQAABsTdHJhbnNmb3JtZWRQb3NpdGlvbgULBAAAHBhwaXhlbFRyYW5zZm9ybWVkUG9zaXRpb24FCwQAAB0RdHJhbnNmb3JtZWROb3JtYWwFCwQAAB4RcHJvamVjdGVkUG9zaXRpb24FDAQAAB8KcGl4ZWxDb2xvcgUMBAAAIAVkZXB0aAMEAAAhCHNjcmVlblVWBQoEAAAiCXNwZWNQb3dlcgMEAAAjCXNwZWNDb2xvcgULBAAAJAl3b3JsZERpc3QDBAAAJQhkZXB0aE1hcBEBAAAAJgVzY2FsZQUKAgAAJwZub3JtYWwFCwIAACgHdGFuZ2VudAULAgAAKQppc0NlbnRlcmVkAgIAAQAAAAAAKgxjYWxjdWxhdGVkVVYFCgQAACsSdHJhbnNmb3JtZWRUYW5nZW50BQwEAAAsDl9faW5pdF9fdmVydGV4DgYAAC0IZnJhZ21lbnQOBgAAAgIsAAAFAgYEAh0FCwkDHw4BBAYBAicFCwkDMg4BAg8HBgULBQsFCwULBgQCKwUMCQMqDgIJAx8OAQQGAQIoBQsJAzIOAQIPBwYFCwULBQsBAwAAAAAAAPA/AwUMBQwAAS0AAAUJCC4GbWF0cml4BwQAAAYBAggHAhAHBwAILwlzY3JlZW5Qb3MFCgQAAAYCCgIeBQwRAAUKCgIeBQwMAAMFCgAIMANydXYFDAQAAAkDKg4DAi8FCgkDPw4CAiURAQkDOg4BAi8FCgUKAwEDAAAAAAAA8D8DBQwACDEEd3BvcwUMBAAABgECMAUMAi4HBQwACDIEcHBvcwUMBAAABgECMAUMAggHBQwABgQCHAULBgIKAjIFDJIABQsKAjIFDAwAAwULBQsGBAIqBQoGAQImBQoEBgIKAjEFDBEABQoKAjEFDAwAAwUKBQoFCgUKCwIpAgaAAioFCgEDAAAAAAAA4D8DBQoAAAsGCQkDFQ4CCQMVDgIKAioFCgAAAwoCKgUKBAADAwkDFQ4CBgMBAwAAAAAAAPA/AwoCKgUKAAADAwYDAQMAAAAAAADwPwMKAioFCgQAAwMDAwEDAAAAAAAAAAADAgwAAAAA",ce.pending=[],ce.threadCount=0,ve.DEFAULT_RESOLVER=new me,ve.BASE64="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789%:",ke.CHARS="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ke.BYTES=Be.ofString(ke.CHARS),Ze.helper=new DataView(new ArrayBuffer(8)),ts.LEN_EXTRA_BITS_TBL=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,-1,-1],ts.LEN_BASE_VAL_TBL=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],ts.DIST_EXTRA_BITS_TBL=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,-1,-1],ts.DIST_BASE_VAL_TBL=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577],ts.CODE_LENGTHS_POS=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],ls.initDone=!1,ls.keyPressed=[],ls.ALLOW_KEY_REPEAT=!1,xs.wantedFPS=60,xs.maxDeltaTime=.5,xs.smoothFactor=.95,xs.lastTimeStamp=o.now()/1e3,xs.elapsedTime=0,xs.frameCount=0,xs.dt=1/xs.wantedFPS,xs.currentDT=1/xs.wantedFPS,bs.setCursor=bs.setNativeCursor,bs.loopInit=!1,bs.fpsLimit=-1,Cs.invalidChars=new n("[^A-Za-z0-9_]","g"),Fs.LIVE_UPDATE=!1,Qs.DEFAULT_FILTER=NA.Linear,Qs.DEFAULT_ASYNC=!1,Qs.ENABLE_AUTO_WATCH=!0,js.UID=0,js.SWIZ=Ks.__empty_constructs__.slice(),js.MAX_CHANNELS_BITS=3,$s.SRC="HXSLEGh4c2wuQmF0Y2hTaGFkZXICAQtCYXRjaF9Db3VudAECAAEAAAABAAIMQmF0Y2hfQnVmZmVyEAUMAQIAAAA",_i.KWD_LIST=["input","output","discard","dvec2","dvec3","dvec4","hvec2","hvec3","hvec4","fvec2","fvec3","fvec4","int","float","bool","long","short","double","half","fixed","unsigned","superp","lowp","mediump","highp","precision","invariant","discard","struct","asm","union","template","this","packed","goto","sizeof","namespace","noline","volatile","external","flat","input","output","out","attribute","const","uniform","varying","inout","void"],_i.KWDS=function(A){for(var t=new Ue,e=0,s=_i.KWD_LIST;e<s.length;){var i=s[e];++e,t.h[i]=!0}return t}(),_i.GLOBALS=function(A){for(var t=new Ie,e=0,s=Hs.__empty_constructs__.slice();e<s.length;){var i=s[e];++e;var r=""+f.string(i);r=r.charAt(0).toLowerCase()+o.substr(r,1,null),t.set(i,r)}t.set(Hs.ToInt,"int"),t.set(Hs.ToFloat,"float"),t.set(Hs.ToBool,"bool"),t.set(Hs.LReflect,"reflect"),t.set(Hs.Mat3x4,"_mat3x4"),t.set(Hs.VertexID,"gl_VertexID"),t.set(Hs.InstanceID,"gl_InstanceID"),t.set(Hs.IVec2,"ivec2"),t.set(Hs.IVec3,"ivec3"),t.set(Hs.IVec4,"ivec4"),t.set(Hs.BVec2,"bvec2"),t.set(Hs.BVec3,"bvec3"),t.set(Hs.BVec4,"bvec4"),t.set(Hs.FragCoord,"gl_FragCoord"),t.set(Hs.FrontFacing,"gl_FrontFacing");for(i=t.iterator();i.hasNext();){var n=i.next();_i.KWDS.h[n]=!0}return t}(),_i.MAT34="struct _mat3x4 { vec4 a; vec4 b; vec4 c; };",di.UID=0,xi.SWIZ=["x","y","z","w"],wi.UID=0,yi.TVECS=new De,yi.BOPS=((Ei=Ke.__empty_constructs__.slice()).splice(Ke.OpAssignOp(null)._hx_index,0,null),Ei),yi.UNOPS=Je.__empty_constructs__.slice(),yi.TGLOBALS=Hs.__empty_constructs__.slice(),yi.TSWIZ=new De,yi.REGS=[Ks.X,Ks.Y,Ks.Z,Ks.W],yi.VKINDS=Ns.__empty_constructs__.slice(),yi.PRECS=Xs.__empty_constructs__.slice(),yi.FKIND=Zs.__empty_constructs__.slice(),yi.SIGN=9139229,Si.UNROLL_LOOPS=!1,d.main(),ce.run()}("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this);